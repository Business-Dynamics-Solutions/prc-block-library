(()=>{"use strict";const e=window.React,t=window.wp.hooks,i=window.wp.compose,n=window.wp.element,r=window.wp.data,c=window.wp.i18n,o=window.wp.blockEditor,a=window.wp.components;function s({attributes:t,setAttributes:i,clientId:n,context:r}){const{isInteractive:s,interactiveNamespace:l}=t,p=l||r?.interactiveNamespace;return(0,e.createElement)(o.InspectorControls,null,(0,e.createElement)(a.PanelBody,{title:(0,c.__)("Interactivity API")},(0,e.createElement)(a.ToggleControl,{label:(0,c.__)("Interactive","prc-block-library"),checked:s,onChange:e=>i({isInteractive:e}),help:(0,c.__)("When enabled, this block leverages the @wordpress/interactivity API.","prc-block-library")}),s&&(0,e.createElement)(a.TextControl,{label:(0,c.__)("Namespace","prc-block-library"),value:p,onChange:e=>i({interactiveNamespace:e}),help:(0,c.__)("The namespace serves as a unique identifier for this blocks interactivity context, ensuring that interactions are confined within the scope of this block or its parent.","prc-block-library")}),(0,e.createElement)(a.ExternalLink,{href:"https://developer.wordpress.org/block-editor/reference-guides/interactivity-api/api-reference/"},"API documentation")))}function l({attributes:t,setAttributes:i,clientId:n,context:r}){return(0,e.createElement)(s,{attributes:t,setAttributes:i,clientId:n,context:r})}const p="prc-block/interactivity-api";(0,t.addFilter)("editor.BlockEdit",`${p}-controls`,(0,i.createHigherOrderComponent)((t=>function(i){const{name:c,attributes:o,setAttributes:a,clientId:s,isSelected:p,context:d}=i;return(0,r.useSelect)((e=>e("core/blocks").getBlockSupport(c,"interactivity")),[c])&&p?(0,e.createElement)(n.Fragment,null,(0,e.createElement)(t,{...i}),(0,e.createElement)(l,{attributes:o,setAttributes:a,clientId:s,context:d})):(0,e.createElement)(t,{...i})}),"withPRCBlockInteractivityAPIControls"),100),(0,t.addFilter)("blocks.registerBlockType",`${p}-supports`,(e=>(e?.supports?.interactivity&&(e.attributes={...e.attributes,isInteractive:{type:"boolean",default:!1},interactiveNamespace:{type:"string"}},e.usesContext=[...e.usesContext,"interactiveNamespace"]),e)),100)})();