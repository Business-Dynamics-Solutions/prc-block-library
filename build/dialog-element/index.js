(()=>{"use strict";var e,o={1147:(e,o,t)=>{const l=window.wp.i18n,r=window.wp.blocks,i=window.prcIcons,n=window.ReactJSXRuntime,a=window.wp.element,s=(0,a.forwardRef)((function({icon:e,size:o=24,...t},l){return(0,a.cloneElement)(e,{width:o,height:o,...t,ref:l})})),c=window.wp.primitives,d=(0,n.jsx)(c.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)(c.Path,{d:"M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21ZM15.5303 8.46967C15.8232 8.76256 15.8232 9.23744 15.5303 9.53033L13.0607 12L15.5303 14.4697C15.8232 14.7626 15.8232 15.2374 15.5303 15.5303C15.2374 15.8232 14.7626 15.8232 14.4697 15.5303L12 13.0607L9.53033 15.5303C9.23744 15.8232 8.76256 15.8232 8.46967 15.5303C8.17678 15.2374 8.17678 14.7626 8.46967 14.4697L10.9393 12L8.46967 9.53033C8.17678 9.23744 8.17678 8.76256 8.46967 8.46967C8.76256 8.17678 9.23744 8.17678 9.53033 8.46967L12 10.9393L14.4697 8.46967C14.7626 8.17678 15.2374 8.17678 15.5303 8.46967Z"})}),p=window.classnames;var u=t.n(p);const b=window.wp.blockEditor,h=window.wp.components,g=window.wp.data;function m({openDialog:e,closeDialog:o,isOpen:t,clientId:l}){const{selectBlock:r}=(0,g.useDispatch)("core/block-editor"),{rootClientId:i}=(0,g.useSelect)((e=>({rootClientId:e("core/block-editor").getBlockRootClientId(l)})),[]),s=(0,a.useMemo)((()=>t?"Close Dialog":"Open Dialog"),[t]);return(0,n.jsx)(b.BlockControls,{children:(0,n.jsx)(h.ToolbarGroup,{children:(0,n.jsx)(h.ToolbarButton,{label:s,isActive:t,onClick:()=>{t?(r(i),o()):e()},children:s})})})}function k({openDialog:e,closeDialog:o,colors:t,clientId:r,context:i}){const s=i?.["dialog/autoActivationTimer"]||-1,c=i?.["dialog/animationDuration"]||500,d=i?.["dialog/type"]||"modal",{updateBlockAttributes:p}=(0,g.useDispatch)("core/block-editor"),{rootClientId:u}=(0,g.useSelect)((e=>({rootClientId:e("core/block-editor").getBlockRootClientId(r)})),[]),{backdropColor:m,setBackdropColor:k}=t,C=(0,b.__experimentalUseMultipleOriginColorsAndGradients)();return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsxs)(b.InspectorControls,{children:[(0,n.jsxs)(h.PanelBody,{title:(0,l.__)("Dialog Settings","prc-block-library"),children:[(0,n.jsx)(h.SelectControl,{label:"Dialog Type",help:"Choose the type of dialog to display. A modal dialog will block the rest of the page from being interacted with. A dialog will allow the user to interact with the rest of the page. Changing this value will close the current dialog.",value:d,options:[{label:(0,l.__)("Modal","prc-block-library"),value:"modal"},{label:(0,l.__)("Dialog","prc-block-library"),value:"dialog"}],onChange:e=>{p(u,{dialogType:e}),o()}}),"modal"===d&&(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(h.ToggleControl,{label:(0,l.__)("Auto Activation Timer","prc-block-library"),help:(0,l.__)("Automatically open the dialog after the specified time, in milliseconds.","prc-block-library"),checked:1<=s,onChange:e=>p(u,{autoActivationTimer:e?5e3:-1})}),1<=s&&(0,n.jsx)(h.__experimentalNumberControl,{label:"Activation Timer Duration",isShiftStepEnabled:!0,onChange:e=>p(u,{autoActivationTimer:e}),shiftStep:100,value:s})]})]}),(0,n.jsx)(h.PanelBody,{title:(0,l.__)("Animation","prc-block-library"),children:(0,n.jsx)(h.__experimentalNumberControl,{label:"Animation Duration",help:"The duration of the dialog animation in milliseconds.",isShiftStepEnabled:!0,onChange:e=>p(u,{animationDuration:e}),shiftStep:100,value:c})})]}),(0,n.jsx)(b.InspectorControls,{group:"color",children:(0,n.jsx)(b.__experimentalColorGradientSettingsDropdown,{settings:[{colorValue:m?.color,onColorChange:k,label:(0,l.__)("Backdrop","prc-block-library")}],panelId:r,hasColorsOrGradients:!1,disableCustomColors:!0,__experimentalIsRenderedInSidebar:!0,...C})})]})}const C=(0,b.withColors)({backdropColor:"backdrop-color"})((function({attributes:e,setAttributes:o,context:t,clientId:l,className:r,backdropColor:i,setBackdropColor:c,isSelected:p}){const C=(0,a.useMemo)((()=>t?.["dialog/widths"]||{}),[t]),w=t?.["dialog/type"]||"modal",{selectBlock:x}=(0,g.useDispatch)("core/block-editor"),{deviceType:f,rootClientId:_}=(0,g.useSelect)((e=>({deviceType:e("core/editor").getDeviceType().toLowerCase(),rootClientId:e("core/block-editor").getBlockRootClientId(l)})),[]),{updateBlockAttributes:v}=(0,g.useDispatch)("core/block-editor"),y=(0,a.useRef)(null),j=(0,a.useMemo)((()=>!!y.current&&y.current.open),[y.current,y.current?.open]),D=(0,a.useMemo)((()=>C?.[f]||0),[C,f]),I=()=>"modal"===w?y.current.showModal():y.current.show(),S=()=>{y.current.close(),x(_)},B=(0,b.useBlockProps)({ref:y,className:u()(r,{"has-backdrop-color":!!i.color||i.class,[(0,b.getColorClassName)("backdrop-color",i?.slug)]:!!i?.slug,"is-mobile":"mobile"===f}),"data-wp-dialog-type":w}),T=(0,b.useInnerBlocksProps)({className:"wp-block-prc-block-dialog-element__inner"},{templateLock:!1,__experimentalCaptureToolbars:!0});return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(k,{colors:{backdropColor:i,setBackdropColor:c},openDialog:I,closeDialog:S,clientId:l,context:t}),(0,n.jsx)(h.KeyboardShortcuts,{bindGlobal:!0,shortcuts:{esc:e=>{e.preventDefault(),S()}},children:(0,n.jsxs)("dialog",{...B,children:[(0,n.jsx)(m,{openDialog:I,closeDialog:S,isOpen:j,clientId:l}),(0,n.jsx)("button",{className:"wp-block-prc-block-dialog-element__close-button",type:"button","aria-label":"Close dialog",onClick:()=>S(),children:(0,n.jsx)(s,{icon:d})}),(0,n.jsx)(h.ResizableBox,{size:{width:"mobile"!==f?D:"auto"},minWidth:"320",maxWidth:"800",__experimentalShowTooltip:!0,__experimentalTooltipProps:{showPx:!0,fadeTimeout:1e3},enable:{top:!1,right:"mobile"!==f,bottom:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},onResizeStop:(e,o,t,l)=>{var r,i;r=f,i=l.width,v(_,{widths:{...C,[r]:parseInt(D+i,10)}})},children:(0,n.jsx)("div",{...T})})]})})]})})),w=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/dialog-element","version":"1.0.0","title":"Dialog Element","category":"media","attributes":{"allowedBlocks":{"type":"array"},"backdropColor":{"type":"string"}},"supports":{"html":false,"align":false,"inserter":false,"color":{"background":true,"text":true,"link":true,"enableContrastChecker":true,"gradients":true},"shadow":true,"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true},"spacing":{"blockGap":true,"padding":true},"typography":{"fontSize":true,"__experimentalFontFamily":true,"__experimentalDefaultControls":{"fontSize":true,"__experimentalFontFamily":true}},"interactivity":true},"usesContext":["dialog/id","dialog/className","dialog/widths","dialog/animationDuration","dialog/type","dialog/autoActivationTimer"],"parent":["prc-block/dialog"],"textdomain":"dialog-element","editorScript":"file:./index.js","editorStyle":"file:./index.css","render":"file:./render.php","style":"file:./style-index.css"}'),{name:x}=w,f={icon:function(){return(0,n.jsx)(i.Icon,{icon:"window-restore"})},edit:C,save:function({attributes:e}){return(0,n.jsx)(b.InnerBlocks.Content,{})}};(0,r.registerBlockType)(x,{...w,...f})}},t={};function l(e){var r=t[e];if(void 0!==r)return r.exports;var i=t[e]={exports:{}};return o[e](i,i.exports,l),i.exports}l.m=o,e=[],l.O=(o,t,r,i)=>{if(!t){var n=1/0;for(d=0;d<e.length;d++){for(var[t,r,i]=e[d],a=!0,s=0;s<t.length;s++)(!1&i||n>=i)&&Object.keys(l.O).every((e=>l.O[e](t[s])))?t.splice(s--,1):(a=!1,i<n&&(n=i));if(a){e.splice(d--,1);var c=r();void 0!==c&&(o=c)}}return o}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[t,r,i]},l.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return l.d(o,{a:o}),o},l.d=(e,o)=>{for(var t in o)l.o(o,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},l.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={7797:0,4425:0};l.O.j=o=>0===e[o];var o=(o,t)=>{var r,i,[n,a,s]=t,c=0;if(n.some((o=>0!==e[o]))){for(r in a)l.o(a,r)&&(l.m[r]=a[r]);if(s)var d=s(l)}for(o&&o(t);c<n.length;c++)i=n[c],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(d)},t=globalThis.webpackChunk_prc_block_library=globalThis.webpackChunk_prc_block_library||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var r=l.O(void 0,[4425],(()=>l(1147)));r=l.O(r)})();
//# sourceMappingURL=index.js.map