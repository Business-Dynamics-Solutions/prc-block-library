(()=>{"use strict";var e,t={840:()=>{const e=window.wp.blocks,t=window.wp.element,i=window.wp.blockEditor,r=window.wp.data,n=window.wp.components,s=(window.wp.coreData,window.ReactJSXRuntime);function a({attributes:e,setAttributes:t,clientId:r}){return(0,s.jsx)(i.InspectorControls,{children:(0,s.jsx)(n.PanelBody,{title:"Block Controls",children:(0,s.jsx)("p",{children:"Timeline Creation and Management Controls Here"})})})}const l=window.prcIcons,o={from:[{type:"block",blocks:["prc-block/tabs"],priority:1,transform:(t,i)=>{const r=[];return i.forEach((e=>{const{label:t}=e.attributes,i={name:"prc-block/timeline-slide",attributes:{metadata:{name:t}},innerBlocks:e.innerBlocks};r.push(i)})),(0,e.createBlock)("prc-block/timeline",{},(0,e.createBlocksFromInnerBlocksTemplate)(r))}}]},c=window.wp.i18n,p=(e=2e3,t=2025)=>{const i=[];for(let r=e;r<t;r++){const e=["prc-block/timeline-slide",{metadata:{name:r.toString()}},[["core/paragraph",{placeholder:"Add content to timeline slide here..."}]]];i.push([...e])}return i},m=[{name:"timeline-2000",title:(0,c.__)("Timeline: 2000","prc-block-library"),excerpt:(0,c.__)("Display content in a timeline that starts 25 years ago.","prc-block-library"),attributes:{className:"starting-point-2000"},category:"media",innerBlocks:p(2e3,2025),scope:["inserter","transform"],isActive:({className:e})=>!!e&&e.includes("starting-point-2000")},{name:"timeline-1990",title:(0,c.__)("Timeline: 1990","prc-block-library"),excerpt:(0,c.__)("Display content in a timeline that starts 35 years ago.","prc-block-library"),attributes:{className:"starting-point-1990"},category:"media",innerBlocks:p(1990,2025),scope:["inserter","transform"],isActive:({className:e})=>!!e&&e.includes("starting-point-1990")},{name:"timeline-1980",title:(0,c.__)("Timeline: 1980","prc-block-library"),excerpt:(0,c.__)("Display content in a timeline that starts 45 years ago.","prc-block-library"),attributes:{className:"starting-point-1980"},category:"media",innerBlocks:p(1980,2025),scope:["inserter","transform"],isActive:({className:e})=>!!e&&e.includes("starting-point-1980")},{name:"timeline-1970",title:(0,c.__)("Timeline: 1970","prc-block-library"),excerpt:(0,c.__)("Display content in a timeline that starts 55 years ago.","prc-block-library"),attributes:{className:"starting-point-1970"},category:"media",innerBlocks:p(1970,2025),scope:["inserter","transform"],isActive:({className:e})=>!!e&&e.includes("starting-point-1970")}],u=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/timeline","version":"0.1.0","title":"Timeline","category":"design","description":"Display a series of blocks in a timeline","allowedBlocks":["prc-block/timeline-slide"],"attributes":{"defaultLabel":{"type":"string","default":"Timeline"},"currentActiveIndex":{"type":"number","default":0},"enableAutoPlay":{"type":"boolean","default":false}},"supports":{"anchor":true,"html":false,"interactivity":true,"spacing":{"blockGap":true,"margin":["top","bottom"],"padding":true,"__experimentalDefaultControls":{"padding":true}},"typography":{"fontSize":true,"__experimentalFontFamily":true,"__experimentalDefaultControls":{"fontSize":true,"__experimentalFontFamily":true}}},"providesContext":{"timeline/currentActiveIndex":"currentActiveIndex"},"textdomain":"timeline","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","render":"file:./render.php","viewScriptModule":"file:./view.js"}'),{name:d}=u,b={icon:function(){return(0,s.jsx)(l.Icon,{icon:"timeline"})},edit:function({attributes:e,setAttributes:n,clientId:l,isSelected:o}){const{currentActiveIndex:c}=e,p=(0,t.useRef)(),{selectBlock:m,updateBlockAttributes:u}=(0,r.useDispatch)(i.store),d=(0,i.useBlockProps)(),b=(0,i.useInnerBlocksProps)({},{__experimentalCaptureToolbars:!0,clientId:l,orientation:"horizontal"}),{maxSteps:k,ticks:f}=(0,r.useSelect)((e=>({maxSteps:e(i.store).getBlocks(l).length,ticks:e(i.store).getBlocks(l)})),[l]),h=(0,t.useMemo)((()=>f.map((e=>e.clientId))),[f]),v=(0,t.useCallback)((e=>{console.log("Active Tick: ",e,c,h[e],h),n({currentActiveIndex:e}),m(h[e],h,e)}),[]);return(0,t.useEffect)((()=>{const e=p.current,t=function(){const{value:e}=this;v(e-1)};return e.addEventListener("input",t),()=>{e.removeEventListener("input",t)}}),[v,m]),(0,t.useEffect)((()=>{c&&(console.log("Update slider value to match currentActiveIndex"),p.current.value=c)}),[c]),(0,s.jsxs)(t.Fragment,{children:[(0,s.jsx)(a,{attributes:e,setAttributes:n,clientId:l}),(0,s.jsxs)("div",{...d,children:[(0,s.jsxs)("div",{className:"tick-slider",children:[(0,s.jsx)("ul",{className:"ticks",children:f.map((e=>{const{metadata:t}=e.attributes,{name:r}=t;return(0,s.jsx)("li",{className:"tick",role:"presentation",children:(0,s.jsx)(i.RichText,{tagName:"span",onChange:i=>u(e.clientId,{metadata:{...t,name:i}}),placeholder:"Tick",value:r,withoutInteractiveFormatting:!0})},e.clientId)}))}),(0,s.jsx)("input",{ref:p,type:"range",step:1,min:1,max:k,value:c})]}),b.children]})]})},save:function(){return(0,s.jsx)(i.InnerBlocks.Content,{})},transforms:o,variations:m};(0,e.registerBlockType)(d,{...u,...b})}},i={};function r(e){var n=i[e];if(void 0!==n)return n.exports;var s=i[e]={exports:{}};return t[e](s,s.exports,r),s.exports}r.m=t,e=[],r.O=(t,i,n,s)=>{if(!i){var a=1/0;for(p=0;p<e.length;p++){i=e[p][0],n=e[p][1],s=e[p][2];for(var l=!0,o=0;o<i.length;o++)(!1&s||a>=s)&&Object.keys(r.O).every((e=>r.O[e](i[o])))?i.splice(o--,1):(l=!1,s<a&&(a=s));if(l){e.splice(p--,1);var c=n();void 0!==c&&(t=c)}}return t}s=s||0;for(var p=e.length;p>0&&e[p-1][2]>s;p--)e[p]=e[p-1];e[p]=[i,n,s]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};r.O.j=t=>0===e[t];var t=(t,i)=>{var n,s,a=i[0],l=i[1],o=i[2],c=0;if(a.some((t=>0!==e[t]))){for(n in l)r.o(l,n)&&(r.m[n]=l[n]);if(o)var p=o(r)}for(t&&t(i);c<a.length;c++)s=a[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(p)},i=self.webpackChunk_pewresearch_prc_block_library=self.webpackChunk_pewresearch_prc_block_library||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var n=r.O(void 0,[350],(()=>r(840)));n=r.O(n)})();
//# sourceMappingURL=index.js.map