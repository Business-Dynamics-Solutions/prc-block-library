{"version":3,"file":"timeline/index.js","mappings":"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","sources":["webpack://@pewresearch/prc-block-library/webpack/runtime/chunk loaded","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"blocks\"]","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"element\"]","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"blockEditor\"]","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"data\"]","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"components\"]","webpack://@pewresearch/prc-block-library/external window \"ReactJSXRuntime\"","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"coreData\"]","webpack://@pewresearch/prc-block-library/./src/timeline/controls.jsx","webpack://@pewresearch/prc-block-library/external window \"prcIcons\"","webpack://@pewresearch/prc-block-library/./src/timeline/transforms.js","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"i18n\"]","webpack://@pewresearch/prc-block-library/./src/timeline/variations.js","webpack://@pewresearch/prc-block-library/./src/timeline/index.js","webpack://@pewresearch/prc-block-library/./src/timeline/icon.jsx","webpack://@pewresearch/prc-block-library/./src/timeline/edit.jsx","webpack://@pewresearch/prc-block-library/./src/timeline/save.jsx","webpack://@pewresearch/prc-block-library/webpack/bootstrap","webpack://@pewresearch/prc-block-library/webpack/runtime/hasOwnProperty shorthand","webpack://@pewresearch/prc-block-library/webpack/runtime/jsonp chunk loading","webpack://@pewresearch/prc-block-library/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"data\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"ReactJSXRuntime\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"coreData\"];","/**\n * External Dependencies\n */\n\n/**\n * WordPress Dependencies\n */\nimport { Fragment, useState, useEffect, useCallback } from '@wordpress/element';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport {\n\tBaseControl,\n\tButton,\n\tCardDivider,\n\tPanelBody,\n} from '@wordpress/components';\nimport { useEntityProp } from '@wordpress/core-data';\n\n/**\n * Internal Dependencies\n */\n\nexport default function InspectorPanel({\n\tattributes,\n\tsetAttributes,\n\tclientId,\n}) {\n\treturn (\n\t\t<InspectorControls>\n\t\t\t<PanelBody title=\"Block Controls\">\n\t\t\t\t<p>Timeline Creation and Management Controls Here</p>\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"prcIcons\"];","/**\n * WordPress dependencies\n */\nimport {\n\tcreateBlock,\n\tcreateBlocksFromInnerBlocksTemplate,\n} from '@wordpress/blocks';\n\nconst transforms = {\n\tfrom: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: ['prc-block/tabs'],\n\t\t\tpriority: 1,\n\t\t\ttransform: (attributes, innerBlocks) => {\n\t\t\t\tconst newBlocks = [];\n\t\t\t\tinnerBlocks.forEach((block) => {\n\t\t\t\t\tconst { label } = block.attributes;\n\t\t\t\t\tconst newBlock = {\n\t\t\t\t\t\tname: 'prc-block/timeline-slide',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tmetadata: {\n\t\t\t\t\t\t\t\tname: label,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinnerBlocks: block.innerBlocks,\n\t\t\t\t\t};\n\t\t\t\t\tnewBlocks.push(newBlock);\n\t\t\t\t});\n\t\t\t\treturn createBlock(\n\t\t\t\t\t'prc-block/timeline',\n\t\t\t\t\t{},\n\t\t\t\t\tcreateBlocksFromInnerBlocksTemplate(newBlocks)\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n};\n\nexport default transforms;\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nconst createTicksSpread = (startingPoint = 2000, endPoint = 2025) => {\n\tconst ticks = [];\n\tfor (let i = startingPoint; i < endPoint; i++) {\n\t\tconst newName = i.toString();\n\t\tconst newTick = [\n\t\t\t'prc-block/timeline-slide',\n\t\t\t{ metadata: { name: newName } },\n\t\t\t[\n\t\t\t\t[\n\t\t\t\t\t'core/paragraph',\n\t\t\t\t\t{\n\t\t\t\t\t\tplaceholder: 'Add content to timeline slide here...',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t],\n\t\t];\n\t\tticks.push([...newTick]);\n\t}\n\treturn ticks;\n};\n\nexport default [\n\t{\n\t\tname: 'timeline-2000',\n\t\ttitle: __('Timeline: 2000', 'prc-block-library'),\n\t\texcerpt: __(\n\t\t\t'Display content in a timeline that starts 25 years ago.',\n\t\t\t'prc-block-library'\n\t\t),\n\t\tattributes: {\n\t\t\tclassName: 'starting-point-2000',\n\t\t},\n\t\tcategory: 'media',\n\t\tinnerBlocks: createTicksSpread(2000, 2025),\n\t\tscope: ['inserter', 'transform'],\n\t\tisActive: ({ className }) =>\n\t\t\tclassName ? className.includes('starting-point-2000') : false,\n\t},\n\t{\n\t\tname: 'timeline-1990',\n\t\ttitle: __('Timeline: 1990', 'prc-block-library'),\n\t\texcerpt: __(\n\t\t\t'Display content in a timeline that starts 35 years ago.',\n\t\t\t'prc-block-library'\n\t\t),\n\t\tattributes: {\n\t\t\tclassName: 'starting-point-1990',\n\t\t},\n\t\tcategory: 'media',\n\t\tinnerBlocks: createTicksSpread(1990, 2025),\n\t\tscope: ['inserter', 'transform'],\n\t\tisActive: ({ className }) =>\n\t\t\tclassName ? className.includes('starting-point-1990') : false,\n\t},\n\t{\n\t\tname: 'timeline-1980',\n\t\ttitle: __('Timeline: 1980', 'prc-block-library'),\n\t\texcerpt: __(\n\t\t\t'Display content in a timeline that starts 45 years ago.',\n\t\t\t'prc-block-library'\n\t\t),\n\t\tattributes: {\n\t\t\tclassName: 'starting-point-1980',\n\t\t},\n\t\tcategory: 'media',\n\t\tinnerBlocks: createTicksSpread(1980, 2025),\n\t\tscope: ['inserter', 'transform'],\n\t\tisActive: ({ className }) =>\n\t\t\tclassName ? className.includes('starting-point-1980') : false,\n\t},\n\t{\n\t\tname: 'timeline-1970',\n\t\ttitle: __('Timeline: 1970', 'prc-block-library'),\n\t\texcerpt: __(\n\t\t\t'Display content in a timeline that starts 55 years ago.',\n\t\t\t'prc-block-library'\n\t\t),\n\t\tattributes: {\n\t\t\tclassName: 'starting-point-1970',\n\t\t},\n\t\tcategory: 'media',\n\t\tinnerBlocks: createTicksSpread(1970, 2025),\n\t\tscope: ['inserter', 'transform'],\n\t\tisActive: ({ className }) =>\n\t\t\tclassName ? className.includes('starting-point-1970') : false,\n\t},\n];\n","/**\n * Registers a new block provided a unique name and an object defining its behavior.\n *\n * @see https://developer.wordpress.org/block-editor/developers/block-api/#registering-a-block\n */\n\n/**\n * External Dependencies\n */\n\n/**\n * WordPress Dependencies\n */\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Internal Dependencies\n */\n\n/**\n * Lets webpack process CSS, SASS or SCSS files referenced in JavaScript files.\n * All files containing `style` keyword are bundled together. The code used\n * gets applied both to the front of your site and to the editor. All other files\n * get applied to the editor only.\n *\n * @see https://www.npmjs.com/package/@wordpress/scripts#using-css\n */\nimport './style.scss';\nimport './editor.scss';\nimport edit from './edit';\nimport icon from './icon';\nimport save from './save';\nimport transforms from './transforms';\nimport variations from './variations';\n\nimport metadata from './block.json';\n\nconst { name } = metadata;\n\nconst settings = {\n\ticon,\n\tedit,\n\tsave,\n\ttransforms,\n\tvariations,\n};\n\nregisterBlockType(name, { ...metadata, ...settings });\n","/**\n * External Dependencies\n */\nimport { Icon } from '@prc/icons';\n\nexport default function () {\n\treturn <Icon icon=\"timeline\" />;\n}\n","/**\n * External Dependencies\n */\n\n/**\n * WordPress Dependencies\n */\nimport {\n\tFragment,\n\tuseMemo,\n\tuseState,\n\tuseCallback,\n\tuseRef,\n\tuseEffect,\n} from '@wordpress/element';\nimport {\n\tuseBlockProps,\n\tRichText,\n\tuseInnerBlocksProps,\n\tInnerBlocks,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\n/**\n * Internal Dependencies\n */\nimport Controls from './controls';\n\nexport default function Edit({\n\tattributes,\n\tsetAttributes,\n\tclientId,\n\tisSelected,\n}) {\n\tconst { currentActiveIndex } = attributes;\n\tconst inputRef = useRef();\n\tconst { selectBlock, updateBlockAttributes } =\n\t\tuseDispatch(blockEditorStore);\n\n\t/**\n\t * Block props for the timeline block.\n\t */\n\tconst blockProps = useBlockProps();\n\t/**\n\t * Innerblocks props for the tabs content.\n\t */\n\tconst innerBlockProps = useInnerBlocksProps(\n\t\t{},\n\t\t{\n\t\t\t__experimentalCaptureToolbars: true,\n\t\t\tclientId,\n\t\t\torientation: 'horizontal',\n\t\t}\n\t);\n\n\tconst { maxSteps, ticks } = useSelect(\n\t\t(select) => {\n\t\t\treturn {\n\t\t\t\tmaxSteps: select(blockEditorStore).getBlocks(clientId).length,\n\t\t\t\tticks: select(blockEditorStore).getBlocks(clientId),\n\t\t\t};\n\t\t},\n\t\t[clientId]\n\t);\n\n\tconst ticksClientIds = useMemo(() => {\n\t\treturn ticks.map((block) => block.clientId);\n\t}, [ticks]);\n\n\tconst setActiveTick = useCallback((index) => {\n\t\tconsole.log(\n\t\t\t'Active Tick: ',\n\t\t\tindex,\n\t\t\tcurrentActiveIndex,\n\t\t\tticksClientIds[index],\n\t\t\tticksClientIds\n\t\t);\n\t\tsetAttributes({ currentActiveIndex: index });\n\t\tselectBlock(ticksClientIds[index], ticksClientIds, index);\n\t}, []);\n\n\t/**\n\t * This set's up a listener for the slider input.\n\t * When the slider's value changes it selects the block using it's clientId by\n\t * matching the value it receives, the index, from the blocks array.\n\t */\n\tuseEffect(() => {\n\t\tconst slider = inputRef.current;\n\t\tconst handleInput = function () {\n\t\t\t// Get the value that has been updated.\n\t\t\tconst { value } = this;\n\t\t\tconst newActiveIndex = value - 1;\n\t\t\tsetActiveTick(newActiveIndex);\n\t\t};\n\t\tslider.addEventListener('input', handleInput);\n\t\treturn () => {\n\t\t\tslider.removeEventListener('input', handleInput);\n\t\t};\n\t}, [setActiveTick, selectBlock]);\n\n\t/**\n\t * This effect ensures the slider's value matches the currentActiveIndex attribute.\n\t */\n\tuseEffect(() => {\n\t\tif (currentActiveIndex) {\n\t\t\tconsole.log('Update slider value to match currentActiveIndex');\n\t\t\tinputRef.current.value = currentActiveIndex;\n\t\t}\n\t}, [currentActiveIndex]);\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Controls {...{ attributes, setAttributes, clientId }} />\n\t\t\t<div {...blockProps}>\n\t\t\t\t<div className=\"tick-slider\">\n\t\t\t\t\t<ul className=\"ticks\">\n\t\t\t\t\t\t{ticks.map((tick) => {\n\t\t\t\t\t\t\tconst { metadata } = tick.attributes;\n\t\t\t\t\t\t\tconst { name } = metadata;\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\tkey={tick.clientId}\n\t\t\t\t\t\t\t\t\tclassName=\"tick\"\n\t\t\t\t\t\t\t\t\trole=\"presentation\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\t\ttagName=\"span\"\n\t\t\t\t\t\t\t\t\t\tonChange={(value) =>\n\t\t\t\t\t\t\t\t\t\t\tupdateBlockAttributes(\n\t\t\t\t\t\t\t\t\t\t\t\ttick.clientId,\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tmetadata: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...metadata,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tplaceholder={'Tick'}\n\t\t\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\t\t\twithoutInteractiveFormatting\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</ul>\n\t\t\t\t\t<input\n\t\t\t\t\t\tref={inputRef}\n\t\t\t\t\t\ttype=\"range\"\n\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\tmax={maxSteps}\n\t\t\t\t\t\tvalue={currentActiveIndex}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{innerBlockProps.children}\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n}\n","/**\n * External Dependencies\n */\n\n/**\n * WordPress Dependencies\n */\nimport { InnerBlocks } from '@wordpress/block-editor';\n\n/**\n * The save function defines the way in which the different attributes should\n * be combined into the final markup, which is then serialized by the block\n * editor into `post_content`.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-edit-save/#save\n *\n * @param {Object} props            Properties passed to the function.\n * @param {Object} props.attributes Available block attributes.\n * @return {WPElement} Element to render.\n */\nexport default function Save() {\n\treturn <InnerBlocks.Content />;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t2643: 0,\n\t9627: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_pewresearch_prc_block_library\"] = self[\"webpackChunk_pewresearch_prc_block_library\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [9627], () => (__webpack_require__(2840)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","window","InspectorPanel","attributes","setAttributes","clientId","_jsx","InspectorControls","children","PanelBody","title","from","type","blocks","priority","transform","innerBlocks","newBlocks","forEach","block","label","newBlock","name","metadata","push","createBlock","createBlocksFromInnerBlocksTemplate","createTicksSpread","startingPoint","endPoint","ticks","i","newTick","toString","placeholder","__","excerpt","className","category","scope","isActive","includes","settings","icon","Icon","edit","isSelected","currentActiveIndex","inputRef","useRef","selectBlock","updateBlockAttributes","useDispatch","blockEditorStore","blockProps","useBlockProps","innerBlockProps","useInnerBlocksProps","__experimentalCaptureToolbars","orientation","maxSteps","useSelect","select","getBlocks","length","ticksClientIds","useMemo","map","setActiveTick","useCallback","index","console","log","useEffect","slider","current","handleInput","value","this","addEventListener","removeEventListener","_jsxs","Fragment","Controls","tick","role","RichText","tagName","onChange","withoutInteractiveFormatting","ref","step","min","max","save","InnerBlocks","Content","transforms","variations","registerBlockType","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","O","result","chunkIds","fn","notFulfilled","Infinity","fulfilled","j","Object","keys","every","key","splice","r","o","obj","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","id","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}