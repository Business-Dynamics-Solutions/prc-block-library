import*as t from"@wordpress/interactivity";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const n=(o={getContext:()=>t.getContext,store:()=>t.store},a={},e.d(a,o),a),{actions:i}=(0,n.store)("prc-block/timeline",{actions:{togglePlay:()=>{const t=(0,n.getContext)();t.isPlaying=!t.isPlaying;const e=document.querySelector(`#${t.id} .play-pause-button`);e&&e.setAttribute("aria-pressed",t.isPlaying),t.isPlaying?i.startAutoPlay():i.stopAutoPlay()},startAutoPlay:()=>{const t=(0,n.getContext)(),{id:e,ticks:i,interval:o}=t,a=document.getElementById(e);t.intervalId=setInterval((()=>{let e=parseInt(a.value);e>=i.length-1?e=0:e++,a.value=e;const n=i[e];t.activeTickId=n.id}),o)},stopAutoPlay:()=>{const t=(0,n.getContext)();t.intervalId&&(clearInterval(t.intervalId),t.intervalId=null,t.isPlaying=!1)},activateTick:()=>{i.stopAutoPlay();const t=(0,n.getContext)(),{tick:e}=t,{id:o}=e;t.activeTickId=o;const a=document.querySelector(`[data-tick-id="${o}"]`);a&&a.focus();const l=document.getElementById(t.id),s=t.ticks.findIndex((t=>t.id===o));l.value=s}},callbacks:{onInit:()=>{const t=(0,n.getContext)(),{id:e,ticks:o,isPlaying:a}=t,l=document.getElementById(e);l.addEventListener("input",(e=>{const n=parseFloat(e.target.value),i=Math.min(Math.round(n/(o.length-1)*(o.length-1)),o.length-1),a=o[i];t.activeTickId=a.id})),l.addEventListener("change",(e=>{const n=parseFloat(e.target.value),i=Math.min(Math.round(n/(o.length-1)*(o.length-1)),o.length-1);l.value=i;const a=o[i];t.activeTickId=a.id})),a&&i.startAutoPlay()},isTimelineSlideActive:()=>{const t=(0,n.getContext)(),{id:e,activeTickId:i}=t;return e===i},autoPlayButtonText:()=>(0,n.getContext)().isPlaying?"Pause":"Play",getTickPosition:()=>{const t=(0,n.getContext)();console.log("getTickPosition",t);const{tick:e}=t;return`left: ${e.position}%`}}});var o,a;
//# sourceMappingURL=view.js.map