import*as t from"@wordpress/interactivity";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const n=(a={getContext:()=>t.getContext,store:()=>t.store},o={},e.d(o,a),o),{actions:i}=(0,n.store)("prc-block/timeline",{actions:{togglePlay:()=>{const t=(0,n.getContext)();t.isPlaying=!t.isPlaying;const e=document.querySelector(`#${t.id} .play-pause-button`);e&&e.setAttribute("aria-pressed",t.isPlaying),t.isPlaying?i.startAutoPlay():i.stopAutoPlay()},startAutoPlay:()=>{const t=(0,n.getContext)(),{id:e,ticks:i,interval:a}=t,o=document.getElementById(e);t.intervalId=setInterval((()=>{let e=parseInt(o.value);e>=i.length-1?e=0:e++,o.value=e;const n=i[e];t.activeTickId=n.id}),a)},stopAutoPlay:()=>{const t=(0,n.getContext)();t.intervalId&&(clearInterval(t.intervalId),t.intervalId=null,t.isPlaying=!1)},activateTick:()=>{i.stopAutoPlay();const t=(0,n.getContext)(),{tick:e}=t,{id:a}=e;t.activeTickId=a;const o=document.querySelector(`[data-tick-id="${a}"]`);o&&o.focus();const l=document.getElementById(t.id),s=t.ticks.findIndex((t=>t.id===a));l.value=s}},callbacks:{onInit:()=>{const t=(0,n.getContext)(),{id:e,ticks:a,isPlaying:o}=t,l=document.getElementById(e);l.addEventListener("input",(e=>{const n=parseFloat(e.target.value),i=Math.min(Math.round(n/(a.length-1)*(a.length-1)),a.length-1),o=a[i];t.activeTickId=o.id})),l.addEventListener("change",(e=>{const n=parseFloat(e.target.value),i=Math.min(Math.round(n/(a.length-1)*(a.length-1)),a.length-1);l.value=i;const o=a[i];t.activeTickId=o.id})),o&&i.startAutoPlay()},isTimelineSlideActive:()=>{const t=(0,n.getContext)(),{id:e,activeTickId:i}=t;return e===i},autoPlayButtonText:()=>(0,n.getContext)().isPlaying?"Pause":"Play",getTickPosition:()=>{const t=(0,n.getContext)(),{tick:e}=t;return`left: ${e.position}%`}}});var a,o;
//# sourceMappingURL=view.js.map