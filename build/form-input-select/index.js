(()=>{"use strict";var e,t={5026:()=>{const e=window.wp.blocks,t=window.prcControls;function l(e){var t,o,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(o=l(e[t]))&&(a&&(a+=" "),a+=o)}else for(o in e)e[o]&&(a&&(a+=" "),a+=o);return a}const o=function(){for(var e,t,o=0,a="",r=arguments.length;o<r;o++)(e=arguments[o])&&(t=l(e))&&(a&&(a+=" "),a+=t);return a},a=window.wp.element,r=(0,a.forwardRef)((function({icon:e,size:t=24,...l},o){return(0,a.cloneElement)(e,{width:t,height:t,...l,ref:o})})),s=window.wp.primitives,n=window.ReactJSXRuntime,i=(0,n.jsx)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(s.Path,{d:"m13.06 12 6.47-6.47-1.06-1.06L12 10.94 5.53 4.47 4.47 5.53 10.94 12l-6.47 6.47 1.06 1.06L12 13.06l6.47 6.47 1.06-1.06L13.06 12Z"})}),u=window.wp.i18n,c=window.wp.components,p=window.wp.blockEditor,d=window.prcIcons,m=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/form-input-select","version":"1.5.0","title":"Form Input Select","category":"forms","description":"A select element that supports search and autocomplete.","attributes":{"type":{"type":"string","enum":["custom","industries","countries","countries-and-regions","us-states"],"default":"custom"},"rawOptions":{"type":"array","default":[]},"options":{"type":"array","default":[]},"hasClearIcon":{"type":"boolean","default":false},"displayLabel":{"type":"boolean","default":true},"label":{"type":"string","source":"html","selector":"label"},"placeholder":{"type":"string","default":"A hint or example...","source":"attribute","selector":"input","attribute":"placeholder"},"required":{"type":"boolean","default":false,"source":"attribute","selector":"input","attribute":"required"},"disabled":{"type":"boolean","default":false,"source":"attribute","selector":"input","attribute":"disabled"},"value":{"type":"string","source":"attribute","selector":"input","attribute":"value"},"allowMultiple":{"type":"boolean","default":false}},"supports":{"anchor":true,"html":false,"reusable":true,"interactivity":true,"layout":{"type":"flex","default":{"type":"flex","orientation":"vertical","verticalAlignment":"center","allowOrientation":true},"allowInheriting":false,"allowVerticalAlignment":true,"allowJustification":true,"allowOrientation":true,"allowSizingOnChildren":true},"spacing":{"blockGap":true,"padding":true,"margin":true},"__experimentalBorder":{"color":true,"width":true,"radius":true,"__experimentalSkipSerialization":true},"color":{"background":true,"text":true,"enableContrastChecker":true,"__experimentalSkipSerialization":true},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontFamily":true,"__experimentalFontWeight":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true,"__experimentalTextDecoration":true,"__experimentalLetterSpacing":true,"__experimentalDefaultControls":{"fontSize":true,"__experimentalFontFamily":true}},"selectors":{"root":".wp-block-prc-block-form-input-text","color":".wp-block-prc-block-form-input-text > input","border":".wp-block-prc-block-form-input-text > input"}},"usesContext":["form-input-select/options"],"styles":[{"name":"default","label":"Default","isDefault":true},{"name":"inline-label","label":"Inline Label"}],"textdomain":"form-input-select","editorScript":"file:./index.js","style":"file:./style-index.css","viewScriptModule":"file:./view.js"}'),{name:b}=m,h={icon:function(){return(0,n.jsx)(d.Icon,{icon:"list-dropdown"})},edit:function({attributes:e,setAttributes:l,context:s,clientId:d,isSelected:m,insertBlocksAfter:b,__unstableLayoutClassNames:h}){const{label:f,placeholder:x,required:y,disabled:g,hasClearIcon:w,value:_,metadata:v,displayLabel:k,type:C,rawOptions:j=[],options:S=[],allowMultiple:N=!1,className:I}=e,O=(0,a.useMemo)((()=>I?.includes("is-style-inline-label")),[I]),{name:T}=v||{},[L,F]=(0,a.useState)([]),[M,A]=(0,a.useState)(""),[B,R]=(0,a.useState)(!1),D=(0,p.__experimentalUseBorderProps)(e),P=(0,p.__experimentalUseColorProps)(e),q=(0,a.useMemo)((()=>o({...P.className,...D.className})),[P.className,D.className]),z=(0,a.useMemo)((()=>({...P.style,...D.style})),[P.style,D.style]),E=(0,a.useMemo)((()=>O?[]:q),[O,q]),V=(0,a.useMemo)((()=>O?{}:z),[O,z]),G=(0,a.useRef)(null),U=(0,a.useMemo)((()=>O?[h,...q]:h),[h,q,O]),J=(0,a.useMemo)((()=>O?z:{}),[O,z]),$=(0,p.useBlockProps)({className:o(U,{"is-open":m}),style:J}),W=(0,a.useMemo)((()=>s["form-input-select/options"]||[]),[s]),H=(0,a.useMemo)((()=>{const e=[...S,...W];return console.log("filteredOptions",{options:S,contextualOptions:W,selectedValues:L,inputValue:M,allOptions:e}),e.filter((e=>!L.includes(e.value)&&!e.disabled&&e.label.toLowerCase().includes(M.toLowerCase())))}),[S,W,L,M]);function X(e){const t=S.find((t=>t.value===e));return t?t.label:e}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(p.InspectorControls,{children:[(0,n.jsxs)(c.PanelBody,{title:(0,u.__)("Form Input Field Settings"),children:[(0,n.jsx)(c.TextControl,{label:"Input Name",help:(0,u.__)("This is the name of the input field. It is used to identify the input field in the form submission data. We recommend using a camelCase name.","prc-block-library"),value:T,onChange:t=>{l({metadata:{...e.metadata,name:t}})}}),(0,n.jsx)(c.TextControl,{label:"Placeholder",value:x,onChange:e=>{l({placeholder:e})}}),(0,n.jsx)(c.ToggleControl,{label:"Display Label",checked:k,help:"If toggled on, the label will be displayed above the input field.",onChange:e=>{l({displayLabel:e})}}),(0,n.jsx)(c.ToggleControl,{label:"Disabled",checked:g,help:"If toggled on, the user cannot interact with this input.",onChange:e=>{l({disabled:e})}}),(0,n.jsx)(c.ToggleControl,{label:"Required",checked:y,help:"If toggled on, the user must select a value before submitting the form.",onChange:e=>{l({required:e})}}),(0,n.jsx)(c.ToggleControl,{label:"Clear Icon Enabled",checked:w,help:"If toggled on, a clear icon will be displayed in the input field.",onChange:e=>{l({hasClearIcon:e})}})]}),(0,n.jsxs)(c.PanelBody,{title:(0,u.__)("Form Input Field Options"),children:[(0,n.jsx)(c.SelectControl,{label:"Select from default options",value:C,options:[{label:"Custom",value:"custom"},{label:"Countries",value:"countries"},{label:"Countries and Regions",value:"countries-and-regions"},{label:"U.S. States",value:"us-states"},{label:"Industries",value:"industries"}],onChange:e=>{l({type:e})}}),(0,n.jsx)(t.Sorter,{options:S,setAttributes:l,attribute:"options",clientId:d,isRemovable:!0,hasSetActive:!0})]})]}),(0,n.jsxs)("div",{...$,children:[k&&(0,n.jsx)(p.RichText,{tagName:"label",placeholder:(0,u.__)("Label...","prc-block-library"),value:f,onChange:t=>{const o=t.replace(/<[^>]*>/g,"").replace(/(?:^| )(\w)/g,((e,t)=>t.toUpperCase())).replace(/^./,(e=>e.toLowerCase()));l({label:t,metadata:{...e.metadata,name:o}})}}),(0,n.jsxs)("div",{className:o("wp-block-prc-block-form-input-select__input",E),style:V,children:[N&&(0,n.jsx)("div",{className:"wp-block-prc-block-form-input-select__tokens-wrapper",children:L.map((e=>(0,n.jsxs)("span",{className:"components-form-token-field__token",children:[X(e),(0,n.jsx)("button",{type:"button","aria-label":(0,u.__)("Remove","prc-block-library"),onClick:()=>handleTokenRemove(e),children:(0,n.jsx)(r,{icon:i})})]},e)))}),(0,n.jsx)("input",{ref:G,type:"text",role:"combobox",ariaAutocomplete:"list",ariaExpanded:m,ariaControls:`dropdown-list-${d}`,placeholder:x,value:M,onChange:e=>{e.preventDefault()},onBlur:e=>{setTimeout((()=>R(!1)),250),console.log("onBlur")},onFocus:e=>{e.preventDefault(),R(!0),console.log("onFocus",B)},disabled:e.disabled,required:y&&0===L.length}),m&&H.length>0&&(0,n.jsx)("ul",{id:`dropdown-list-${d}`,role:"listbox",className:"wp-block-prc-block-form-input-select__list",children:H.map(((e,t)=>(0,n.jsx)("li",{role:"option",onMouseDown:e=>{e.preventDefault()},children:e.label},e.value)))})]})]})]})},save:function({attributes:e}){const{label:t,displayLabel:l,placeholder:a,required:r,value:s,metadata:i,className:u,allowMultiple:c}=e,{name:d}=i||{},m=(0,p.__experimentalGetBorderClassesAndStyles)(e),b=(0,p.__experimentalGetColorClassesAndStyles)(e),h=u?.includes("is-style-inline-label");let f=[];h||(f.push(b.className),f.push(m.className));const x=o("wp-block-prc-block-form-input-select__input",...f),y={...h?{}:{...b.style,...m.style}},g={placeholder:a,value:s,name:d,type:"text",role:"combobox"};r&&(g.required=!0);let w=[];h&&(w.push(b.className),w.push(m.className));const _=p.useBlockProps.save({className:o("wp-block-prc-block-form-input-select",...w),style:h?{...b.style,...m.style}:{}}),v=!0===l&&t&&t.length>0;return(0,n.jsxs)("div",{..._,children:[v&&(0,n.jsx)(p.RichText.Content,{tagName:"label",value:t}),(0,n.jsxs)("div",{className:x,style:y,children:[c&&(0,n.jsx)("div",{className:"prc-block-form-input-select__tokens__placeholder"}),(0,n.jsx)("input",{...g}),(0,n.jsx)("div",{className:"prc-block-form-input-select__list__placeholder"})]})]})}};(0,e.registerBlockType)(b,{...m,...h})}},l={};function o(e){var a=l[e];if(void 0!==a)return a.exports;var r=l[e]={exports:{}};return t[e](r,r.exports,o),r.exports}o.m=t,e=[],o.O=(t,l,a,r)=>{if(!l){var s=1/0;for(c=0;c<e.length;c++){for(var[l,a,r]=e[c],n=!0,i=0;i<l.length;i++)(!1&r||s>=r)&&Object.keys(o.O).every((e=>o.O[e](l[i])))?l.splice(i--,1):(n=!1,r<s&&(s=r));if(n){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[l,a,r]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={9030:0,9098:0};o.O.j=t=>0===e[t];var t=(t,l)=>{var a,r,[s,n,i]=l,u=0;if(s.some((t=>0!==e[t]))){for(a in n)o.o(n,a)&&(o.m[a]=n[a]);if(i)var c=i(o)}for(t&&t(l);u<s.length;u++)r=s[u],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(c)},l=globalThis.webpackChunk_prc_block_library=globalThis.webpackChunk_prc_block_library||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var a=o.O(void 0,[9098],(()=>o(5026)));a=o.O(a)})();
//# sourceMappingURL=index.js.map