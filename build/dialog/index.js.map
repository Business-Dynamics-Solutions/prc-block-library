{"version":3,"file":"dialog/index.js","mappings":"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","sources":["webpack://@pewresearch/prc-block-library/external window [\"wp\",\"blocks\"]","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"data\"]","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"i18n\"]","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"element\"]","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"blockEditor\"]","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"components\"]","webpack://@pewresearch/prc-block-library/external window \"ReactJSXRuntime\"","webpack://@pewresearch/prc-block-library/./src/dialog/edit.jsx","webpack://@pewresearch/prc-block-library/external window \"prcIcons\"","webpack://@pewresearch/prc-block-library/./src/dialog/variations.js","webpack://@pewresearch/prc-block-library/./src/dialog/index.js","webpack://@pewresearch/prc-block-library/./src/dialog/icon.jsx","webpack://@pewresearch/prc-block-library/./src/dialog/save.jsx"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"data\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"ReactJSXRuntime\"];","/**\n * External Dependencies\n */\n\n/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Fragment, useRef, useMemo } from '@wordpress/element';\nimport {\n\tBlockControls,\n\tuseBlockProps,\n\tuseInnerBlocksProps,\n} from '@wordpress/block-editor';\nimport { ToolbarButton, ToolbarGroup } from '@wordpress/components';\n\n/**\n * Internal Dependencies\n */\nconst TEMPLATE = [\n\t['prc-block/dialog-trigger', {}],\n\t['prc-block/dialog-element', {}],\n];\n\nconst ALLOWED_BLOCKS = ['prc-block/dialog-trigger', 'prc-block/dialog-element'];\n\nexport default function Edit({\n\tattributes,\n\tsetAttributes,\n\tcontext,\n\tclientId,\n\tisSelected,\n}) {\n\tconst { dialogType } = attributes;\n\t// Set up a ref so that we can query for the dialog element and memoize it.\n\tconst ref = useRef(null);\n\tconst dialogElm = useMemo(() => {\n\t\treturn (\n\t\t\tref.current?.querySelector('.wp-block-prc-block-dialog-element') ||\n\t\t\tnull\n\t\t);\n\t}, [ref, ref.current]);\n\n\tconst blockProps = useBlockProps({\n\t\tref,\n\t});\n\n\t// We're locking down the template and allowed blocks to only allow the dialog trigger and dialog element.\n\tconst innerBlocksProps = useInnerBlocksProps(blockProps, {\n\t\tallowedBlocks: ALLOWED_BLOCKS,\n\t\ttemplate: TEMPLATE,\n\t\ttemplateLock: 'all',\n\t});\n\n\tconst buttonLabel = __('Edit Dialog Element', 'prc-block-library');\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<BlockControls __experimentalShareWithChildBlocks={true}>\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tlabel={buttonLabel}\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t'modal' === dialogType\n\t\t\t\t\t\t\t\t? dialogElm.showModal()\n\t\t\t\t\t\t\t\t: dialogElm.show()\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{buttonLabel}\n\t\t\t\t\t</ToolbarButton>\n\t\t\t\t</ToolbarGroup>\n\t\t\t</BlockControls>\n\t\t\t<div {...innerBlocksProps} />\n\t\t</Fragment>\n\t);\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"prcIcons\"];","/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport default [\n\t{\n\t\tname: 'dialog',\n\t\tisDefault: true,\n\t\ttitle: __('Dialog', 'prc-block-library'),\n\t\texcerpt: __('Display content in a pop-up (<dialog/> ).', 'prc-block-library'),\n\t\tattributes: {\n\t\t\tclassName: 'is-style-standard',\n\t\t\tdialogType: 'modal',\n\t\t},\n\t\tkeywords: ['dialog', 'modal', 'popup', 'overlay', 'pop-up'],\n\t\tcategory: 'media',\n\t\tinnerBlocks: [\n\t\t\t[\n\t\t\t\t'prc-block/dialog-trigger',\n\t\t\t\t{},\n\t\t\t\t[\n\t\t\t\t\t[\n\t\t\t\t\t\t'core/paragraph',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tplaceholder: __(\n\t\t\t\t\t\t\t\t'Add content to trigger your dialog here...',\n\t\t\t\t\t\t\t\t'prc-block-library'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t],\n\t\t\t],\n\t\t\t[\n\t\t\t\t'prc-block/dialog-element',\n\t\t\t\t{\n\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tspacing: {\n\t\t\t\t\t\t\tpadding: {\n\t\t\t\t\t\t\t\ttop: \"var:preset|spacing|30\",\n\t\t\t\t\t\t\t\tbottom: \"var:preset|spacing|30\",\n\t\t\t\t\t\t\t\tleft: \"var:preset|spacing|30\",\n\t\t\t\t\t\t\t\tright: \"var:preset|spacing|30\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tshadow: \"var:preset|shadow|deep\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t[\n\t\t\t\t\t[\n\t\t\t\t\t\t'core/heading',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tplaceholder: __(\n\t\t\t\t\t\t\t\t'Dialog Title...',\n\t\t\t\t\t\t\t\t'prc-block-library'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t'core/paragraph',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tplaceholder: __(\n\t\t\t\t\t\t\t\t'Add content inside the dialog here...',\n\t\t\t\t\t\t\t\t'prc-block-library'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t],\n\t\t\t],\n\t\t],\n\t\tscope: ['inserter', 'transform'],\n\t\tisActive: ({ className }) =>\n\t\t\tclassName ? className.includes('is-style-standard') : false,\n\t},\n\t{\n\t\tname: 'dialog-video',\n\t\ttitle: __('Video Dialog', 'prc-block-library'),\n\t\texcerpt: __('Display a video in popup (<dialog/>). This variant is specifically designed for videos. Note: All Dialog blocks support the included video functionality so long as a VideoPress block is present.', 'prc-block-library'),\n\t\tattributes: {\n\t\t\tclassName: 'is-style-video',\n\t\t\tdialogType: 'modal',\n\t\t},\n\t\tkeywords: ['dialog', 'video', 'modal', 'videopress', 'youtube'],\n\t\tcategory: 'media',\n\t\tinnerBlocks: [\n\t\t\t[\n\t\t\t\t'prc-block/dialog-trigger',\n\t\t\t\t{},\n\t\t\t\t[\n\t\t\t\t\t[\n\t\t\t\t\t\t'core/paragraph',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tplaceholder: __(\n\t\t\t\t\t\t\t\t'Add content to trigger your video dialog here...',\n\t\t\t\t\t\t\t\t'prc-block-library'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t],\n\t\t\t],\n\t\t\t[\n\t\t\t\t'prc-block/dialog-element',\n\t\t\t\t{\n\t\t\t\t\tbackgroundColor: 'black',\n\t\t\t\t\ttextColor: 'white',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tspacing: {\n\t\t\t\t\t\t\tpadding: {\n\t\t\t\t\t\t\t\ttop: \"var:preset|spacing|0\",\n\t\t\t\t\t\t\t\tbottom: \"var:preset|spacing|0\",\n\t\t\t\t\t\t\t\tleft: \"var:preset|spacing|0\",\n\t\t\t\t\t\t\t\tright: \"var:preset|spacing|0\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tshadow: \"var:preset|shadow|deep\"\n\t\t\t\t\t},\n\t\t\t\t\tallowedBlocks: [\n\t\t\t\t\t\t'core/video',\n\t\t\t\t\t\t'core/embed',\n\t\t\t\t\t\t'videopress/video',\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t[['videopress/video', {}]],\n\t\t\t],\n\t\t],\n\t\tscope: ['inserter', 'transform'],\n\t\tisActive: ({ className }) =>\n\t\t\tclassName ? className.includes('is-style-video') : false,\n\t},\n];\n","/**\n * External Dependencies\n */\n\n/**\n * WordPress Dependencies\n */\nimport { registerBlockType } from '@wordpress/blocks';\nimport { select, dispatch } from '@wordpress/data';\n\n/**\n * Internal Dependencies\n */\nimport edit from './edit';\nimport save from './save';\nimport icon from './icon';\nimport variations from './variations';\nimport metadata from './block.json';\n\nconst { name } = metadata;\n\nconst settings = {\n\ticon,\n\tedit,\n\tsave,\n\tvariations,\n};\n\nregisterBlockType(name, { ...metadata, ...settings });\n\n\nconst popupControllerUpgrade = (clientId) => {\n\t// Get an array of this block's innerblocks and change the name of prc-block/popup-content to prc-block/dialog-trigger and prc-block/popup-modal to prc-block/dialog-element\n\t// Finally, I need to change this block's name to prc-block/dialog and then replace this block instance with that new block instance.\n\tconst block = select('core/block-editor').getBlock(clientId);\n\tconst innerBlocks = block.innerBlocks;\n\tconst newInnerBlocks = innerBlocks.map((innerBlock) => {\n\t\tif (innerBlock.name === 'prc-block/popup-content') {\n\t\t\tinnerBlock.name = 'prc-block/dialog-trigger';\n\t\t} else if (innerBlock.name === 'prc-block/popup-modal') {\n\t\t\tinnerBlock.name = 'prc-block/dialog-element';\n\t\t}\n\t\treturn innerBlock;\n\t});\n\tconst newBlock = {\n\t\t...block,\n\t\tname: 'prc-block/dialog',\n\t\tinnerBlocks: newInnerBlocks,\n\t};\n\tdispatch('core/block-editor').replaceBlocks(clientId, newBlock);\n}\n\nconst legacy__popupController = registerBlockType(\n\t'prc-block/popup-controller',\n\t{\n\t\tapiVersion: 3,\n\t\ttitle: 'Legacy Popup Controller',\n\t\tversion: '1.0.0',\n\t\tcategory: 'design',\n\t\tname: 'prc-block/popup-controller',\n\t\tattributes: {},\n\t\tsupports: {\n\t\t\tinserter: false,\n\t\t},\n\t\tedit: ({clientId}) => {\n\t\t\tpopupControllerUpgrade(clientId);\n\t\t\treturn null;\n\t\t},\n\t\tsave: () => null,\n\t}\n);\n\nconst legacy__popupContent = registerBlockType('prc-block/popup-content', {\n\tapiVersion: 3,\n\ttitle: 'Legacy Popup Content',\n\tversion: '1.0.0',\n\tcategory: 'design',\n\tname: 'prc-block/popup-content',\n\tattributes: {\n\t\tallowedBlocks: {\n\t\t\ttype: 'array',\n\t\t},\n\t\tdisengageClickHandler: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t}\n\t},\n\tsupports: {\n\t\tinserter: false,\n\t},\n\tedit: () => null,\n\tsave: () => null,\n});\n\nconst legacy_popupModal = registerBlockType('prc-block/popup-modal', {\n\tapiVersion: 3,\n\ttitle: 'Legacy Popup Modal',\n\tversion: '1.0.0',\n\tcategory: 'design',\n\tname: 'prc-block/popup-modal',\n\tattributes: {\n\t\tallowedBlocks: {\n\t\t\ttype: 'array',\n\t\t},\n\t\ttitle: {\n\t\t\ttype: 'string',\n\t\t},\n\t\ttransition: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'scale',\n\t\t},\n\t\tshadeBackgroundLite: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\tcontrollerId: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tisVideo: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tsupports: {\n\t\tinserter: false,\n\t},\n\tedit: () => null,\n\tsave: () => null,\n});\n","/**\n * External Dependencies\n */\nimport { Icon } from '@prc/icons';\n\nexport default function () {\n\treturn <Icon icon=\"window-restore\" />;\n}\n","/**\n * External Dependencies\n */\n\n/**\n * WordPress Dependencies\n */\nimport { InnerBlocks } from '@wordpress/block-editor';\n\n/**\n * Save function for the Dialog block.\n * @param {Object} props            Properties passed to the function.\n * @param {Object} props.attributes Available block attributes.\n * @return {WPElement} Element to render.\n */\nexport default function Save() {\n\treturn <InnerBlocks.Content />;\n}\n"],"names":["window","TEMPLATE","ALLOWED_BLOCKS","name","isDefault","title","__","excerpt","attributes","className","dialogType","keywords","category","innerBlocks","placeholder","backgroundColor","style","spacing","padding","top","bottom","left","right","shadow","scope","isActive","includes","textColor","allowedBlocks","metadata","settings","icon","_jsx","Icon","edit","setAttributes","context","clientId","isSelected","ref","useRef","dialogElm","useMemo","current","querySelector","blockProps","useBlockProps","innerBlocksProps","useInnerBlocksProps","template","templateLock","buttonLabel","_jsxs","Fragment","children","BlockControls","__experimentalShareWithChildBlocks","ToolbarGroup","ToolbarButton","label","onClick","showModal","show","save","InnerBlocks","Content","variations","registerBlockType","apiVersion","version","supports","inserter","block","select","getBlock","newInnerBlocks","map","innerBlock","newBlock","dispatch","replaceBlocks","popupControllerUpgrade","type","disengageClickHandler","default","transition","shadeBackgroundLite","controllerId","isVideo"],"sourceRoot":""}