(()=>{"use strict";var e,t={146:(e,t,o)=>{var n=o(363),l={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function s(e){return n.isMemo(e)?i:a[e.$$typeof]||l}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[n.Memo]=i;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,o,n){if("string"!=typeof o){if(h){var l=b(o);l&&l!==h&&e(t,l,n)}var i=d(o);u&&(i=i.concat(u(o)));for(var a=s(t),x=s(o),f=0;f<i.length;++f){var m=i[f];if(!(r[m]||n&&n[m]||x&&x[m]||a&&a[m])){var g=p(o,m);try{c(t,m,g)}catch(e){}}}}return t}},363:(e,t,o)=>{e.exports=o(799)},799:(e,t)=>{var o="function"==typeof Symbol&&Symbol.for,n=o?Symbol.for("react.element"):60103,l=o?Symbol.for("react.portal"):60106,r=o?Symbol.for("react.fragment"):60107,i=o?Symbol.for("react.strict_mode"):60108,a=o?Symbol.for("react.profiler"):60114,s=o?Symbol.for("react.provider"):60109,c=o?Symbol.for("react.context"):60110,d=o?Symbol.for("react.async_mode"):60111,u=o?Symbol.for("react.concurrent_mode"):60111,p=o?Symbol.for("react.forward_ref"):60112,b=o?Symbol.for("react.suspense"):60113,h=o?Symbol.for("react.suspense_list"):60120,x=o?Symbol.for("react.memo"):60115,f=o?Symbol.for("react.lazy"):60116,m=o?Symbol.for("react.block"):60121,g=o?Symbol.for("react.fundamental"):60117,v=o?Symbol.for("react.responder"):60118,_=o?Symbol.for("react.scope"):60119;function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case d:case u:case r:case a:case i:case b:return e;default:switch(e=e&&e.$$typeof){case c:case p:case f:case x:case s:return e;default:return t}}case l:return t}}}function w(e){return y(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=s,t.Element=n,t.ForwardRef=p,t.Fragment=r,t.Lazy=f,t.Memo=x,t.Portal=l,t.Profiler=a,t.StrictMode=i,t.Suspense=b,t.isAsyncMode=function(e){return w(e)||y(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return y(e)===c},t.isContextProvider=function(e){return y(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return y(e)===p},t.isFragment=function(e){return y(e)===r},t.isLazy=function(e){return y(e)===f},t.isMemo=function(e){return y(e)===x},t.isPortal=function(e){return y(e)===l},t.isProfiler=function(e){return y(e)===a},t.isStrictMode=function(e){return y(e)===i},t.isSuspense=function(e){return y(e)===b},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===a||e===i||e===b||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===x||e.$$typeof===s||e.$$typeof===c||e.$$typeof===p||e.$$typeof===g||e.$$typeof===v||e.$$typeof===_||e.$$typeof===m)},t.typeOf=y},865:(e,t,o)=>{const n=window.wp.i18n,l=window.wp.blocks,r=window.wp.blockEditor,i=window.wp.hooks,a=window.wp.compose,s=window.wp.plugins,c=window.wp.apiFetch;var d=o.n(c);const u=window.wp.data,p=window.wp.primitives,b=window.ReactJSXRuntime,h=(0,b.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(p.Path,{d:"M9 9v6h11V9H9zM4 20h1.5V4H4v16z"})}),x=(0,b.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(p.Path,{d:"M12.5 15v5H11v-5H4V9h7V4h1.5v5h7v6h-7Z"})}),f=(0,b.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(p.Path,{d:"M4 15h11V9H4v6zM18.5 4v16H20V4h-1.5z"})}),m=(0,b.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(p.Path,{d:"M13 5.5H4V4h9v1.5Zm7 7H4V11h16v1.5Zm-7 7H4V18h9v1.5Z"})}),g=(0,b.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(p.Path,{d:"M7.5 5.5h9V4h-9v1.5Zm-3.5 7h16V11H4v1.5Zm3.5 7h9V18h-9v1.5Z"})}),v=(0,b.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(p.Path,{d:"M11.111 5.5H20V4h-8.889v1.5ZM4 12.5h16V11H4v1.5Zm7.111 7H20V18h-8.889v1.5Z"})}),_=window.wp.components,y=(0,b.jsxs)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,b.jsx)(_.Polygon,{points:"17.5 1 7.8 5.6 10.8 6 6.5 10 16.5 5.5 13.4 5 17.5 1"}),(0,b.jsx)(_.Path,{d:"M19,11H5c-1.1,0-2,.9-2,2v8c0,1.1.9,2,2,2h14c1.1,0,2-.9,2-2v-8c0-1.1-.9-2-2-2ZM11.5,16.5h-7v-3.5c0-.3.2-.5.5-.5h6.5v4ZM13,12.5h6c.3,0,.5.2.5.5v3.5h-6.5v-4ZM4.5,21v-3h7v3.5h-6.5c-.3,0-.5-.2-.5-.5ZM19,21.5h-6v-3.5h6.5v3c0,.3-.2.5-.5.5Z"})]}),w=(0,b.jsx)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(_.Path,{d:"M9 20h6V9H9v11zM4 4v1.5h16V4H4z"})}),k=(0,b.jsx)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(_.Path,{d:"M20 11h-5V4H9v7H4v1.5h5V20h6v-7.5h5z"})}),C=(0,b.jsx)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(_.Path,{d:"M15 4H9v11h6V4zM4 18.5V20h16v-1.5H4z"})}),S=(0,b.jsx)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(_.Path,{d:"M15.8,8.3h-3v-3s-1.5,0-1.5,0v3h-3s0,1.5,0,1.5h3v3s1.5,0,1.5,0v-3h3s0-1.5,0-1.5ZM4,2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2V4c0-1.1.9-2,2-2ZM20.5,14.5V4c0-.3-.2-.5-.5-.5H4c-.3,0-.5.2-.5.5v10.5s17,0,17,0ZM20.4,20v-4s-4.7,0-4.7,0v4.5s4.3,0,4.3,0c.3,0,.5-.2.4-.5ZM14.2,20.5v-4.5s-4.5,0-4.5,0v4.5s4.5,0,4.5,0ZM8.2,20.5v-4.5s-4.8,0-4.8,0v4c0,.3.2.5.5.5h4.2s.1,0,.1,0Z"})}),j=(0,b.jsx)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(_.Path,{d:"M8.2,15.7h3v3s1.5,0,1.5,0v-3h3s0-1.5,0-1.5h-3v-3s-1.5,0-1.5,0v3h-3s0,1.5,0,1.5ZM20,22H4c-1.1,0-2-.9-2-2V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2ZM3.5,9.5v10.5c0,.3.2.5.5.5h16c.3,0,.5-.2.5-.5v-10.5s-17,0-17,0ZM3.6,4v4s4.7,0,4.7,0V3.5s-4.3,0-4.3,0c-.3,0-.5.2-.4.5ZM9.8,3.5v4.5s4.5,0,4.5,0V3.5s-4.5,0-4.5,0ZM15.8,3.5v4.5s4.8,0,4.8,0v-4c0-.3-.2-.5-.5-.5h-4.2s-.1,0-.1,0Z"})}),I=(0,b.jsx)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(_.Path,{d:"M8.3,8.2v3h-3s0,1.5,0,1.5h3v3s1.5,0,1.5,0v-3h3s0-1.5,0-1.5h-3v-3s-1.5,0-1.5,0ZM2,20V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2ZM14.5,3.5H4c-.3,0-.5.2-.5.5v16c0,.3.2.5.5.5h10.5s0-17,0-17ZM20,3.6h-4s0,4.7,0,4.7h4.5s0-4.3,0-4.3c0-.3-.2-.5-.5-.4ZM20.5,9.8h-4.5s0,4.5,0,4.5h4.5s0-4.5,0-4.5ZM20.5,15.8h-4.5s0,4.8,0,4.8h4c.3,0,.5-.2.5-.5v-4.2s0-.1,0-.1Z"})}),T=(0,b.jsx)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(_.Path,{d:"M15.8,15.8v-3h3v-1.5h-3v-3h-1.5v3h-3v1.5h3v3h1.5ZM22,4v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2ZM9.5,20.5h10.5c.3,0,.5-.2.5-.5V4c0-.3-.2-.5-.5-.5h-10.5v17ZM4,20.4h4v-4.7H3.5v4.3c0,.3.2.5.5.4ZM3.5,14.2h4.5v-4.5H3.5v4.5ZM3.5,8.2h4.5V3.4h-4c-.3,0-.5.2-.5.5v4.2h0Z"})}),N=(0,b.jsx)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(_.Path,{d:"M20,2H4c-1.1,0-2,.9-2,2v16c0,1.1.9,2,2,2h16c1.1,0,2-.9,2-2V4c0-1.1-.9-2-2-2ZM20.5,4v4.4h-4.1l.6.7-.6.8h4.1v4.2h-4.1l.6.8-.6.8h4.1v4.4c0,.3-.2.5-.5.5H4c-.3,0-.5-.3-.5-.6v-4.3h4.1l-.6-.8.6-.8H3.5v-4.2h4.1l-.6-.8.6-.7H3.5v-4.4c0-.3.2-.5.5-.5h16c.3,0,.5.2.5.5ZM8.1,14.8l2.8-2.8-2.8-2.8,1.1-1.1,2.8,2.8,2.8-2.8,1.1,1.1-2.8,2.8,2.8,2.8-1.1,1.1-2.8-2.8-2.8,2.8-1.1-1.1Z"})}),B=(0,b.jsx)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(_.Path,{d:"M2,4v16c0,1.1.9,2,2,2h16c1.1,0,2-.9,2-2V4c0-1.1-.9-2-2-2H4c-1.1,0-2,.9-2,2ZM4,3.5h4.4v4.1s.7-.6.7-.6l.8.6V3.5h4.2v4.1s.7-.6.7-.6l.7.6V3.5h4.4c.3,0,.5.2.5.5v16c0,.3-.3.5-.6.5h-4.3v-4.1s-.7.6-.7.6l-.7-.6v4.1h-4.2v-4.1s-.8.6-.8.6l-.7-.6v4.1h-4.4c-.3,0-.5-.2-.5-.5V4c0-.3.2-.5.5-.5ZM14.8,15.9l-2.8-2.8-2.8,2.8-1.1-1.1,2.8-2.8-2.8-2.8,1.1-1.1,2.8,2.8,2.8-2.8,1.1,1.1-2.8,2.8,2.8,2.8-1.1,1.1Z"})}),M=(0,b.jsx)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(_.Path,{d:"M2,20V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2ZM8.2,3.5h-4.2c-.3,0-.5.2-.5.5v3.5h4.7V3.5ZM14.2,3.5h-4.5v4h4.5s0-4,0-4ZM20,3.5h-4.3v4h4.8v-3.5c0-.3-.2-.5-.5-.5ZM19,10.5H5v3h14v-3ZM8.2,16.5H3.5v3.5c0,.3.2.5.5.5h4.2v-4ZM14.2,16.5h-4.5v4h4.5s0-4,0-4ZM20.5,16.5h-4.8v4h4.3c.3,0,.5-.2.5-.5v-3.5Z"})}),R=(0,b.jsx)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(_.Path,{d:"M2,20V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2ZM4,3.5c-.3,0-.5.2-.5.5v3.5h17v-3.5c0-.3-.2-.5-.5-.5H4ZM15.2,13.5h3.8v-3h-3.8v3ZM10.2,10.5v3h3.5v-3h-3.5ZM8.7,10.5h-3.7v3h3.7v-3ZM20,20.5c.3,0,.5-.2.5-.5v-3.5H3.5v3.5c0,.3.2.5.5.5h16Z"})}),A=(0,b.jsxs)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,b.jsx)(_.Path,{d:"M9.2,3h-4.2c-1.1,0-2,.9-2,2v4.8c0,.8.7,1.5,1.5,1.5h4.8c1.1,0,2-.9,2-2v-4.2c0-1.1-.9-2-2-2ZM9.2,9.8h-4.2c-.3,0-.5-.2-.5-.5v-4.2c0-.3.2-.5.5-.5h4.2c.3,0,.5.2.5.5v4.2c0,.3-.2.5-.5.5Z"}),(0,b.jsx)(_.Path,{d:"M19,3h-4.2c-1.1,0-2,.9-2,2v4.8c0,.8.7,1.5,1.5,1.5h4.8c1.1,0,2-.9,2-2v-4.2c0-1.1-.9-2-2-2ZM19,9.8h-4.2c-.3,0-.5-.2-.5-.5v-4.2c0-.3.2-.5.5-.5h4.2c.3,0,.5.2.5.5v4.2c0,.3-.2.5-.5.5Z"}),(0,b.jsx)(_.Path,{d:"M9.2,12.8h-4.2c-1.1,0-2,.9-2,2v4.8c0,.8.7,1.5,1.5,1.5h4.8c1.1,0,2-.9,2-2v-4.2c0-1.1-.9-2-2-2ZM9.2,19.5h-4.2c-.3,0-.5-.2-.5-.5v-4.2c0-.3.2-.5.5-.5h4.2c.3,0,.5.2.5.5v4.2c0,.3-.2.5-.5.5Z"}),(0,b.jsx)(_.Path,{d:"M19,12.7h-4.2c-1.1,0-2,.9-2,2v4.8c0,.8.7,1.5,1.5,1.5h4.8c1.1,0,2-.9,2-2v-4.2c0-1.1-.9-2-2-2ZM19,19.5h-4.2c-.3,0-.5-.2-.5-.5v-4.2c0-.3.2-.5.5-.5h4.2c.3,0,.5.2.5.5v4.2c0,.3-.2.5-.5.5Z"})]}),H=(0,b.jsx)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(_.Path,{d:"M19,3H5c-1.1,0-2,.9-2,2v14c0,1.1.9,2,2,2h14c1.1,0,2-.9,2-2V5c0-1.1-.9-2-2-2ZM5,19.5c-.3,0-.5-.2-.5-.5v-6.2h6.8v6.8M11.2,11.2h-6.8v-6.2c0-.3.2-.5.5-.5h6.2v6.8ZM19.5,19c0,.3-.2.5-.5.5h-6.2v-6.8h6.8v6.2c.1,0,0,0,0,0ZM19.5,11.2h-6.8v-6.8h6.2c.3,0,.5.2.5.5v6.2Z"})}),O=(0,b.jsx)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M4,11.2h16v1.5H4v-1.5Z"})}),P=(0,b.jsxs)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,b.jsx)(_.Circle,{cx:"6",cy:"12",r:"2"}),(0,b.jsx)(_.Circle,{cx:"18",cy:"12",r:"2"}),(0,b.jsx)(_.Circle,{cx:"12",cy:"12",r:"2"})]}),F=(0,b.jsxs)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,b.jsx)(_.Path,{d:"M4,11.2h4v1.5h-4v-1.5Z"}),(0,b.jsx)(_.Path,{d:"M16,11.2h4v1.5h-4v-1.5Z"}),(0,b.jsx)(_.Path,{d:"M10,11.2h4v1.5h-4v-1.5Z"})]}),z=(0,b.jsxs)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,b.jsx)(_.Path,{d:"M4,9.2h16v1.5H4v-1.5Z"}),(0,b.jsx)(_.Path,{d:"M4,13.2h16v1.5H4v-1.5Z"})]}),L="prc-block",E={px:200,em:20,rem:20},$={px:50,em:5,rem:5},V={px:50,em:5,rem:5},D=["px","em","rem","%"],G=["px","em","rem","%"],Z=["px","em","rem","%"],U=["px","em","rem"],W=["px","em","rem"],q=["px","em","rem"],J=["px","%","em","rem","vw","vh"],K={head:(0,n.__)("Header cell text","prc-block"),body:(0,n.__)("Body cell text","prc-block"),foot:(0,n.__)("Footer cell text","prc-block")},X=[{icon:h,label:(0,n.__)("Justify table left","prc-block"),value:"left"},{icon:x,label:(0,n.__)("Justify table center","prc-block"),value:"center"},{icon:f,label:(0,n.__)("Justify table right","prc-block"),value:"right"}],Y=[{icon:H,label:(0,n.__)("Share","prc-block"),value:"collapse"},{icon:A,label:(0,n.__)("Separate","prc-block"),value:"separate"}],Q=[{label:(0,n.__)("Solid","prc-block"),value:"solid",icon:O},{label:(0,n.__)("Dotted","prc-block"),value:"dotted",icon:P},{label:(0,n.__)("Dashed","prc-block"),value:"dashed",icon:F},{label:(0,n.__)("Double","prc-block"),value:"double",icon:z}],ee=[{icon:m,label:(0,n.__)("Align left","prc-block"),value:"left"},{icon:g,label:(0,n.__)("Align center","prc-block"),value:"center"},{icon:v,label:(0,n.__)("Align right","prc-block"),value:"right"}],te=[{icon:w,label:(0,n.__)("Align top","prc-block"),value:"top"},{icon:k,label:(0,n.__)("Align middle","prc-block"),value:"middle"},{icon:C,label:(0,n.__)("Align bottom","prc-block"),value:"bottom"}],oe=[{label:(0,n._x)("none","Fixed control","prc-block"),value:"none"},{label:(0,n.__)("Fixed header","prc-block"),value:"header"},{label:(0,n.__)("Fixed first column","prc-block"),value:"first-column"}],ne=[{label:(0,n.__)("TH","prc-block"),value:"th"},{label:(0,n.__)("TD","prc-block"),value:"td"}],le=[{label:(0,n._x)("none","Cell scope control","prc-block"),value:"none"},{label:(0,n.__)("row","prc-block"),value:"row"},{label:(0,n.__)("col","prc-block"),value:"col"},{label:(0,n.__)("rowgroup","prc-block"),value:"rowgroup"},{label:(0,n.__)("colgroup","prc-block"),value:"colgroup"}],re=[{label:(0,n.__)("Top","prc-block"),value:"top"},{label:(0,n.__)("Bottom","prc-block"),value:"bottom"}],ie=[{label:(0,n.__)("Top left","prc-block"),value:"topLeft"},{label:(0,n.__)("Top right","prc-block"),value:"topRight"},{label:(0,n.__)("Bottom right","prc-block"),value:"bottomRight"},{label:(0,n.__)("Bottom left","prc-block"),value:"bottomLeft"}],ae=[{label:(0,n.__)("Vertical","prc-block"),value:"vertical"},{label:(0,n.__)("Horizontal","prc-block"),value:"horizontal"}],se=[{label:(0,n.__)("Top","prc-block"),value:"top"},{label:(0,n.__)("Right","prc-block"),value:"right"},{label:(0,n.__)("Bottom","prc-block"),value:"bottom"},{label:(0,n.__)("Left","prc-block"),value:"left"}],ce={options:{}},de={getOptions:e=>({type:"GET_OPTIONS",path:e}),setOptions:e=>({type:"SET_OPTIONS",options:e})},ue={getOptions(e){const{options:t}=e;return t}},pe={GET_OPTIONS:e=>d()({path:e.path})},be={*getOptions(){const e=yield de.getOptions("/flexible-table-block/v1/options");return de.setOptions(e)}},he=(0,u.createReduxStore)(L,{reducer:(e=ce,t)=>"SET_OPTIONS"===t.type?{...e,options:t.options}:e,controls:pe,selectors:ue,resolvers:be,actions:de});(0,u.register)(he);const xe=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/table","version":"1.1.0","title":"Power Table","category":"text","keywords":["table","cell","data"],"description":"Create a powerful and flexible table complete with responsive design and sorting/filtering options.","textdomain":"prc-block-library","attributes":{"contentJustification":{"type":"string"},"hasFixedLayout":{"type":"boolean","default":true},"isScrollOnPc":{"type":"boolean","default":false},"isScrollOnMobile":{"type":"boolean","default":false},"isStackedOnMobile":{"type":"boolean","default":false},"sticky":{"type":"string"},"tableStyles":{"type":"string","source":"attribute","selector":"table","attribute":"style"},"sourceNote":{"type":"string","source":"html","selector":"p","__experimentalRole":"content"},"tableTitle":{"type":"string","source":"html","selector":"h4","__experimentalRole":"content"},"tableTitleStyles":{"type":"string","source":"attribute","selector":"h4","attribute":"style"},"captionSide":{"type":"string","default":"top"},"caption":{"type":"string","source":"html","selector":"figcaption","__experimentalRole":"content"},"captionStyles":{"type":"string","source":"attribute","selector":"figcaption","attribute":"style"},"head":{"type":"array","default":[],"source":"query","selector":"thead tr","query":{"cells":{"type":"array","default":[],"source":"query","selector":"td,th","query":{"content":{"type":"string","source":"html","__experimentalRole":"content"},"styles":{"type":"string","source":"attribute","attribute":"style"},"tag":{"type":"string","default":"td","source":"tag"},"className":{"type":"string","source":"attribute","attribute":"class"},"id":{"type":"string","source":"attribute","attribute":"id"},"headers":{"type":"string","source":"attribute","attribute":"headers"},"scope":{"enum":["row","col","rowgroup","colgroup"],"source":"attribute","attribute":"scope"},"rowSpan":{"type":"string","source":"attribute","attribute":"rowspan"},"colSpan":{"type":"string","source":"attribute","attribute":"colspan"}}}}},"body":{"type":"array","default":[],"source":"query","selector":"tbody tr","query":{"cells":{"type":"array","default":[],"source":"query","selector":"td,th","query":{"content":{"type":"string","source":"html","__experimentalRole":"content"},"styles":{"type":"string","source":"attribute","attribute":"style"},"tag":{"type":"string","default":"td","source":"tag"},"className":{"type":"string","source":"attribute","attribute":"class"},"id":{"type":"string","source":"attribute","attribute":"id"},"headers":{"type":"string","source":"attribute","attribute":"headers"},"scope":{"enum":["row","col","rowgroup","colgroup"],"source":"attribute","attribute":"scope"},"rowSpan":{"type":"string","source":"attribute","attribute":"rowspan"},"colSpan":{"type":"string","source":"attribute","attribute":"colspan"}}}}},"foot":{"type":"array","default":[],"source":"query","selector":"tfoot tr","query":{"cells":{"type":"array","default":[],"source":"query","selector":"td,th","query":{"content":{"type":"string","source":"html","__experimentalRole":"content"},"styles":{"type":"string","source":"attribute","attribute":"style"},"tag":{"type":"string","default":"td","source":"tag"},"className":{"type":"string","source":"attribute","attribute":"class"},"id":{"type":"string","source":"attribute","attribute":"id"},"headers":{"type":"string","source":"attribute","attribute":"headers"},"scope":{"enum":["row","col","rowgroup","colgroup"],"source":"attribute","attribute":"scope"},"rowSpan":{"type":"string","source":"attribute","attribute":"rowspan"},"colSpan":{"type":"string","source":"attribute","attribute":"colspan"}}}}}},"supports":{"anchor":true,"align":["left","right","wide","full"],"color":{"__experimentalSkipSerialization":["text","background","gradients"],"gradients":true,"link":true},"typography":{"fontSize":true,"__experimentalFontFamily":true,"__experimentalDefaultControls":{"fontSize":false}},"spacing":{"margin":true,"padding":true,"__experimentalDefaultControls":{"margin":false}},"__experimentalBorder":{"color":true,"radius":false,"style":true,"width":true,"__experimentalDefaultControls":{"color":true,"radius":true,"style":true,"width":true}},"__experimentalSelector":{"root":".wp-block-prc-block-table","typography":{"root":".wp-block-prc-block-table","fontFamily":".wp-block-prc-block-table","fontSize":".wp-block-prc-block-table > table"}}},"editorScript":["ais-ai","file:./index.js"],"editorStyle":"file:./index.css","style":"file:./style-index.css"}'),fe={attributes:{head:[{cells:[{content:(0,n.__)("Version","flexible-table-block"),tag:"th"},{content:(0,n.__)("Jazz Musician","flexible-table-block"),tag:"th"},{content:(0,n.__)("Release Date","flexible-table-block"),tag:"th"}]}],body:[{cells:[{content:"5.9",tag:"td"},{content:"Joséphine Baker",tag:"td"},{content:(0,n.__)("January 25, 2022","flexible-table-block"),tag:"td"}]},{cells:[{content:"5.8",tag:"td"},{content:"Art Tatum",tag:"td"},{content:(0,n.__)("July 20, 2021","flexible-table-block"),tag:"td"}]},{cells:[{content:"5.7",tag:"td"},{content:"Esperanza Spalding",tag:"td"},{content:(0,n.__)("March 9, 2021","flexible-table-block"),tag:"td"}]}]}},me=window.React;function ge(e){var t,o,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(o=ge(e[t]))&&(n&&(n+=" "),n+=o)}else for(o in e)e[o]&&(n&&(n+=" "),n+=o);return n}const ve=function(){for(var e,t,o=0,n="",l=arguments.length;o<l;o++)(e=arguments[o])&&(t=ge(e))&&(n&&(n+=" "),n+=t);return n},_e=window.wp.element,ye=(0,b.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(p.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})}),we=(0,b.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(p.Path,{d:"M17.031 4.703 15.576 4l-1.56 3H14v.03l-2.324 4.47H9.5V13h1.396l-1.502 2.889h-.95a3.694 3.694 0 0 1 0-7.389H10V7H8.444a5.194 5.194 0 1 0 0 10.389h.17L7.5 19.53l1.416.719L15.049 8.5h.507a3.694 3.694 0 0 1 0 7.39H14v1.5h1.556a5.194 5.194 0 0 0 .273-10.383l1.202-2.304Z"})});function ke({label:e,value:t,isNone:o,isTransparent:l,isMixed:r=!1,onClick:i}){return(0,b.jsx)(_.Button,{label:e,className:ve("ftb-color-indicator-button",{"is-none":o,"is-mixed":r,"is-transparent":l}),onClick:i,children:r?(0,n.__)("Mixed","flexible-table-block"):(0,b.jsx)(_.ColorIndicator,{colorValue:t||""})})}var Ce=!!me.useInsertionEffect&&me.useInsertionEffect,Se=Ce||function(e){return e()};Ce||me.useLayoutEffect;var je={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Ie(e){var t=Object.create(null);return function(o){return void 0===t[o]&&(t[o]=e(o)),t[o]}}var Te=/[A-Z]|^ms/g,Ne=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Be=function(e){return 45===e.charCodeAt(1)},Me=function(e){return null!=e&&"boolean"!=typeof e},Re=Ie((function(e){return Be(e)?e:e.replace(Te,"-$&").toLowerCase()})),Ae=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(Ne,(function(e,t,o){return Oe={name:t,styles:o,next:Oe},t}))}return 1===je[e]||Be(e)||"number"!=typeof t||0===t?t:t+"px"};function He(e,t,o){if(null==o)return"";var n=o;if(void 0!==n.__emotion_styles)return n;switch(typeof o){case"boolean":return"";case"object":var l=o;if(1===l.anim)return Oe={name:l.name,styles:l.styles,next:Oe},l.name;var r=o;if(void 0!==r.styles){var i=r.next;if(void 0!==i)for(;void 0!==i;)Oe={name:i.name,styles:i.styles,next:Oe},i=i.next;return r.styles+";"}return function(e,t,o){var n="";if(Array.isArray(o))for(var l=0;l<o.length;l++)n+=He(e,t,o[l])+";";else for(var r in o){var i=o[r];if("object"!=typeof i){var a=i;null!=t&&void 0!==t[a]?n+=r+"{"+t[a]+"}":Me(a)&&(n+=Re(r)+":"+Ae(r,a)+";")}else if(!Array.isArray(i)||"string"!=typeof i[0]||null!=t&&void 0!==t[i[0]]){var s=He(e,t,i);switch(r){case"animation":case"animationName":n+=Re(r)+":"+s+";";break;default:n+=r+"{"+s+"}"}}else for(var c=0;c<i.length;c++)Me(i[c])&&(n+=Re(r)+":"+Ae(r,i[c])+";")}return n}(e,t,o);case"function":if(void 0!==e){var a=Oe,s=o(e);return Oe=a,He(e,t,s)}}var c=o;if(null==t)return c;var d=t[c];return void 0!==d?d:c}var Oe,Pe=/label:\s*([^\s;{]+)\s*(;|$)/g;function Fe(e,t,o){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,l="";Oe=void 0;var r=e[0];null==r||void 0===r.raw?(n=!1,l+=He(o,t,r)):l+=r[0];for(var i=1;i<e.length;i++)l+=He(o,t,e[i]),n&&(l+=r[i]);Pe.lastIndex=0;for(var a,s="";null!==(a=Pe.exec(l));)s+="-"+a[1];var c=function(e){for(var t,o=0,n=0,l=e.length;l>=4;++n,l-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),o=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&o)+(59797*(o>>>16)<<16);switch(l){case 3:o^=(255&e.charCodeAt(n+2))<<16;case 2:o^=(255&e.charCodeAt(n+1))<<8;case 1:o=1540483477*(65535&(o^=255&e.charCodeAt(n)))+(59797*(o>>>16)<<16)}return(((o=1540483477*(65535&(o^=o>>>13))+(59797*(o>>>16)<<16))^o>>>15)>>>0).toString(36)}(l)+s;return{name:c,styles:l,next:Oe}}var ze=function(){function e(e){var t=this;this._insertTag=function(e){var o;o=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,o),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{o.insertRule(e,o.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Le=Math.abs,Ee=String.fromCharCode,$e=Object.assign;function Ve(e){return e.trim()}function De(e,t,o){return e.replace(t,o)}function Ge(e,t){return e.indexOf(t)}function Ze(e,t){return 0|e.charCodeAt(t)}function Ue(e,t,o){return e.slice(t,o)}function We(e){return e.length}function qe(e){return e.length}function Je(e,t){return t.push(e),e}var Ke=1,Xe=1,Ye=0,Qe=0,et=0,tt="";function ot(e,t,o,n,l,r,i){return{value:e,root:t,parent:o,type:n,props:l,children:r,line:Ke,column:Xe,length:i,return:""}}function nt(e,t){return $e(ot("",null,null,"",null,null,0),e,{length:-e.length},t)}function lt(){return et=Qe>0?Ze(tt,--Qe):0,Xe--,10===et&&(Xe=1,Ke--),et}function rt(){return et=Qe<Ye?Ze(tt,Qe++):0,Xe++,10===et&&(Xe=1,Ke++),et}function it(){return Ze(tt,Qe)}function at(){return Qe}function st(e,t){return Ue(tt,e,t)}function ct(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dt(e){return Ke=Xe=1,Ye=We(tt=e),Qe=0,[]}function ut(e){return tt="",e}function pt(e){return Ve(st(Qe-1,xt(91===e?e+2:40===e?e+1:e)))}function bt(e){for(;(et=it())&&et<33;)rt();return ct(e)>2||ct(et)>3?"":" "}function ht(e,t){for(;--t&&rt()&&!(et<48||et>102||et>57&&et<65||et>70&&et<97););return st(e,at()+(t<6&&32==it()&&32==rt()))}function xt(e){for(;rt();)switch(et){case e:return Qe;case 34:case 39:34!==e&&39!==e&&xt(et);break;case 40:41===e&&xt(e);break;case 92:rt()}return Qe}function ft(e,t){for(;rt()&&e+et!==57&&(e+et!==84||47!==it()););return"/*"+st(t,Qe-1)+"*"+Ee(47===e?e:rt())}function mt(e){for(;!ct(it());)rt();return st(e,Qe)}var gt="-ms-",vt="-moz-",_t="-webkit-",yt="comm",wt="rule",kt="decl",Ct="@keyframes";function St(e,t){for(var o="",n=qe(e),l=0;l<n;l++)o+=t(e[l],l,e,t)||"";return o}function jt(e,t,o,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case kt:return e.return=e.return||e.value;case yt:return"";case Ct:return e.return=e.value+"{"+St(e.children,n)+"}";case wt:e.value=e.props.join(",")}return We(o=St(e.children,n))?e.return=e.value+"{"+o+"}":""}function It(e){return ut(Tt("",null,null,null,[""],e=dt(e),0,[0],e))}function Tt(e,t,o,n,l,r,i,a,s){for(var c=0,d=0,u=i,p=0,b=0,h=0,x=1,f=1,m=1,g=0,v="",_=l,y=r,w=n,k=v;f;)switch(h=g,g=rt()){case 40:if(108!=h&&58==Ze(k,u-1)){-1!=Ge(k+=De(pt(g),"&","&\f"),"&\f")&&(m=-1);break}case 34:case 39:case 91:k+=pt(g);break;case 9:case 10:case 13:case 32:k+=bt(h);break;case 92:k+=ht(at()-1,7);continue;case 47:switch(it()){case 42:case 47:Je(Bt(ft(rt(),at()),t,o),s);break;default:k+="/"}break;case 123*x:a[c++]=We(k)*m;case 125*x:case 59:case 0:switch(g){case 0:case 125:f=0;case 59+d:-1==m&&(k=De(k,/\f/g,"")),b>0&&We(k)-u&&Je(b>32?Mt(k+";",n,o,u-1):Mt(De(k," ","")+";",n,o,u-2),s);break;case 59:k+=";";default:if(Je(w=Nt(k,t,o,c,d,l,a,v,_=[],y=[],u),r),123===g)if(0===d)Tt(k,t,w,w,_,r,u,a,y);else switch(99===p&&110===Ze(k,3)?100:p){case 100:case 108:case 109:case 115:Tt(e,w,w,n&&Je(Nt(e,w,w,0,0,l,a,v,l,_=[],u),y),l,y,u,a,n?_:y);break;default:Tt(k,w,w,w,[""],y,0,a,y)}}c=d=b=0,x=m=1,v=k="",u=i;break;case 58:u=1+We(k),b=h;default:if(x<1)if(123==g)--x;else if(125==g&&0==x++&&125==lt())continue;switch(k+=Ee(g),g*x){case 38:m=d>0?1:(k+="\f",-1);break;case 44:a[c++]=(We(k)-1)*m,m=1;break;case 64:45===it()&&(k+=pt(rt())),p=it(),d=u=We(v=k+=mt(at())),g++;break;case 45:45===h&&2==We(k)&&(x=0)}}return r}function Nt(e,t,o,n,l,r,i,a,s,c,d){for(var u=l-1,p=0===l?r:[""],b=qe(p),h=0,x=0,f=0;h<n;++h)for(var m=0,g=Ue(e,u+1,u=Le(x=i[h])),v=e;m<b;++m)(v=Ve(x>0?p[m]+" "+g:De(g,/&\f/g,p[m])))&&(s[f++]=v);return ot(e,t,o,0===l?wt:a,s,c,d)}function Bt(e,t,o){return ot(e,t,o,yt,Ee(et),Ue(e,2,-2),0)}function Mt(e,t,o,n){return ot(e,t,o,kt,Ue(e,0,n),Ue(e,n+1,-1),n)}var Rt=function(e,t,o){for(var n=0,l=0;n=l,l=it(),38===n&&12===l&&(t[o]=1),!ct(l);)rt();return st(e,Qe)},At=new WeakMap,Ht=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,o=e.parent,n=e.column===o.column&&e.line===o.line;"rule"!==o.type;)if(!(o=o.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||At.get(o))&&!n){At.set(e,!0);for(var l=[],r=function(e,t){return ut(function(e,t){var o=-1,n=44;do{switch(ct(n)){case 0:38===n&&12===it()&&(t[o]=1),e[o]+=Rt(Qe-1,t,o);break;case 2:e[o]+=pt(n);break;case 4:if(44===n){e[++o]=58===it()?"&\f":"",t[o]=e[o].length;break}default:e[o]+=Ee(n)}}while(n=rt());return e}(dt(e),t))}(t,l),i=o.props,a=0,s=0;a<r.length;a++)for(var c=0;c<i.length;c++,s++)e.props[s]=l[a]?r[a].replace(/&\f/g,i[c]):i[c]+" "+r[a]}}},Ot=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Pt(e,t){switch(function(e,t){return 45^Ze(e,0)?(((t<<2^Ze(e,0))<<2^Ze(e,1))<<2^Ze(e,2))<<2^Ze(e,3):0}(e,t)){case 5103:return _t+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _t+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return _t+e+vt+e+gt+e+e;case 6828:case 4268:return _t+e+gt+e+e;case 6165:return _t+e+gt+"flex-"+e+e;case 5187:return _t+e+De(e,/(\w+).+(:[^]+)/,_t+"box-$1$2"+gt+"flex-$1$2")+e;case 5443:return _t+e+gt+"flex-item-"+De(e,/flex-|-self/,"")+e;case 4675:return _t+e+gt+"flex-line-pack"+De(e,/align-content|flex-|-self/,"")+e;case 5548:return _t+e+gt+De(e,"shrink","negative")+e;case 5292:return _t+e+gt+De(e,"basis","preferred-size")+e;case 6060:return _t+"box-"+De(e,"-grow","")+_t+e+gt+De(e,"grow","positive")+e;case 4554:return _t+De(e,/([^-])(transform)/g,"$1"+_t+"$2")+e;case 6187:return De(De(De(e,/(zoom-|grab)/,_t+"$1"),/(image-set)/,_t+"$1"),e,"")+e;case 5495:case 3959:return De(e,/(image-set\([^]*)/,_t+"$1$`$1");case 4968:return De(De(e,/(.+:)(flex-)?(.*)/,_t+"box-pack:$3"+gt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_t+e+e;case 4095:case 3583:case 4068:case 2532:return De(e,/(.+)-inline(.+)/,_t+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(We(e)-1-t>6)switch(Ze(e,t+1)){case 109:if(45!==Ze(e,t+4))break;case 102:return De(e,/(.+:)(.+)-([^]+)/,"$1"+_t+"$2-$3$1"+vt+(108==Ze(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Ge(e,"stretch")?Pt(De(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Ze(e,t+1))break;case 6444:switch(Ze(e,We(e)-3-(~Ge(e,"!important")&&10))){case 107:return De(e,":",":"+_t)+e;case 101:return De(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_t+(45===Ze(e,14)?"inline-":"")+"box$3$1"+_t+"$2$3$1"+gt+"$2box$3")+e}break;case 5936:switch(Ze(e,t+11)){case 114:return _t+e+gt+De(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return _t+e+gt+De(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return _t+e+gt+De(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return _t+e+gt+e+e}return e}var Ft=[function(e,t,o,n){if(e.length>-1&&!e.return)switch(e.type){case kt:e.return=Pt(e.value,e.length);break;case Ct:return St([nt(e,{value:De(e.value,"@","@"+_t)})],n);case wt:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return St([nt(e,{props:[De(t,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return St([nt(e,{props:[De(t,/:(plac\w+)/,":"+_t+"input-$1")]}),nt(e,{props:[De(t,/:(plac\w+)/,":-moz-$1")]}),nt(e,{props:[De(t,/:(plac\w+)/,gt+"input-$1")]})],n)}return""}))}}],zt=function(e){var t=e.key;if("css"===t){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var n,l,r=e.stylisPlugins||Ft,i={},a=[];n=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),o=1;o<t.length;o++)i[t[o]]=!0;a.push(e)}));var s,c,d,u,p=[jt,(u=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],b=(c=[Ht,Ot].concat(r,p),d=qe(c),function(e,t,o,n){for(var l="",r=0;r<d;r++)l+=c[r](e,t,o,n)||"";return l});l=function(e,t,o,n){s=o,St(It(e?e+"{"+t.styles+"}":t.styles),b),n&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new ze({key:t,container:n,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return h.sheet.hydrate(a),h};function Lt(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return Fe(t)}function Et(){return Et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},Et.apply(null,arguments)}o(146);var $t=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Vt=Ie((function(e){return $t.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Dt=me.createContext("undefined"!=typeof HTMLElement?zt({key:"css"}):null),Gt=(Dt.Provider,function(e){return(0,me.forwardRef)((function(t,o){var n=(0,me.useContext)(Dt);return e(t,n,o)}))}),Zt=me.createContext({}),Ut=function(e,t,o){var n=e.key+"-"+t.name;!1===o&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},Wt=Vt,qt=function(e){return"theme"!==e},Jt=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?Wt:qt},Kt=function(e,t,o){var n;if(t){var l=t.shouldForwardProp;n=e.__emotion_forwardProp&&l?function(t){return e.__emotion_forwardProp(t)&&l(t)}:l}return"function"!=typeof n&&o&&(n=e.__emotion_forwardProp),n},Xt=function(e){var t=e.cache,o=e.serialized,n=e.isStringTag;return Ut(t,o,n),Se((function(){return function(e,t,o){Ut(e,t,o);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var l=t;do{e.insert(t===l?"."+n:"",l,e.sheet,!0),l=l.next}while(void 0!==l)}}(t,o,n)})),null},Yt=function e(t,o){var n,l,r=t.__emotion_real===t,i=r&&t.__emotion_base||t;void 0!==o&&(n=o.label,l=o.target);var a=Kt(t,o,r),s=a||Jt(i),c=!s("as");return function(){var d=arguments,u=r&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==n&&u.push("label:"+n+";"),null==d[0]||void 0===d[0].raw)u.push.apply(u,d);else{u.push(d[0][0]);for(var p=d.length,b=1;b<p;b++)u.push(d[b],d[0][b])}var h=Gt((function(e,t,o){var n,r,d,p,b=c&&e.as||i,h="",x=[],f=e;if(null==e.theme){for(var m in f={},e)f[m]=e[m];f.theme=me.useContext(Zt)}"string"==typeof e.className?(n=t.registered,r=x,d=e.className,p="",d.split(" ").forEach((function(e){void 0!==n[e]?r.push(n[e]+";"):e&&(p+=e+" ")})),h=p):null!=e.className&&(h=e.className+" ");var g=Fe(u.concat(x),t.registered,f);h+=t.key+"-"+g.name,void 0!==l&&(h+=" "+l);var v=c&&void 0===a?Jt(b):s,_={};for(var y in e)c&&"as"===y||v(y)&&(_[y]=e[y]);return _.className=h,o&&(_.ref=o),me.createElement(me.Fragment,null,me.createElement(Xt,{cache:t,serialized:g,isStringTag:"string"==typeof b}),me.createElement(b,_))}));return h.displayName=void 0!==n?n:"Styled("+("string"==typeof i?i:i.displayName||i.name||"Component")+")",h.defaultProps=t.defaultProps,h.__emotion_real=h,h.__emotion_base=i,h.__emotion_styles=u,h.__emotion_forwardProp=a,Object.defineProperty(h,"toString",{value:function(){return"."+l}}),h.withComponent=function(t,n){return e(t,Et({},o,n,{shouldForwardProp:Kt(h,n,!0)})).apply(void 0,u)},h}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Yt[e]=Yt(e)}));const Qt=Yt.span`
	position: relative;
	width: 24px;
	height: 24px;
`,eo=Yt.span`
	background-color: currentColor;
	box-sizing: border-box;
	display: block;
	pointer-events: none;
	position: absolute;
	${({isFocused:e})=>!e&&Lt({opacity:.3})}
`,to=Yt.span`
	box-sizing: border-box;
	display: block;
	pointer-events: none;
	position: absolute;
	width: 8px;
	height: 8px;
	${({isFocused:e})=>!e&&Lt({opacity:.3})}
`,oo=Yt(eo)`
	top: 3px;
	right: 6px;
	left: 6px;
	height: 2px;
`,no=Yt(eo)`
	top: 6px;
	right: 3px;
	bottom: 6px;
	width: 2px;
	background-color: currentColor;
`,lo=Yt(eo)`
	right: 6px;
	bottom: 3px;
	left: 6px;
	height: 2px;
	background-color: currentColor;
`,ro=Yt(eo)`
	top: 6px;
	bottom: 6px;
	left: 3px;
	width: 2px;
	background-color: currentColor;
`,io=Yt(to)`
	top: 3px;
	left: 3px;
	border-top: 2px solid;
	border-left: 2px solid;
`,ao=Yt(to)`
	top: 3px;
	right: 3px;
	border-top: 2px solid;
	border-right: 2px solid;
`,so=Yt(to)`
	right: 3px;
	bottom: 3px;
	border-right: 2px solid;
	border-bottom: 2px solid;
`,co=Yt(to)`
	bottom: 3px;
	left: 3px;
	border-bottom: 2px solid;
	border-left: 2px solid;
`;function uo({sides:e}){const t=!e||e.includes("top"),o=!e||e.includes("right"),n=!e||e.includes("bottom"),l=!e||e.includes("left");return(0,b.jsxs)(Qt,{children:[(0,b.jsx)(oo,{isFocused:t}),(0,b.jsx)(no,{isFocused:o}),(0,b.jsx)(lo,{isFocused:n}),(0,b.jsx)(ro,{isFocused:l})]})}function po({corners:e}){const t=!e||e.includes("topLeft"),o=!e||e.includes("topRight"),n=!e||e.includes("bottomRight"),l=!e||e.includes("bottomLeft");return(0,b.jsxs)(Qt,{children:[(0,b.jsx)(io,{isFocused:t}),(0,b.jsx)(ao,{isFocused:o}),(0,b.jsx)(so,{isFocused:n}),(0,b.jsx)(co,{isFocused:l})]})}function bo({directions:e}){const t=!e||e.includes("horizontal"),o=!e||e.includes("vertical");return(0,b.jsxs)(Qt,{children:[(0,b.jsx)(oo,{isFocused:o}),(0,b.jsx)(no,{isFocused:t}),(0,b.jsx)(lo,{isFocused:o}),(0,b.jsx)(ro,{isFocused:t})]})}const ho={top:"",right:"",bottom:"",left:""};function xo({label:e=(0,n.__)("Border color","flexible-table-block"),help:t,onChange:o,values:l}){const i={...ho,...l},s=`${(0,a.useInstanceId)(xo,"ftb-border-color-control")}-heading`,c=!(i.top===i.right&&i.top===i.bottom&&i.top===i.left),d=(0,u.useSelect)((e=>{var t;const o=e(r.store).getSettings();return null!==(t=o?.colors)&&void 0!==t?t:[]}),[]),[p,h]=(0,_e.useState)(!0),[x,f]=(0,_e.useState)(!1),[m,g]=(0,_e.useState)(void 0),v=p?(0,n.__)("Unlink sides","flexible-table-block"):(0,n.__)("Link sides","flexible-table-block"),y=c?"":i.top,w=e=>{f(!0),g(e)},k=()=>{f(!1),g(void 0)};return(0,b.jsx)(_.BaseControl,{className:"ftb-border-color-control",help:t,__nextHasNoMarginBottom:!0,children:(0,b.jsxs)(_.__experimentalVStack,{"aria-labelledby":s,role:"group",children:[(0,b.jsxs)(_.Flex,{children:[(0,b.jsx)(_.__experimentalText,{id:s,upperCase:!0,size:"11",weight:"500",as:_.FlexBlock,children:e}),(0,b.jsx)(_.FlexItem,{children:(0,b.jsx)(_.Button,{variant:"secondary",onClick:()=>{h(!0),o(ho)},size:"small",children:(0,n.__)("Reset","flexible-table-block")})})]}),(0,b.jsxs)(_.__experimentalHStack,{alignment:"start",justify:"space-between",children:[p?(0,b.jsxs)(_.__experimentalHStack,{spacing:3,justify:"start",children:[(0,b.jsx)(uo,{}),(0,b.jsx)(ke,{label:(0,n.__)("All","flexible-table-block"),value:y,onClick:()=>w(void 0),isNone:!y&&!c,isTransparent:"transparent"===y,isMixed:c}),x&&!m&&(0,b.jsx)(_.Popover,{placement:"left-start",shift:!0,offset:36,onClose:k,children:(0,b.jsx)(_.__experimentalSpacer,{padding:4,marginBottom:0,children:(0,b.jsx)(_.ColorPalette,{colors:d,value:y||"",onChange:e=>{o({top:e,right:e,bottom:e,left:e})}})})})]}):(0,b.jsx)(_.__experimentalVStack,{children:se.map(((e,t)=>(0,b.jsxs)(_.__experimentalHStack,{spacing:3,justify:"start",children:[(0,b.jsx)(uo,{sides:[e.value]}),(0,b.jsx)(ke,{label:e.label,value:i[e.value],onClick:()=>w(t),isNone:!i[e.value],isTransparent:"transparent"===i[e.value]}),x&&m===t&&(0,b.jsx)(_.Popover,{placement:"left-start",shift:!0,offset:36,onClose:k,children:(0,b.jsx)(_.__experimentalSpacer,{padding:4,marginBottom:0,children:(0,b.jsx)(_.ColorPalette,{colors:d,value:i[e.value]||"",onChange:t=>{return n=t,l=e.value,void o({...i,[l]:n});var n,l}})})})]},e.value)))}),(0,b.jsx)(_.Button,{label:v,onClick:()=>h(!p),icon:p?ye:we,size:"small"})]})]})})}function fo(e){if(null===e||"object"!=typeof e||Array.isArray(e))return e;const t=Object.entries(e).map((([e,t])=>[e,fo(t)])).filter((([,e])=>void 0!==e));return t.length?Object.fromEntries(t):void 0}function mo(e){const t=e.split(" ").map((e=>e.toLowerCase()));switch(t.length){case 1:return[t[0],t[0],t[0],t[0]];case 2:return[t[0],t[1],t[0],t[1]];case 3:return[t[0],t[1],t[2],t[1]];case 4:return[t[0],t[1],t[2],t[3]];default:return["","","",""]}}function go(e,t){var o;const n=String(e).trim();let l=parseFloat(n);if(isNaN(l))return"";if(l<0)return"";if(0===l)return"0";t?.minNum&&(l=Math.max(t.minNum,l)),t?.maxNum&&(l=Math.min(t.maxNum,l));const r=10**(t?.precision||4);return l=Math.round(l*r)/r,`${l}${(null!==(o=n.match(/[\d.\-+]*\s*(.*)/)?.[1])&&void 0!==o?o:"").toLowerCase()}`}function vo(e){var t;const o=String(e).trim(),n=parseFloat(o);return isNaN(n)?[0,""]:[n,(null!==(t=o.match(/[\d.\-+]*\s*(.*)/)?.[1])&&void 0!==t?t:"").toLowerCase()]}function _o(e,t=0){if(!e)return t;const o=parseInt(String(e),10);return isNaN(o)?t:o||t}function yo(e){const t=parseInt(e,10);if(Number.isInteger(t))return t<0||1===t?void 0:t.toString()}const wo={topLeft:"",topRight:"",bottomRight:"",bottomLeft:""};function ko({label:e=(0,n.__)("Border radius","flexible-table-block"),help:t,onChange:o,values:l}){const r={...wo,...l},i=`${(0,a.useInstanceId)(ko,"ftb-border-radius-control")}-heading`,s=!(r.topLeft===r.topRight&&r.topLeft===r.bottomRight&&r.topLeft===r.bottomLeft),c=(0,_.__experimentalUseCustomUnits)({availableUnits:W}),[d,u]=(0,_e.useState)(!0),[p,h]=(0,_e.useState)(void 0),x=d?(0,n.__)("Unlink sides","flexible-table-block"):(0,n.__)("Link sides","flexible-table-block"),f=s?(0,n.__)("Mixed","flexible-table-block"):"",m=s?"":r.topLeft;return(0,b.jsx)(_.BaseControl,{className:"ftb-border-radius-control",help:t,__nextHasNoMarginBottom:!0,children:(0,b.jsxs)(_.__experimentalVStack,{"aria-labelledby":i,role:"group",children:[(0,b.jsxs)(_.Flex,{children:[(0,b.jsx)(_.__experimentalText,{id:i,upperCase:!0,size:"11",weight:"500",as:_.FlexBlock,children:e}),(0,b.jsx)(_.FlexItem,{children:(0,b.jsx)(_.Button,{variant:"secondary",onClick:()=>{u(!0),h(void 0),o(wo)},size:"small",children:(0,n.__)("Reset","flexible-table-block")})})]}),(0,b.jsxs)(_.__experimentalHStack,{alignment:"center",justify:"space-between",style:{minHeight:"40px"},children:[(0,b.jsxs)(_.__experimentalHStack,{justify:"start",children:[(0,b.jsx)(po,{corners:void 0===p?void 0:[p]}),d&&(0,b.jsx)("div",{children:(0,b.jsx)(_.__experimentalUnitControl,{hideLabelFromVision:!0,label:(0,n.__)("All","flexible-table-block"),placeholder:f,onChange:e=>{if(e){const[,t]=vo(e),n=go(e,{maxNum:E[t]});o({topLeft:n,topRight:n,bottomRight:n,bottomLeft:n})}else o({topLeft:void 0,topRight:void 0,bottomRight:void 0,bottomLeft:void 0})},value:m,units:c,min:0,size:"__unstable-large",__unstableInputWidth:"100px"})})]}),(0,b.jsx)(_.Button,{label:x,onClick:()=>{u(!d),h(void 0)},icon:d?ye:we,size:"small"})]}),!d&&(0,b.jsx)(_.__experimentalGrid,{gap:2,children:ie.map((e=>(0,b.jsx)("div",{children:(0,b.jsx)(_.__experimentalUnitControl,{"aria-label":e.label,value:r[e.value],units:c,min:0,onFocus:()=>{return t=e.value,h(t);var t},onChange:t=>((e,t)=>{if(e){const[,n]=vo(e),l=go(e,{maxNum:E[n]});o({...r,[t]:l})}else o({...r,[t]:void 0})})(t,e.value),size:"__unstable-large",style:{marginBottom:0}})},e.value)))})]})})}const Co={top:"",right:"",bottom:"",left:""};function So({label:e=(0,n.__)("Border style","flexible-table-block"),help:t,onChange:o,values:l,allowSides:r=!0,hasIndicator:i=!0}){const s={...Co,...l},c=`${(0,a.useInstanceId)(So,"ftb-border-style-control")}-heading`,d=r&&!(s.top===s.right&&s.top===s.bottom&&s.top===s.left),[u,p]=(0,_e.useState)(!0),h=u?(0,n.__)("Unlink sides","flexible-table-block"):(0,n.__)("Link sides","flexible-table-block"),x=d?"":s.top;return(0,b.jsx)(_.BaseControl,{className:"ftb-border-style-control",help:t,__nextHasNoMarginBottom:!0,children:(0,b.jsxs)(_.__experimentalVStack,{"aria-labelledby":c,role:"group",children:[(0,b.jsxs)(_.Flex,{children:[(0,b.jsx)(_.__experimentalText,{id:c,upperCase:!0,size:"11",weight:"500",as:_.FlexBlock,children:d&&u?`${e} ${(0,n.__)("(Mixed)","flexible-table-block")}`:e}),(0,b.jsx)(_.FlexItem,{children:(0,b.jsx)(_.Button,{variant:"secondary",onClick:()=>{p(!0),o(Co)},size:"small",children:(0,n.__)("Reset","flexible-table-block")})})]}),(0,b.jsxs)(_.__experimentalHStack,{alignment:"start",justify:"space-between",children:[u?(0,b.jsxs)(_.__experimentalHStack,{spacing:2,justify:"start",children:[i&&(0,b.jsx)(uo,{}),(0,b.jsx)(_.__experimentalToggleGroupControl,{hideLabelFromVision:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:e,value:x,isDeselectable:!0,onChange:e=>{const t=e===s.top&&e===s.right&&e===s.bottom&&e===s.left?void 0:e;o({top:t,right:t,bottom:t,left:t})},children:Q.map((e=>(0,b.jsx)(_.__experimentalToggleGroupControlOptionIcon,{label:e.label,value:e.value,icon:e.icon},e.value)))})]}):(0,b.jsx)(_.__experimentalVStack,{spacing:1,children:se.map((e=>(0,b.jsxs)(_.__experimentalHStack,{spacing:2,justify:"start",children:[i&&(0,b.jsx)(uo,{sides:[e.value]}),(0,b.jsx)(_.__experimentalToggleGroupControl,{hideLabelFromVision:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:e.label,value:s[e.value],isDeselectable:!0,onChange:t=>((e,t)=>{const n=s[t]&&e===s[t]?void 0:e;o({...s,[t]:n})})(t,e.value),children:Q.map((e=>(0,b.jsx)(_.__experimentalToggleGroupControlOptionIcon,{label:e.label,value:e.value,icon:e.icon},e.value)))})]},e.value)))}),r&&(0,b.jsx)(_.Button,{label:h,onClick:()=>p(!u),icon:u?ye:we,size:"small",style:{marginTop:"6px"}})]})]})})}const jo={top:"",right:"",bottom:"",left:""};function Io({label:e=(0,n.__)("Border width","flexible-table-block"),help:t,onChange:o,values:l,allowSides:r=!0,hasIndicator:i=!0}){const s={...jo,...l},c=`${(0,a.useInstanceId)(Io,"ftb-border-width-control")}-heading`,d=r&&!(s.top===s.right&&s.top===s.bottom&&s.top===s.left),u=(0,_.__experimentalUseCustomUnits)({availableUnits:q}),[p,h]=(0,_e.useState)(!0),[x,f]=(0,_e.useState)(void 0),m=p?(0,n.__)("Unlink sides","flexible-table-block"):(0,n.__)("Link sides","flexible-table-block"),g=d?(0,n.__)("Mixed","flexible-table-block"):"",v=d?"":s.top;return(0,b.jsx)(_.BaseControl,{className:"ftb-border-width-control",help:t,__nextHasNoMarginBottom:!0,children:(0,b.jsxs)(_.__experimentalVStack,{"aria-labelledby":c,role:"group",children:[(0,b.jsxs)(_.Flex,{children:[(0,b.jsx)(_.__experimentalText,{id:c,upperCase:!0,size:"11",weight:"500",as:_.FlexBlock,children:e}),(0,b.jsx)(_.FlexItem,{children:(0,b.jsx)(_.Button,{variant:"secondary",onClick:()=>{h(!0),f(void 0),o(jo)},size:"small",children:(0,n.__)("Reset","flexible-table-block")})})]}),(0,b.jsxs)(_.__experimentalHStack,{alignment:"center",justify:"space-between",style:{minHeight:"40px"},children:[(0,b.jsxs)(_.__experimentalHStack,{justify:"start",children:[i&&(0,b.jsx)(uo,{sides:void 0===x?void 0:[x]}),(p||!r)&&(0,b.jsx)("div",{children:(0,b.jsx)(_.__experimentalUnitControl,{"aria-label":(0,n.__)("All","flexible-table-block"),value:v,units:u,placeholder:g,onChange:e=>{if(e){const[,t]=vo(e),n=go(e,{maxNum:$[t]});o({top:n,right:n,bottom:n,left:n})}else o({top:void 0,right:void 0,bottom:void 0,left:void 0})},size:"__unstable-large",__unstableInputWidth:"100px"})})]}),r&&(0,b.jsx)(_.Button,{label:m,icon:p?ye:we,onClick:()=>{h(!p),f(void 0)},size:"small"})]}),!p&&r&&(0,b.jsx)(_.__experimentalGrid,{gap:2,columns:2,rows:3,children:se.map((e=>{return(0,b.jsx)("div",{style:(t=e.value,"top"===t||"bottom"===t?{gridColumn:"span 2",margin:"0 auto"}:"right"===t?{gridColumn:2,display:"flex",justifyContent:"flex-end"}:{gridRow:2}),children:(0,b.jsx)(_.__experimentalUnitControl,{"aria-label":e.label,value:s[e.value],units:u,onFocus:()=>{return t=e.value,f(t);var t},onChange:t=>((e,t)=>{if(e){const[,n]=vo(e),l=go(e,{maxNum:$[n]});o({...s,[t]:l})}else o({...s,[t]:void 0})})(t,e.value),size:"__unstable-large",__unstableInputWidth:"100px"})},e.value);var t}))})]})})}const To={horizontal:"",vertical:""};function No({label:e=(0,n.__)("Border spacing","flexible-table-block"),help:t,onChange:o,values:l}){const r={...To,...l},i=`${(0,a.useInstanceId)(No,"ftb-border-spacing-control")}-heading`,s=!(r.horizontal===r.vertical),c=(0,_.__experimentalUseCustomUnits)({availableUnits:U}),[d,u]=(0,_e.useState)(!0),p=d?(0,n.__)("Unlink directions","flexible-table-block"):(0,n.__)("Link directions","flexible-table-block"),h=s?(0,n.__)("Mixed","flexible-table-block"):"",x=s?"":r.horizontal;return(0,b.jsx)(_.BaseControl,{className:"ftb-border-spacing-control",help:t,__nextHasNoMarginBottom:!0,children:(0,b.jsxs)(_.__experimentalVStack,{"aria-labelledby":i,role:"group",children:[(0,b.jsxs)(_.Flex,{children:[(0,b.jsx)(_.__experimentalText,{id:i,upperCase:!0,size:"11",weight:"500",as:_.FlexBlock,children:e}),(0,b.jsx)(_.FlexItem,{children:(0,b.jsx)(_.Button,{variant:"secondary",onClick:()=>{u(!0),o(To)},size:"small",children:(0,n.__)("Reset","flexible-table-block")})})]}),(0,b.jsxs)(_.__experimentalHStack,{alignment:"start",justify:"space-between",children:[d?(0,b.jsxs)(_.__experimentalHStack,{justify:"start",children:[(0,b.jsx)(bo,{}),(0,b.jsx)(_.__experimentalUnitControl,{"aria-label":(0,n.__)("All","flexible-table-block"),value:x,units:c,placeholder:h,onChange:e=>{if(e){const[,t]=vo(e),n=go(e,{maxNum:V[t]});o({horizontal:n,vertical:n})}else o({horizontal:void 0,vertical:void 0})},size:"__unstable-large",__unstableInputWidth:"100px"})]}):(0,b.jsx)(_.__experimentalVStack,{spacing:1,children:ae.map((e=>(0,b.jsxs)(_.__experimentalHStack,{justify:"start",children:[(0,b.jsx)(bo,{directions:[e.value]}),(0,b.jsx)(_.__experimentalUnitControl,{"aria-label":e.label,value:r[e.value],units:c,onChange:t=>((e,t)=>{if(e){const[,n]=vo(e),l=go(e,{maxNum:V[n]});o({...r,[t]:l})}else o({...r,[t]:void 0})})(t,e.value),size:"__unstable-large",__unstableInputWidth:"100px"},e.value)]},e.value)))}),(0,b.jsx)(_.Button,{label:p,icon:d?ye:we,onClick:()=>{u(!d)},size:"small",style:{marginTop:"8px"}})]})]})})}function Bo({label:e=(0,n.__)("Color","flexible-table-block"),help:t,onChange:o,colors:l=[],value:i}){const s=`${(0,a.useInstanceId)(Bo,"ftb-color-control")}-heading`,c=(0,u.useSelect)((e=>{var t;const o=e(r.store).getSettings();return null!==(t=o?.colors)&&void 0!==t?t:[]}),[]),[d,p]=(0,_e.useState)(!1);return(0,b.jsxs)(_.BaseControl,{className:"ftb-color-control",help:t,__nextHasNoMarginBottom:!0,children:[(0,b.jsxs)(_.__experimentalVStack,{"aria-labelledby":s,role:"group",children:[(0,b.jsxs)(_.Flex,{children:[(0,b.jsx)(_.__experimentalText,{id:s,upperCase:!0,size:"11",weight:"500",as:_.FlexBlock,children:e}),(0,b.jsx)(_.FlexItem,{children:(0,b.jsx)(_.Button,{variant:"secondary",onClick:()=>o(void 0),size:"small",children:(0,n.__)("Reset","flexible-table-block")})})]}),(0,b.jsx)(ke,{label:(0,n.__)("Color","flexible-table-block"),value:i,onClick:()=>p(!0),isNone:!i,isTransparent:"transparent"===i})]}),d&&(0,b.jsx)(_.Popover,{placement:"left-start",shift:!0,offset:36,onClose:()=>p(!1),children:(0,b.jsx)(_.__experimentalSpacer,{padding:4,marginBottom:0,children:(0,b.jsx)(_.ColorPalette,{colors:[...c,...l],value:i||"",onChange:e=>o(e)})})})]})}const Mo={top:"",right:"",bottom:"",left:""};function Ro({label:e=(0,n.__)("Padding","flexible-table-block"),help:t,onChange:o,values:l}){const r={...Mo,...l},i=`${(0,a.useInstanceId)(Ro,"ftb-padding-control")}-heading`,s=!(r.top===r.right&&r.top===r.bottom&&r.top===r.left),c=(0,_.__experimentalUseCustomUnits)({availableUnits:J}),[d,u]=(0,_e.useState)(!0),[p,h]=(0,_e.useState)(void 0),x=d?(0,n.__)("Unlink sides","flexible-table-block"):(0,n.__)("Link sides","flexible-table-block"),f=s?(0,n.__)("Mixed","flexible-table-block"):"",m=s?"":r.top;return(0,b.jsx)(_.BaseControl,{className:"ftb-padding-control",help:t,__nextHasNoMarginBottom:!0,children:(0,b.jsxs)(_.__experimentalVStack,{"aria-labelledby":i,role:"group",children:[(0,b.jsxs)(_.Flex,{children:[(0,b.jsx)(_.__experimentalText,{id:i,upperCase:!0,size:"11",weight:"500",as:_.FlexBlock,children:e}),(0,b.jsx)(_.FlexItem,{children:(0,b.jsx)(_.Button,{variant:"secondary",onClick:()=>{u(!0),h(void 0),o(Mo)},size:"small",children:(0,n.__)("Reset","flexible-table-block")})})]}),(0,b.jsxs)(_.__experimentalHStack,{alignment:"center",justify:"space-between",style:{minHeight:"40px"},children:[(0,b.jsxs)(_.__experimentalHStack,{justify:"start",children:[(0,b.jsx)(uo,{sides:void 0===p?void 0:[p]}),d&&(0,b.jsx)("div",{children:(0,b.jsx)(_.__experimentalUnitControl,{placeholder:f,"aria-label":(0,n.__)("All","flexible-table-block"),onChange:e=>{const t=go(e);o({top:t,right:t,bottom:t,left:t})},value:m,units:c,size:"__unstable-large",__unstableInputWidth:"100px"})})]}),(0,b.jsx)(_.Button,{label:x,onClick:()=>{u(!d),h(void 0)},icon:d?ye:we,size:"small"})]}),!d&&(0,b.jsx)(_.__experimentalGrid,{gap:2,columns:2,rows:3,children:se.map((e=>{return(0,b.jsx)("div",{style:(t=e.value,"top"===t||"bottom"===t?{gridColumn:"span 2",margin:"0 auto"}:"right"===t?{gridColumn:2,display:"flex",justifyContent:"flex-end"}:{gridRow:2}),children:(0,b.jsx)(_.__experimentalUnitControl,{"aria-label":e.label,value:r[e.value],units:c,onFocus:()=>{return t=e.value,h(t);var t},onChange:t=>{return n=t,l=e.value,void o({...r,[l]:go(n)});var n,l},size:"__unstable-large",__unstableInputWidth:"100px"})},e.value);var t}))})]})})}function Ao({isOpen:e,value:t,onChange:o,onOpen:l,onClose:r,onGoTo:i,inputRef:s}){return(0,a.useKeyboardShortcut)("mod+g",(e=>{e.preventDefault(),l(),setTimeout((()=>{s.current?.focus()}),0)}),{bindGlobal:!0}),e?(0,b.jsx)(_.Modal,{title:(0,n.__)("Go to Cell","flexible-table-block"),onRequestClose:r,className:"ftb-goto-cell-modal",children:(0,b.jsxs)("div",{className:"ftb-goto-cell-modal__content",children:[(0,b.jsx)("p",{children:(0,n.__)('Enter the cell coordinates in row:column format (e.g., "1:1" for first cell)',"flexible-table-block")}),(0,b.jsx)(_.TextControl,{ref:s,value:t,onChange:o,placeholder:"row:column",onKeyDown:e=>{"Enter"===e.key?i(t):"Escape"===e.key&&r()}}),(0,b.jsxs)("div",{className:"ftb-goto-cell-modal__buttons",children:[(0,b.jsx)(_.Button,{variant:"primary",onClick:()=>i(t),children:(0,n.__)("Go to Cell","flexible-table-block")}),(0,b.jsx)(_.Button,{variant:"secondary",onClick:r,children:(0,n.__)("Cancel","flexible-table-block")})]})]})}):null}function Ho(e){return e?e.split(";").filter((e=>e.split(":")[0]&&e.split(":")[1])).map((e=>[e.split(":")[0].trim().replace(/-./g,(e=>e.substr(1).toUpperCase())),e.split(":")[1].trim()])).reduce(((e,t)=>({...e,[t[0]]:t[1]})),{}):{}}function Oo(e){return Object.keys(e).reduce(((t,o)=>{const n=o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),l=e[o];return void 0===l||"string"!=typeof l&&0!==l||t.push(`${n}:${l};`),t}),[]).join("")}function Po(e,t,o,n,l){return t===o&&t===n&&t===l?{[e]:t}:t===n&&l===o?{[e]:`${t} ${l}`}:l===o?{[e]:`${t} ${l} ${n}`}:{[e]:`${t} ${o} ${n} ${l}`}}function Fo(e,t){if(!t)return e;const o=t.top?go(t.top):void 0,n=t.right?go(t.right):void 0,l=t.bottom?go(t.bottom):void 0,r=t.left?go(t.left):void 0,{padding:i,paddingTop:a,paddingRight:s,paddingBottom:c,paddingLeft:d,...u}=e;return o&&n&&l&&r?{...u,...Po("padding",o,n,l,r)}:{...u,...fo({paddingTop:o,paddingRight:n,paddingBottom:l,paddingLeft:r})}}function zo(e,t){if(!t)return e;const o=t.top?go(t.top):void 0,n=t.right?go(t.right):void 0,l=t.bottom?go(t.bottom):void 0,r=t.left?go(t.left):void 0,{borderWidth:i,borderTopWidth:a,borderRightWidth:s,borderBottomWidth:c,borderLeftWidth:d,...u}=e;return o&&n&&l&&r?{...u,...Po("borderWidth",o,n,l,r)}:{...u,...fo({borderTopWidth:o,borderRightWidth:n,borderBottomWidth:l,borderLeftWidth:r})}}function Lo(e,t){var o,n,l,r;if(!t)return e;const i=null!==(o=t.top)&&void 0!==o?o:void 0,a=null!==(n=t.right)&&void 0!==n?n:void 0,s=null!==(l=t.bottom)&&void 0!==l?l:void 0,c=null!==(r=t.left)&&void 0!==r?r:void 0,{borderStyle:d,borderTopStyle:u,borderRightStyle:p,borderBottomStyle:b,borderLeftStyle:h,...x}=e;return i&&a&&s&&c?{...x,...Po("borderStyle",i,a,s,c)}:{...x,...fo({borderTopStyle:i,borderRightStyle:a,borderBottomStyle:s,borderLeftStyle:c})}}function Eo(e,t){var o,n,l,r;if(!t)return e;const i=null!==(o=t.top)&&void 0!==o?o:void 0,a=null!==(n=t.right)&&void 0!==n?n:void 0,s=null!==(l=t.bottom)&&void 0!==l?l:void 0,c=null!==(r=t.left)&&void 0!==r?r:void 0,{borderColor:d,borderTopColor:u,borderRightColor:p,borderBottomColor:b,borderLeftColor:h,...x}=e;return i&&a&&s&&c?{...x,...Po("borderColor",i,a,s,c)}:{...x,...fo({borderTopColor:i,borderRightColor:a,borderBottomColor:s,borderLeftColor:c})}}function $o(e,t){if(!t)return e;const o=t?.topLeft?go(t.topLeft):void 0,n=t?.topRight?go(t.topRight):void 0,l=t?.bottomRight?go(t.bottomRight):void 0,r=t?.bottomLeft?go(t.bottomLeft):void 0,{borderRadius:i,borderTopLeftRadius:a,borderTopRightRadius:s,borderBottomRightRadius:c,borderBottomLeftRadius:d,...u}=e;return o&&n&&l&&r?{...u,...Po("borderRadius",o,n,l,r)}:{...u,...fo({borderTopLeftRadius:o,borderTopRightRadius:n,borderBottomRightRadius:l,borderBottomLeftRadius:r})}}function Vo(e,{sectionName:t,rowIndex:o}){const n=e.body[0].cells.length,l=Ko(e),r={cells:Array.from({length:n}).map(((e,n)=>{const r=l.reduce(((e,t)=>e.concat(t.cells)),[]).filter((e=>e.sectionName===t&&e.rowIndex<o&&e.rowIndex+e.rowSpan-1>=o&&e.vColIndex<=n&&n<=e.vColIndex+e.colSpan-1));return{content:"",tag:"head"===t?"th":"td",rowSpan:1,colSpan:1,sectionName:t,rowIndex:o,vColIndex:n,isFirstSelected:!1,isHidden:!!r.length}}))};return{...e,[t]:[...e[t].slice(0,o),r,...e[t].slice(o).map((({cells:e})=>({cells:e.map((e=>({...e,rowIndex:e.rowIndex+1})))})))].map((({cells:e},n)=>({cells:e.map((e=>e.sectionName===t&&e.rowSpan>1&&n<=o&&n+e.rowSpan-1>=o?{...e,sectionName:t,rowIndex:n,rowSpan:e.rowSpan+1}:e))})))}}function Do(e,{sectionName:t,rowIndex:o}){const n=e[t][o].cells.filter((e=>e.rowSpan>1)).length;if(n)for(let l=0;l<n;l++){const n=e[t].reduce(((e,t)=>e.concat(t.cells)),[]).filter((e=>e.rowSpan>1&&e.rowIndex===o));n.length&&(e=Uo(e,n[0]))}return{...e,[t]:e[t].reduce(((e,t,n)=>(n===o||e.push({cells:t.cells.map((e=>e.rowSpan>1&&n<o&&n+e.rowSpan-1>=o?{...e,rowSpan:e.rowSpan-1}:n>o?{...e,rowIndex:e.rowIndex-1}:e))}),e)),[])}}function Go(e,{vColIndex:t}){const o=e.body[0].cells.length===t,n=Ko(e);return Object.entries(e).reduce(((e,[l,r])=>r.length?(e[l]=r.map((({cells:e},r)=>({cells:e.reduce(((e,i,a)=>{if(i.colSpan>1&&a<t&&a+i.colSpan-1>=t)return e.push({...i,colSpan:i.colSpan+1}),e;if(o&&a+1===t)return e.push(i,{content:"",tag:"head"===l?"th":"td",rowSpan:1,colSpan:1,sectionName:i.sectionName,rowIndex:i.rowIndex,vColIndex:t+1,isHidden:!1}),e;if(a===t){const o=n.reduce(((e,t)=>e.concat(t.cells)),[]).filter((e=>e.sectionName===l&&e.colSpan>1&&e.rowIndex<=r&&e.rowIndex+e.rowSpan-1>=r&&e.vColIndex<t&&t<=e.vColIndex+e.colSpan-1));return e.push({content:"",tag:"head"===l?"th":"td",rowSpan:1,colSpan:1,sectionName:i.sectionName,rowIndex:i.rowIndex,vColIndex:t,isHidden:!!o.length},{...i,vColIndex:t+1}),e}return t<=a?(e.push({...i,vColIndex:a+1}),e):(e.push(i),e)}),[])}))),e):e),{head:[],body:[],foot:[]})}function Zo(e,{vColIndex:t}){const o=Ko(e).reduce(((e,t)=>e.concat(t.cells)),[]).filter((e=>e.colSpan>1&&e.vColIndex===t));return o.length&&o.forEach((t=>e=Uo(e,t))),Object.entries(e).reduce(((e,[o,n])=>n.length?(e[o]=n.map((({cells:e})=>({cells:e.reduce(((e,o)=>o.vColIndex===t?e:o.colSpan>1&&o.vColIndex<t&&o.vColIndex+o.colSpan-1>=t?(e.push({...o,colSpan:o.colSpan-1}),e):o.vColIndex>t?(e.push({...o,vColIndex:o.vColIndex-1}),e):(e.push(o),e)),[])}))),e):e),{head:[],body:[],foot:[]})}function Uo(e,t){const{sectionName:o,rowIndex:n,vColIndex:l,rowSpan:r,colSpan:i}=t,a=e[o];if(a[n].cells[l]={...a[n].cells[l],rowSpan:1,colSpan:1},i>1)for(let e=1;e<i;e++)a[n].cells[l+e]={...a[n].cells[l],content:"",vColIndex:l+e,isHidden:!1};if(r>1)for(let e=1;e<r;e++)if(a[n+e].cells[l]={...a[n].cells[l],content:"",rowIndex:n+e,isHidden:!1},i>1)for(let t=1;t<i;t++)a[n+e].cells[l+t]={...a[n].cells[l],content:"",rowIndex:n+e,vColIndex:l+e,isHidden:!1};return{...e,[o]:a}}function Wo(e){return!e||!e.length||e.every((({cells:e})=>!(e&&e.length)))}function qo(e){const{head:t,body:o,foot:n}=e,l={head:t,body:o,foot:n};return Object.entries(l).reduce(((e,[t,o])=>{if(!o.length)return e;const n=o.length,l=o[0].cells.reduce(((e,t)=>e+_o(t.colSpan,1)),0),r=Array.from({length:n}).map(((e,o)=>({cells:Array.from({length:l}).map(((e,n)=>({content:"",tag:"head"===t?"th":"td",rowSpan:1,colSpan:1,sectionName:t,isHidden:!1,isFilled:!1,rowIndex:o,vColIndex:n})))})));return o.forEach(((e,o)=>{e.cells.forEach((e=>{const n=r[o].cells.findIndex((({isFilled:e})=>!e)),l=_o(e.rowSpan,1),i=_o(e.colSpan,1);if(r[o].cells[n]={...e,isFilled:!0,sectionName:t,rowSpan:l,colSpan:i,rowIndex:o,vColIndex:n,isHidden:!1},i>1)for(let e=1;e<i;e++)r[o].cells[n+e].isFilled=!0,r[o].cells[n+e].isHidden=!0;if(l>1)for(let e=1;e<l;e++)if(r[o+e].cells[n].isFilled=!0,r[o+e].cells[n].isHidden=!0,i>1)for(let t=1;t<i;t++)r[o+e].cells[n+t].isFilled=!0,r[o+e].cells[n+t].isHidden=!0}))})),e[t]=r,e}),{head:[],body:[],foot:[]})}function Jo(e){return console.log("toTableAttributes",e),Object.entries(e).reduce(((e,[t,o])=>o.length?(e[t]=o.map((({cells:e})=>({cells:e.filter((e=>!e.isHidden)).map((e=>({content:e.content,styles:e.styles,tag:e.tag,className:e.className,id:e.id,headers:e.headers,scope:e.scope,rowSpan:e.rowSpan>1?String(e.rowSpan):void 0,colSpan:e.colSpan>1?String(e.colSpan):void 0})))}))),e):e),{head:[],body:[],foot:[]})}function Ko(e){return Object.keys(e).reduce(((t,o)=>(Wo(e[o])||t.push(...e[o]),t)),[])}function Xo(e){return e.reduce((({minRowIndex:e,maxRowIndex:t,minColIndex:o,maxColIndex:n},l)=>{const r=l.rowSpan>1?l.rowIndex+l.rowSpan-1:l.rowIndex,i=l.colSpan>1?l.vColIndex+l.colSpan-1:l.vColIndex;return{minRowIndex:e<l.rowIndex?e:l.rowIndex,maxRowIndex:t>r?t:r,minColIndex:o<l.vColIndex?o:l.vColIndex,maxColIndex:n>i?n:i}}),{minRowIndex:e[0].rowIndex,maxRowIndex:e[0].rowIndex,minColIndex:e[0].vColIndex,maxColIndex:e[0].vColIndex})}function Yo(e){if(!e)return!1;if(e.length<=1)return!1;if(function(e){return e.reduce(((e,t)=>(e.includes(t.sectionName)||e.push(t.sectionName),e)),[]).length>1}(e))return!1;const t=Xo(e),o=[];for(let e=t.minRowIndex;e<=t.maxRowIndex;e++){o[e]=[];for(let n=t.minColIndex;n<=t.maxColIndex;n++)o[e][n]=!1}return e.forEach((e=>{if(e.rowIndex in o&&e.vColIndex in o[e.rowIndex]){if(o[e.rowIndex][e.vColIndex]=!0,e.colSpan>1)for(let t=1;t<e.colSpan;t++)o[e.rowIndex][e.vColIndex+t]=!0;if(e.rowSpan>1)for(let t=1;t<e.rowSpan;t++)if(o[e.rowIndex+t][e.vColIndex]=!0,e.colSpan>1)for(let n=1;n<e.colSpan;n++)o[e.rowIndex+t][e.vColIndex+n]=!0}})),o.reduce(((e,t)=>e.concat(t)),[]).every((e=>e))}function Qo(e){return!!e&&e.some((({rowSpan:e,colSpan:t})=>e>1||t>1))}function en(e,t){if(!Wo(e[t]))return{...e,[t]:[]};const o=e.body[0].cells.length,n={cells:Array.from({length:o}).map(((e,o)=>({content:"",tag:"head"===t?"th":"td",rowSpan:1,colSpan:1,sectionName:t,rowIndex:0,vColIndex:o,isHidden:!1,isFirstSelected:!1})))};return{...e,[t]:[n]}}function tn(e){if(e.padding){const t=mo(e.padding);return{top:t[0],right:t[1],bottom:t[2],left:t[3]}}return{top:e?.paddingTop||"",right:e?.paddingRight||"",bottom:e?.paddingBottom||"",left:e?.paddingLeft||""}}function on(e){if(e.borderWidth){const t=mo(e.borderWidth);return{top:t[0],right:t[1],bottom:t[2],left:t[3]}}return{top:e?.borderTopWidth||"",right:e?.borderRightWidth||"",bottom:e?.borderBottomWidth||"",left:e?.borderLeftWidth||""}}function nn(e){if(e.borderColor){const t=mo(e.borderColor);return{top:t[0],right:t[1],bottom:t[2],left:t[3]}}return{top:e?.borderTopColor||"",right:e?.borderRightColor||"",bottom:e?.borderBottomColor||"",left:e?.borderLeftColor||""}}function ln(e){if(e.borderStyle){const t=mo(e.borderStyle);return{top:t[0],right:t[1],bottom:t[2],left:t[3]}}return{top:e?.borderTopStyle||"",right:e?.borderRightStyle||"",bottom:e?.borderBottomStyle||"",left:e?.borderLeftStyle||""}}function rn(e){if(e.borderRadius){const t=mo(e.borderRadius);return{topLeft:t[0],topRight:t[1],bottomRight:t[2],bottomLeft:t[3]}}return{topLeft:e?.borderTopLeftRadius||"",topRight:e?.borderTopRightRadius||"",bottomRight:e?.borderBottomRightRadius||"",bottomLeft:e?.borderBottomLeftRadius||""}}function an(e){const t=mo(e.borderSpacing||"");return{horizontal:t[0],vertical:t[1]}}const sn=[25,50,75,100];function cn({attributes:e,setAttributes:t,vTable:o,setSelectedCells:l,setSelectedLine:r,tableStylesObj:i}){const{hasFixedLayout:a,isStackedOnMobile:s,isScrollOnPc:c,isScrollOnMobile:d,sticky:p,head:h,foot:x}=e,f=(0,u.useSelect)((e=>{const{getOptions:t}=e(L);return t()}),[]),m=(0,_.__experimentalUseCustomUnits)({availableUnits:G}),[g,v]=(0,_.__experimentalParseQuantityAndUnitFromRawValue)(i?.width),[y,w]=(0,_.__experimentalParseQuantityAndUnitFromRawValue)(i?.maxWidth),[k,C]=(0,_.__experimentalParseQuantityAndUnitFromRawValue)(i?.minWidth),S=e=>{const o={...i,width:e};t({tableStyles:Oo(o)})},j=e=>{const o={...i,maxWidth:e};t({tableStyles:Oo(o)})},I=e=>{const o={...i,minWidth:e};t({tableStyles:Oo(o)})};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(_.__experimentalSpacer,{marginBottom:"4",as:_.Flex,justify:"end",children:(0,b.jsx)(_.Button,{variant:"link",isDestructive:!0,onClick:()=>{t({hasFixedLayout:!1,isScrollOnPc:!1,isScrollOnMobile:!1,isStackedOnMobile:!1,sticky:void 0,tableStyles:void 0})},children:(0,n.__)("Clear table settings","flexible-table-block")})}),(0,b.jsx)(_.ToggleControl,{label:(0,n.__)("Header section","flexible-table-block"),checked:!(!h||!h.length),onChange:()=>{const e=en(o,"head");t(Jo(e)),l(void 0),r(void 0)},__nextHasNoMarginBottom:!0}),(0,b.jsx)(_.ToggleControl,{label:(0,n.__)("Footer section","flexible-table-block"),checked:!(!x||!x.length),onChange:()=>{const e=en(o,"foot");t(Jo(e)),l(void 0),r(void 0)},__nextHasNoMarginBottom:!0}),(0,b.jsx)("hr",{}),(0,b.jsx)(_.ToggleControl,{label:(0,n.__)("Fixed width table cells","flexible-table-block"),checked:!!a,onChange:()=>{t({hasFixedLayout:!a})},__nextHasNoMarginBottom:!0}),(0,b.jsx)(_.ToggleControl,{label:(0,n.__)("Scroll on desktop view","flexible-table-block"),className:"ftb-toggle-control",checked:!!c,help:f.breakpoint&&(0,n.sprintf)(/* translators: %d is replaced with the number of breakpoint. */ /* translators: %d is replaced with the number of breakpoint. */
(0,n.__)("When the screen width is %dpx or more.","flexible-table-block"),Math.abs(f.breakpoint)+1),onChange:()=>{t({isScrollOnPc:!c})},__nextHasNoMarginBottom:!0}),(0,b.jsx)(_.ToggleControl,{label:(0,n.__)("Scroll on mobile view","flexible-table-block"),className:"ftb-toggle-control",checked:!!d,help:f.breakpoint&&(0,n.sprintf)(/* translators: %d is replaced with the number of breakpoint. */ /* translators: %d is replaced with the number of breakpoint. */
(0,n.__)("When the screen width is %dpx or less.","flexible-table-block"),f.breakpoint),onChange:()=>{t({isScrollOnMobile:!d})},__nextHasNoMarginBottom:!0}),(0,b.jsx)(_.ToggleControl,{label:(0,n.__)("Stack on mobile","flexible-table-block"),className:"ftb-toggle-control",checked:!!s,help:f.breakpoint&&(0,n.sprintf)(/* translators: %d is replaced with the number of breakpoint. */ /* translators: %d is replaced with the number of breakpoint. */
(0,n.__)("When the screen width is %dpx or less.","flexible-table-block"),f.breakpoint),onChange:()=>{t({isStackedOnMobile:!s})},__nextHasNoMarginBottom:!0}),(0,b.jsx)(_.SelectControl,{label:(0,n.__)("Fixed control","flexible-table-block"),value:p,options:oe.map((({label:e,value:t})=>({label:e,value:t}))),help:s&&p&&(0,n.__)('Fixed control is only enabled for desktop view because "Stack on mobile" is enabled.',"flexible-table-block"),onChange:e=>{var o;o=e,(!e||oe.some((e=>e.value===o)))&&t({sticky:"none"===e?void 0:e})},size:"__unstable-large",__nextHasNoMarginBottom:!0}),(0,b.jsx)("hr",{}),(0,b.jsxs)(_.__experimentalHStack,{alignment:"start",children:[(0,b.jsx)(_.__experimentalUnitControl,{label:(0,n.__)("Table width","flexible-table-block"),value:i?.width,units:m,disabled:"auto"===i?.width,min:0,onChange:S,size:"__unstable-large",__unstableInputWidth:"calc(50% - 8px)"}),(0,b.jsx)(_.Button,{variant:"secondary",size:"small",onClick:()=>S(void 0),children:(0,n.__)("Reset","flexible-table-block")})]}),(0,b.jsxs)(_.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,hideLabelFromVision:!0,label:(0,n.__)("Table percentage width","flexible-table-block"),isBlock:!0,value:"auto"===i?.width||g&&sn.includes(g)&&"%"===v?i?.width:void 0,onChange:e=>S(e),children:[sn.map((e=>(0,b.jsx)(_.__experimentalToggleGroupControlOption,{label:`${e}%`,value:`${e}%`},e))),(0,b.jsx)(_.__experimentalToggleGroupControlOption,{label:(0,n._x)("auto","width","flexible-table-block"),value:"auto"})]}),(0,b.jsxs)(_.__experimentalHStack,{alignment:"start",children:[(0,b.jsx)(_.__experimentalUnitControl,{label:(0,n.__)("Table max width","flexible-table-block"),value:i?.maxWidth,units:m,disabled:"none"===i?.maxWidth,min:0,onChange:j,size:"__unstable-large",__unstableInputWidth:"calc(50% - 8px)"}),(0,b.jsx)(_.Button,{variant:"secondary",size:"small",onClick:()=>j(void 0),children:(0,n.__)("Reset","flexible-table-block")})]}),(0,b.jsxs)(_.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,hideLabelFromVision:!0,label:(0,n.__)("Table percentage max width","flexible-table-block"),isBlock:!0,value:"none"===i?.maxWidth||y&&sn.includes(y)&&"%"===w?i?.maxWidth:void 0,onChange:e=>j(e),children:[sn.map((e=>(0,b.jsx)(_.__experimentalToggleGroupControlOption,{label:`${e}%`,value:`${e}%`},e))),(0,b.jsx)(_.__experimentalToggleGroupControlOption,{label:(0,n._x)("none","width","flexible-table-block"),value:"none"})]}),(0,b.jsxs)(_.__experimentalHStack,{alignment:"start",children:[(0,b.jsx)(_.__experimentalUnitControl,{label:(0,n.__)("Table min width","flexible-table-block"),value:i?.minWidth,units:m,min:0,onChange:I,size:"__unstable-large",__unstableInputWidth:"calc(50% - 8px)"}),(0,b.jsx)(_.Button,{variant:"secondary",size:"small",onClick:()=>I(void 0),children:(0,n.__)("Reset","flexible-table-block")})]}),(0,b.jsx)(_.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,hideLabelFromVision:!0,label:(0,n.__)("Table percentage min width","flexible-table-block"),isBlock:!0,value:k&&sn.includes(k)&&"%"===C?i?.minWidth:void 0,onChange:e=>I(e),children:sn.map((e=>(0,b.jsx)(_.__experimentalToggleGroupControlOption,{label:`${e}%`,value:`${e}%`},e)))}),(0,b.jsx)("hr",{}),(0,b.jsx)(Ro,{label:(0,n.__)("Table padding","flexible-table-block"),help:(0,n.__)('Table padding is only enabled when "Cell Borders" is set to "Separate".',"flexible-table-block"),values:tn(i),onChange:e=>{const o=Fo(i,e);t({tableStyles:Oo(o)})}}),(0,b.jsx)("hr",{}),(0,b.jsx)(ko,{label:(0,n.__)("Table border radius","flexible-table-block"),values:rn(i),onChange:e=>{const o=$o(i,e);t({tableStyles:Oo(o)})}}),(0,b.jsx)(Io,{label:(0,n.__)("Table border width","flexible-table-block"),help:(0,n.__)('Table border width is only enabled when "Cell Borders" is set to "Separate".',"flexible-table-block"),values:on(i),onChange:e=>{const o=zo(i,e);t({tableStyles:Oo(o)})}}),(0,b.jsx)(So,{label:(0,n.__)("Table border style","flexible-table-block"),values:ln(i),onChange:e=>{const o=Lo(i,e);t({tableStyles:Oo(o)})}}),(0,b.jsx)(xo,{label:(0,n.__)("Table border color","flexible-table-block"),values:nn(i),onChange:e=>{const o=Eo(i,e);t({tableStyles:Oo(o)})}}),(0,b.jsx)("hr",{}),(0,b.jsx)(_.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,n.__)("Cell borders","flexible-table-block"),value:i?.borderCollapse,isDeselectable:!0,onChange:e=>{if(o=e,!e||Y.some((e=>e.value===o))){const o=i?.borderCollapse===e?void 0:e,n="separate"===o?i?.borderSpacing:void 0,l={...i,borderCollapse:o,borderSpacing:n};t({tableStyles:Oo(l)})}var o},children:Y.map((({icon:e,label:t,value:o})=>(0,b.jsx)(_.__experimentalToggleGroupControlOptionIcon,{label:t,value:o,icon:e},o)))}),"separate"===i?.borderCollapse&&(0,b.jsx)(No,{label:(0,n.__)("Border spacing","flexible-table-block"),values:an(i),onChange:e=>{const o=function(e,t){if(!t)return e;const{borderSpacing:o,...n}=e,l=t.horizontal?go(t.horizontal):void 0,r=t.vertical?go(t.vertical):void 0;return void 0===l&&void 0===r?n:l===r?{...n,borderSpacing:l}:{...n,borderSpacing:`${l} ${r}`}}(i,e);t({tableStyles:Oo(o)})}})]})}function dn({attributes:e,setAttributes:t,captionStylesObj:o}){const{captionSide:l}=e,r=(0,_.__experimentalUseCustomUnits)({availableUnits:D});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(_.__experimentalSpacer,{marginBottom:"4",as:_.Flex,justify:"end",children:(0,b.jsx)(_.Button,{variant:"link",isDestructive:!0,onClick:()=>{t({captionSide:"bottom",captionStyles:void 0})},children:(0,n.__)("Clear caption settings","flexible-table-block")})}),(0,b.jsxs)(_.__experimentalSpacer,{marginBottom:"4",as:_.Flex,align:"end",children:[(0,b.jsx)(_.FlexBlock,{children:(0,b.jsx)(_.__experimentalUnitControl,{label:(0,n.__)("Caption font size","flexible-table-block"),value:o?.fontSize,units:r,min:0,onChange:e=>{const n={...o,fontSize:go(e)};t({captionStyles:Oo(n)})},size:"__unstable-large"})}),(0,b.jsx)(_.FlexBlock,{children:(0,b.jsx)(_.TextControl,{label:(0,n.__)("Caption line height","flexible-table-block"),autoComplete:"off",onChange:e=>{const n={...o,lineHeight:e};t({captionStyles:Oo(n)})},step:.1,type:"number",value:o?.lineHeight||"",min:0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})})]}),(0,b.jsx)(Ro,{label:(0,n.__)("Caption padding","flexible-table-block"),values:tn(o),onChange:e=>{const n=Fo(o,e);t({captionStyles:Oo(n)})}}),(0,b.jsx)(_.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,n.__)("Caption position","flexible-table-block"),value:l,isBlock:!0,onChange:e=>{var o;o=e,re.some((e=>e.value===o))&&t({captionSide:e})},children:re.map((({label:e,value:t})=>(0,b.jsx)(_.__experimentalToggleGroupControlOption,{value:t,label:e},t)))}),(0,b.jsx)(_.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,n.__)("Caption text alignment","flexible-table-block"),value:o?.textAlign,isDeselectable:!0,onChange:e=>{if(n=e,!e||ee.some((e=>e.value===n))){const n={...o,textAlign:e===o.textAlign?void 0:e};t({captionStyles:Oo(n)})}var n},children:ee.map((({icon:e,label:t,value:o})=>(0,b.jsx)(_.__experimentalToggleGroupControlOptionIcon,{value:o,icon:e,label:t},o)))})]})}const un=[25,50,75,100];function pn({attributes:e,setAttributes:t,vTable:o,selectedCells:l=[]}){const r=(0,_.__experimentalUseCustomUnits)({availableUnits:Z}),i=(0,_.__experimentalUseCustomUnits)({availableUnits:D});if(!l.length)return null;const{sectionName:a,rowIndex:s,vColIndex:c}=l[0],d=o[a][s].cells[c];if(!d)return null;const u=l.reduce(((e,t)=>{const{tag:n}=o[t.sectionName][t.rowIndex].cells[t.vColIndex];return e.includes(n)||e.push(n),e}),[]),p=Ho(d.styles),[h,x]=(0,_.__experimentalParseQuantityAndUnitFromRawValue)(p?.width),f=e=>{const n=function(e,t,o){return Object.entries(e).reduce(((e,[n,l])=>l.length?(e[n]=l.map((({cells:e},l)=>({cells:e.map(((e,r)=>{if(!o.some((e=>e.sectionName===n&&e.rowIndex===l&&e.vColIndex===r)))return e;let i=Ho(e?.styles);return t.styles&&(i={...i,...t.styles},i=Fo(i,t.styles?.padding),i=zo(i,t.styles?.borderWidth),i=$o(i,t.styles?.borderRadius),i=Lo(i,t.styles?.borderStyle),i=Eo(i,t.styles?.borderColor)),{...e,styles:Oo(i),tag:t.tag||e.tag,className:"className"in t?t.className:e.className,id:"id"in t?t.id:e.id,headers:"headers"in t?t.headers:e.headers,scope:"scope"in t?t.scope:e.scope}}),[])}))),e):e),{head:[],body:[],foot:[]})}(o,e,l);console.log("updateCellsState",n),t(Jo(n))},m=e=>{f({styles:{width:go(e)}})};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(_.__experimentalSpacer,{marginBottom:"4",as:_.Flex,justify:"end",children:(0,b.jsx)(_.Button,{variant:"link",isDestructive:!0,onClick:()=>{f({styles:{fontSize:void 0,lineHeight:void 0,fontWeight:void 0,width:void 0,color:void 0,backgroundColor:void 0,hoverBackgroundColor:void 0,padding:{top:void 0,right:void 0,bottom:void 0,left:void 0},borderRadius:{topLeft:void 0,topRight:void 0,bottomRight:void 0,bottomLeft:void 0},borderWidth:{top:void 0,right:void 0,bottom:void 0,left:void 0},borderStyle:{top:void 0,right:void 0,bottom:void 0,left:void 0},borderColor:{top:void 0,right:void 0,bottom:void 0,left:void 0},textAlign:void 0,verticalAlign:void 0},className:void 0,id:void 0,headers:void 0,scope:void 0})},children:(0,n.__)("Clear cell settings","flexible-table-block")})}),(0,b.jsxs)(_.__experimentalSpacer,{marginBottom:"4",as:_.Flex,children:[(0,b.jsx)(_.FlexBlock,{children:(0,b.jsx)(_.__experimentalUnitControl,{label:(0,n.__)("Cell font size","flexible-table-block"),value:p?.fontSize,units:i,min:0,onChange:e=>{f({styles:{fontSize:go(e)}})},size:"__unstable-large"})}),(0,b.jsx)(_.FlexBlock,{children:(0,b.jsx)(_.TextControl,{label:(0,n.__)("Cell line height","flexible-table-block"),value:p?.lineHeight||"",autoComplete:"off",type:"number",step:.1,min:0,onChange:e=>{f({styles:{lineHeight:e}})},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})})]}),(0,b.jsx)(_.__experimentalSpacer,{marginBottom:"4",as:_.Flex,children:(0,b.jsx)(_.FlexBlock,{children:(0,b.jsx)(_.SelectControl,{label:(0,n.__)("Cell font weight","flexible-table-block"),value:p?.fontWeight||"",onChange:e=>{f({styles:{fontWeight:e}})},options:[{label:(0,n.__)("Normal","flexible-table-block"),value:"400"},{label:(0,n.__)("Bold","flexible-table-block"),value:"700"}]})})}),(0,b.jsxs)(_.__experimentalHStack,{alignment:"start",children:[(0,b.jsx)(_.__experimentalUnitControl,{label:(0,n.__)("Cell width","flexible-table-block"),value:p?.width,units:r,min:0,onChange:m,size:"__unstable-large",__unstableInputWidth:"calc(50% - 8px)"}),(0,b.jsx)(_.Button,{variant:"secondary",size:"small",onClick:()=>m(void 0),children:(0,n.__)("Reset","flexible-table-block")})]}),(0,b.jsx)(_.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,hideLabelFromVision:!0,label:(0,n.__)("Cell percentage width","flexible-table-block"),isBlock:!0,value:h&&un.includes(h)&&"%"===x?p?.width:void 0,onChange:e=>m(e),children:un.map((e=>(0,b.jsx)(_.__experimentalToggleGroupControlOption,{label:`${e}%`,value:`${e}%`},e)))}),(0,b.jsx)("hr",{}),(0,b.jsx)(Bo,{label:(0,n.__)("Cell text color","flexible-table-block"),value:p.color,onChange:e=>{f({styles:{color:e}})}}),(0,b.jsx)(Bo,{label:(0,n.__)("Cell background color","flexible-table-block"),value:p.backgroundColor,colors:[{name:(0,n.__)("Transparent","flexible-table-block"),slug:"transparent",color:"transparent"}],onChange:e=>{f({styles:{backgroundColor:e}})}}),(0,b.jsx)(Bo,{label:(0,n.__)("Cell hover background color","flexible-table-block"),value:p?.hoverBackgroundColor,colors:[{name:(0,n.__)("Transparent","flexible-table-block"),slug:"transparent",color:"transparent"}],onChange:e=>{f({styles:{hoverBackgroundColor:e}})}}),(0,b.jsx)("hr",{}),(0,b.jsx)(Ro,{label:(0,n.__)("Cell padding","flexible-table-block"),values:tn(p),onChange:e=>{f({styles:{padding:e}})}}),(0,b.jsx)("hr",{}),(0,b.jsx)(ko,{label:(0,n.__)("Cell border radius","flexible-table-block"),values:rn(p),onChange:e=>{f({styles:{borderRadius:e}})}}),(0,b.jsx)(Io,{label:(0,n.__)("Cell border width","flexible-table-block"),values:on(p),onChange:e=>{f({styles:{borderWidth:e}})}}),(0,b.jsx)(So,{label:(0,n.__)("Cell border style","flexible-table-block"),values:ln(p),onChange:e=>{f({styles:{borderStyle:e}})}}),(0,b.jsx)(xo,{label:(0,n.__)("Cell border color","flexible-table-block"),values:nn(p),onChange:e=>{f({styles:{borderColor:e}})}}),(0,b.jsx)("hr",{}),(0,b.jsx)(_.BaseControl,{id:"flexible-table-block-cell-text-align",__nextHasNoMarginBottom:!0,children:(0,b.jsxs)("div",{"aria-labelledby":"flexible-table-block-cell-text-align-heading",role:"group",children:[(0,b.jsx)("span",{id:"flexible-table-block-cell-text-align-heading",className:"ftb-base-control-label",children:(0,n.__)("Cell alignment","flexible-table-block")}),(0,b.jsxs)(_.Flex,{style:{marginBottom:"-16px"},justify:"start",align:"start",children:[(0,b.jsx)(_.__experimentalToggleGroupControl,{hideLabelFromVision:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,n.__)("Text alignment","flexible-table-block"),value:p?.textAlign,isDeselectable:!0,onChange:e=>{f({styles:{textAlign:e===p.textAlign?void 0:e}})},children:ee.map((({icon:e,label:t,value:o})=>(0,b.jsx)(_.__experimentalToggleGroupControlOptionIcon,{value:o,icon:e,label:t},o)))}),(0,b.jsx)(_.__experimentalToggleGroupControl,{hideLabelFromVision:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,n.__)("Vertical alignment","flexible-table-block"),value:p?.verticalAlign,isDeselectable:!0,onChange:e=>{f({styles:{verticalAlign:e===p.verticalAlign?void 0:e}})},children:te.map((({icon:e,label:t,value:o})=>(0,b.jsx)(_.__experimentalToggleGroupControlOptionIcon,{value:o,icon:e,label:t},o)))})]})]})}),(0,b.jsx)("hr",{}),(0,b.jsx)(_.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,n.__)("Cell tag","flexible-table-block"),value:d.tag,isBlock:!0,onChange:e=>{var t;t=e,ne.some((e=>e.value===t))&&f({tag:e,id:void 0,headers:void 0,scope:void 0})},children:ne.map((({label:e,value:t})=>(0,b.jsx)(_.__experimentalToggleGroupControlOption,{value:t,label:e},t)))}),(0,b.jsx)(_.TextControl,{label:(0,n.__)("Cell CSS class(es)","flexible-table-block"),autoComplete:"off",value:d.className||"",onChange:e=>{f({className:""!==e?e:void 0})},help:(0,n.__)("Separate multiple classes with spaces.","flexible-table-block"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),1===u.length&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("hr",{}),u.includes("th")&&(0,b.jsx)(_.TextControl,{label:(0,_e.createInterpolateElement)((0,n.__)("<code>id</code> attribute","flexible-table-block"),{code:(0,b.jsx)("code",{})}),autoComplete:"off",value:d.id||"",onChange:e=>{f({id:""!==e?e:void 0})},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,b.jsx)(_.TextControl,{label:(0,_e.createInterpolateElement)((0,n.__)("<code>headers</code> attribute","flexible-table-block"),{code:(0,b.jsx)("code",{})}),autoComplete:"off",value:d.headers||"",onChange:e=>{f({headers:""!==e?e:void 0})},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),u.includes("th")&&(0,b.jsx)(_.SelectControl,{label:(0,_e.createInterpolateElement)((0,n.__)("<code>scope</code> attribute","flexible-table-block"),{code:(0,b.jsx)("code",{})}),value:d.scope,options:le.map((({label:e,value:t})=>({label:e,value:t}))),onChange:e=>(e=>{f({scope:"none"===e?void 0:e})})(e),size:"__unstable-large",__nextHasNoMarginBottom:!0})]})]})}window.wp.coreData;const bn=window.wp.keycodes,hn=(0,b.jsx)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsx)(p.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})}),xn=window.wp.notices,fn=window.prcIcons,mn=(0,b.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(p.Path,{d:"m4 5.5h2v6.5h1.5v-6.5h2v-1.5h-5.5zm16 10.5h-16v-1.5h16zm-7 4h-9v-1.5h9z"})}),gn=(0,b.jsx)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsx)(p.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6 5.5h12a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5ZM4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6Zm4 10h2v-1.5H8V16Zm5 0h-2v-1.5h2V16Zm1 0h2v-1.5h-2V16Z"})});function vn(e,t){return Array(t+1).join(e)}var yn=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function wn(e){return jn(e,yn)}var kn=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function Cn(e){return jn(e,kn)}var Sn=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function jn(e,t){return t.indexOf(e.nodeName)>=0}function In(e,t){return e.getElementsByTagName&&t.some((function(t){return e.getElementsByTagName(t).length}))}var Tn={};function Nn(e){return e?e.replace(/(\n+\s*)+/g,"\n"):""}function Bn(e){for(var t in this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[],e.rules)this.array.push(e.rules[t])}function Mn(e,t,o){for(var n=0;n<e.length;n++){var l=e[n];if(Rn(l,t,o))return l}}function Rn(e,t,o){var n=e.filter;if("string"==typeof n){if(n===t.nodeName.toLowerCase())return!0}else if(Array.isArray(n)){if(n.indexOf(t.nodeName.toLowerCase())>-1)return!0}else{if("function"!=typeof n)throw new TypeError("`filter` needs to be a string, array, or function");if(n.call(e,t,o))return!0}}function An(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function Hn(e,t,o){return e&&e.parentNode===t||o(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}Tn.paragraph={filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},Tn.lineBreak={filter:"br",replacement:function(e,t,o){return o.br+"\n"}},Tn.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,o){var n=Number(t.nodeName.charAt(1));return"setext"===o.headingStyle&&n<3?"\n\n"+e+"\n"+vn(1===n?"=":"-",e.length)+"\n\n":"\n\n"+vn("#",n)+" "+e+"\n\n"}},Tn.blockquote={filter:"blockquote",replacement:function(e){return"\n\n"+(e=(e=e.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+"\n\n"}},Tn.list={filter:["ul","ol"],replacement:function(e,t){var o=t.parentNode;return"LI"===o.nodeName&&o.lastElementChild===t?"\n"+e:"\n\n"+e+"\n\n"}},Tn.listItem={filter:"li",replacement:function(e,t,o){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var n=o.bulletListMarker+"   ",l=t.parentNode;if("OL"===l.nodeName){var r=l.getAttribute("start"),i=Array.prototype.indexOf.call(l.children,t);n=(r?Number(r)+i:i+1)+".  "}return n+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}},Tn.indentedCodeBlock={filter:function(e,t){return"indented"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,o){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},Tn.fencedCodeBlock={filter:function(e,t){return"fenced"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,o){for(var n,l=((t.firstChild.getAttribute("class")||"").match(/language-(\S+)/)||[null,""])[1],r=t.firstChild.textContent,i=o.fence.charAt(0),a=3,s=new RegExp("^"+i+"{3,}","gm");n=s.exec(r);)n[0].length>=a&&(a=n[0].length+1);var c=vn(i,a);return"\n\n"+c+l+"\n"+r.replace(/\n$/,"")+"\n"+c+"\n\n"}},Tn.horizontalRule={filter:"hr",replacement:function(e,t,o){return"\n\n"+o.hr+"\n\n"}},Tn.inlineLink={filter:function(e,t){return"inlined"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){var o=t.getAttribute("href");o&&(o=o.replace(/([()])/g,"\\$1"));var n=Nn(t.getAttribute("title"));return n&&(n=' "'+n.replace(/"/g,'\\"')+'"'),"["+e+"]("+o+n+")"}},Tn.referenceLink={filter:function(e,t){return"referenced"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t,o){var n,l,r=t.getAttribute("href"),i=Nn(t.getAttribute("title"));switch(i&&(i=' "'+i+'"'),o.linkReferenceStyle){case"collapsed":n="["+e+"][]",l="["+e+"]: "+r+i;break;case"shortcut":n="["+e+"]",l="["+e+"]: "+r+i;break;default:var a=this.references.length+1;n="["+e+"]["+a+"]",l="["+a+"]: "+r+i}return this.references.push(l),n},references:[],append:function(e){var t="";return this.references.length&&(t="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),t}},Tn.emphasis={filter:["em","i"],replacement:function(e,t,o){return e.trim()?o.emDelimiter+e+o.emDelimiter:""}},Tn.strong={filter:["strong","b"],replacement:function(e,t,o){return e.trim()?o.strongDelimiter+e+o.strongDelimiter:""}},Tn.code={filter:function(e){var t=e.previousSibling||e.nextSibling,o="PRE"===e.parentNode.nodeName&&!t;return"CODE"===e.nodeName&&!o},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",o="`",n=e.match(/`+/gm)||[];-1!==n.indexOf(o);)o+="`";return o+t+e+t+o}},Tn.image={filter:"img",replacement:function(e,t){var o=Nn(t.getAttribute("alt")),n=t.getAttribute("src")||"",l=Nn(t.getAttribute("title"));return n?"!["+o+"]("+n+(l?' "'+l+'"':"")+")":""}},Bn.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){return e.isBlank?this.blankRule:(t=Mn(this.array,e,this.options))||(t=Mn(this._keep,e,this.options))||(t=Mn(this._remove,e,this.options))?t:this.defaultRule;var t},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};var On,Pn,Fn="undefined"!=typeof window?window:{},zn=function(){var e=Fn.DOMParser,t=!1;try{(new e).parseFromString("","text/html")&&(t=!0)}catch(e){}return t}()?Fn.DOMParser:(On=function(){},function(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(t){Fn.ActiveXObject&&(e=!0)}return e}()?On.prototype.parseFromString=function(e){var t=new window.ActiveXObject("htmlfile");return t.designMode="on",t.open(),t.write(e),t.close(),t}:On.prototype.parseFromString=function(e){var t=document.implementation.createHTMLDocument("");return t.open(),t.write(e),t.close(),t},On);function Ln(e,t){var o;return function(e){var t=e.element,o=e.isBlock,n=e.isVoid,l=e.isPre||function(e){return"PRE"===e.nodeName};if(t.firstChild&&!l(t)){for(var r=null,i=!1,a=null,s=Hn(a,t,l);s!==t;){if(3===s.nodeType||4===s.nodeType){var c=s.data.replace(/[ \r\n\t]+/g," ");if(r&&!/ $/.test(r.data)||i||" "!==c[0]||(c=c.substr(1)),!c){s=An(s);continue}s.data=c,r=s}else{if(1!==s.nodeType){s=An(s);continue}o(s)||"BR"===s.nodeName?(r&&(r.data=r.data.replace(/ $/,"")),r=null,i=!1):n(s)||l(s)?(r=null,i=!0):r&&(i=!1)}var d=Hn(a,s,l);a=s,s=d}r&&(r.data=r.data.replace(/ $/,""),r.data||An(r))}}({element:o="string"==typeof e?(Pn=Pn||new zn).parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html").getElementById("turndown-root"):e.cloneNode(!0),isBlock:wn,isVoid:Cn,isPre:t.preformattedCode?En:null}),o}function En(e){return"PRE"===e.nodeName||"CODE"===e.nodeName}function $n(e,t){return e.isBlock=wn(e),e.isCode="CODE"===e.nodeName||e.parentNode.isCode,e.isBlank=function(e){return!Cn(e)&&!function(e){return jn(e,Sn)}(e)&&/^\s*$/i.test(e.textContent)&&!function(e){return In(e,kn)}(e)&&!function(e){return In(e,Sn)}(e)}(e),e.flankingWhitespace=function(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var o,n={leading:(o=e.textContent.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/))[1],leadingAscii:o[2],leadingNonAscii:o[3],trailing:o[4],trailingNonAscii:o[5],trailingAscii:o[6]};return n.leadingAscii&&Vn("left",e,t)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&Vn("right",e,t)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}(e,t),e}function Vn(e,t,o){var n,l,r;return"left"===e?(n=t.previousSibling,l=/ $/):(n=t.nextSibling,l=/^ /),n&&(3===n.nodeType?r=l.test(n.nodeValue):o.preformattedCode&&"CODE"===n.nodeName?r=!1:1!==n.nodeType||wn(n)||(r=l.test(n.textContent))),r}var Dn=Array.prototype.reduce,Gn=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function Zn(e){if(!(this instanceof Zn))return new Zn(e);var t={rules:Tn,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(e,t){return t.isBlock?"\n\n":""},keepReplacement:function(e,t){return t.isBlock?"\n\n"+t.outerHTML+"\n\n":t.outerHTML},defaultReplacement:function(e,t){return t.isBlock?"\n\n"+e+"\n\n":e}};this.options=function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)o.hasOwnProperty(n)&&(e[n]=o[n])}return e}({},t,e),this.rules=new Bn(this.options)}function Un(e){var t=this;return Dn.call(e.childNodes,(function(e,o){var n="";return 3===(o=new $n(o,t.options)).nodeType?n=o.isCode?o.nodeValue:t.escape(o.nodeValue):1===o.nodeType&&(n=qn.call(t,o)),Jn(e,n)}),"")}function Wn(e){var t=this;return this.rules.forEach((function(o){"function"==typeof o.append&&(e=Jn(e,o.append(t.options)))})),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function qn(e){var t=this.rules.forNode(e),o=Un.call(this,e),n=e.flankingWhitespace;return(n.leading||n.trailing)&&(o=o.trim()),n.leading+t.replacement(o,e,this.options)+n.trailing}function Jn(e,t){var o=function(e){for(var t=e.length;t>0&&"\n"===e[t-1];)t--;return e.substring(0,t)}(e),n=t.replace(/^\n*/,""),l=Math.max(e.length-o.length,t.length-n.length);return o+"\n\n".substring(0,l)+n}Zn.prototype={turndown:function(e){if(!function(e){return null!=e&&("string"==typeof e||e.nodeType&&(1===e.nodeType||9===e.nodeType||11===e.nodeType))}(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(""===e)return"";var t=Un.call(this,new Ln(e,this.options));return Wn.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else{if("function"!=typeof e)throw new TypeError("plugin must be a Function or an Array of Functions");e(this)}return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return Gn.reduce((function(e,t){return e.replace(t[0],t[1])}),e)}};const Kn=Zn,Xn="#8B5CF6";function Yn(){return(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1em",padding:"2em"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5em",padding:"0.75em",background:"rgba(139, 92, 246, 0.1)",borderRadius:"8px"},children:[(0,b.jsx)(fn.Icon,{icon:"sparkles",library:"solid",size:"1",style:{color:Xn}}),(0,b.jsx)(_.Spinner,{style:{color:Xn,marginTop:0,marginBottom:0}})]}),(0,b.jsx)("p",{style:{margin:0,color:"#6B7280"},children:(0,n.__)("PRC Copilot is generating suggestions…","prc-block-library")})]})}function Qn(e){const t=function(e){let t="<table>";const o=t=>{const o=e[t];if(!o||0===o.length)return"";const n="head"===t?"thead":"body"===t?"tbody":"tfoot";return`<${n}>${o.map((e=>`<tr>${e.cells.filter((e=>!e.isHidden)).map((e=>`<${e.tag}>${e.content}</${e.tag}>`)).join("")}</tr>`)).join("")}</${n}>`};return t+=o("head"),t+=o("body"),t+=o("foot"),t+="</table>",t}(e);return(new Kn).turndown(t)}async function el(e,t,o,n){const l=wp.data.select("core").getCurrentUser(),r=l?.id;return{userId:r,timestamp:(new Date).toISOString(),modelVersion:e,usageMetadata:t,citationMetadata:o,prompt:n}}async function tl(e={body:[],head:[],foot:[],metadata:{name:""},caption:""}){const{isServiceAvailable:t,getAvailableService:o}=(0,u.select)("ai-services/ai");if(t("google")){const t=o("google"),n={body:e.body,head:e.head,foot:e.foot};try{let o="";o=e?.metadata&&e?.metadata?.name&&e?.metadata?.name.length>0?`The table is named ${e?.metadata?.name}. Use this to help when generating the title. This is the markdown table: ${Qn(n)}`:` ${Qn(n)}`,e?.caption&&e?.caption.length>0&&(o+=`\n\nUse the caption for this table as additional context in creating the title: ${e?.caption}`),console.log("prompt ==",o);const l=await t.generateText(o,{feature:"get-table-title"}),{helpers:r}=window.aiServices.ai;if(0===l.length)return console.log("No candidates found for get-table-title"),null;const{modelVersion:i,usageMetadata:a,citationMetadata:s}=l[0],c=await el(i,a,s,o),d=r.getCandidateContents(l),u=r.getTextFromContents(d).replaceAll("\n\n\n\n","\n\n"),p=u.match(/```(?:json)?\n([\s\S]*?)\n```/)?.[1].trim()?.replace(/\n\s*/g,"")||"[]";return{titles:JSON.parse(p),metadata:c}}catch(e){console.error(e)}}}async function ol(e={body:[],head:[],foot:[],metadata:{name:""}}){const{isServiceAvailable:t,getAvailableService:o}=(0,u.select)("ai-services/ai");if(t("google")){const t=o("google"),n={body:e.body,head:e.head,foot:e.foot};try{let o="";o=e?.metadata&&e?.metadata?.name&&e?.metadata?.name.length>0?`The table is named ${e?.metadata?.name}. Use this to help when generating the caption. This is the markdown table: ${Qn(n)}`:` ${Qn(n)}`;const l=await t.generateText(o,{feature:"get-table-caption"}),{helpers:r}=window.aiServices.ai;if(0===l.length)return null;const{modelVersion:i,usageMetadata:a,citationMetadata:s}=l[0],c=await el(i,a,s,o),d=r.getCandidateContents(l),u=r.getTextFromContents(d).replaceAll("\n\n\n\n","\n\n"),p=u.match(/```(?:json)?\n([\s\S]*?)\n```/)?.[1].trim()?.replace(/\n\s*/g,"")||"[]";return{captions:JSON.parse(p),metadata:c}}catch(e){console.error(e)}}}function nl({title:e="Table Caption Candidates",candidates:t=[],isOpen:o=!1,onClose:n=()=>{},onSelect:l=()=>{},onClear:r=()=>{}}){if(!o)return null;const i=(0,b.jsx)(fn.Icon,{icon:"sparkles",library:"solid",size:"1",style:{marginRight:"0.5em"}}),a=(0,b.jsx)(fn.Icon,{icon:"wand-magic-sparkles",size:"1"});return(0,b.jsx)(_.Modal,{title:e,icon:i,onRequestClose:n,size:"medium",children:(0,b.jsx)("div",{children:0===t.length?(0,b.jsx)(Yn,{}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{children:(0,b.jsx)("h3",{children:"Choose from the following AI generated options:"})}),(0,b.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:t.map(((e,t)=>(0,b.jsx)(_.Button,{variant:"secondary",onClick:()=>l(e),icon:a,iconSize:1,style:{height:"max-content",whiteSpace:"normal",textAlign:"left",gap:"1em"},children:e},`candidate-${t}`)))}),(0,b.jsx)("p",{style:{fontSize:"0.8em",color:"darkgray"},children:"* This block will have metadata added to identify the option was generated with AI assistance, the user who requested it, and the number of tokens used."}),(0,b.jsx)(_.Button,{onClick:r,icon:(0,b.jsx)(fn.Icon,{icon:"arrows-rotate"}),iconSize:1,children:"Reset"})]})})})}function ll({title:e="Table Request",description:t="",tool:o="get-table-data",attributes:n={},isOpen:l=!1,onClose:r=()=>{},onSelect:i=()=>{},onClear:a=()=>{}}){const[s,c]=(0,_e.useState)(!1),{metadata:d}=n,p=(0,_e.useMemo)((()=>d?._copilot?.find((e=>e.feature===o))||{}),[d,o]),[h,x]=(0,_e.useState)(p?.prompt||""),[f,m]=(0,_e.useState)(p?.instructions||""),g=(0,_e.useCallback)((()=>{c(!0),async function(e="",t="",o="get-table-data"){const{isServiceAvailable:n,getAvailableService:l}=(0,u.select)("ai-services/ai");if(n("google")){const n=l("google");try{let l="";e&&(l=`Request: ${e}Additional Instructions: ${t}`);const r=await n.generateText(l,{feature:o,model:"gemini-2.0-flash-thinking-exp"});if(0===r.length)return null;console.log("candidates ==",r[0]);const{modelVersion:i,usageMetadata:a,citationMetadata:s}=r[0],{helpers:c}=window.aiServices.ai,d=c.getCandidateContents(r),u=function(e){const t=e.split("\n"),o=[],n=[];let l=[],r=!1,i=!1;for(const e of t)!r&&e.includes("|")&&e.trim().startsWith("|")?(r=!0,l.push(e)):(!r||e.includes("|")&&e.trim().startsWith("|")||(r=!1,i=!0),r?l.push(e):i?e.trim()&&n.push(e):e.trim()&&o.push(e));if(l=l.filter((e=>e.trim())),l.length<3)return null;const a=l[0].split("|").filter((e=>e.trim())).map((e=>({content:e.trim(),tag:"th",isHidden:!1}))),s=l.slice(2).map((e=>({cells:e.split("|").filter((e=>e.trim())).map((e=>({content:e.trim(),tag:"td",isHidden:!1})))})));return{data:{head:[{cells:a}],body:s,foot:[]},text:{before:o.join("\n").trim(),after:n.join("\n").trim()}}}(c.getTextFromContents(d).replaceAll("\n\n\n\n","\n\n"));return{table:u,metadata:await el(i,a,s,e)}}catch(e){console.error(e)}}}(h,f,o).then((e=>{if(!e)return;const{table:t,metadata:l}=e;if(console.log("aiDoRequest ==",t,l),!t)return;const{data:r,text:a}=t,{before:s,after:c}=a;i({...r,sourceNote:c,caption:s,metadata:{...n.metadata,_copilot:[{feature:o,...l}]}})})).catch((e=>{console.error(e)})).finally((()=>{c(!1)}))}),[h,f,o,d]),v=(0,b.jsx)(fn.Icon,{icon:"sparkles",library:"solid",size:"1"});return l?(0,b.jsx)(_.Modal,{title:e,icon:v,onRequestClose:r,size:"medium",children:(0,b.jsx)("div",{children:s?(0,b.jsx)(Yn,{}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(_.TextareaControl,{label:"Request",value:h,onChange:e=>x(e),help:t}),(0,b.jsx)("p",{style:{fontSize:"0.8em",color:"darkgray"},children:"* This block will have metadata added to identify the option was generated with AI assistance, the user who requested it, and the number of tokens used."}),(0,b.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"1em"},children:(0,b.jsx)(_.Button,{onClick:g,isBusy:s,variant:"primary",icon:v,iconSize:1,children:"Generate"})})]})})}):null}function rl({attributes:e,setAttributes:t,asToolbarButton:o=!1,isGeneratingCaption:l=!1,setIsGeneratingCaption:r=()=>{}}){const[i,a]=(0,_e.useState)(!1),[s,c]=(0,_e.useState)([]),[d,u]=(0,_e.useState)([]),[p,h]=(0,_e.useState)(!1),x=(0,_e.useCallback)((()=>{a(!0),r(!0),ol(e).then((e=>{if(null!=e){const{captions:t,metadata:o}=e;t.length>0&&(c(t),u(o),h(!0)),a(!1),r(!1)}else a(!1)})).catch((e=>{console.error(e),a(!1)}))}),[e,t,r]),f=(0,b.jsx)(fn.Icon,{icon:"sparkles",library:"solid",size:"1"});return(0,b.jsxs)(b.Fragment,{children:[o?(0,b.jsx)(_.ToolbarButton,{onClick:x,icon:f,iconSize:1,isPressed:i||p,isBusy:i,label:(0,n.__)("Generate caption with ✨ AI","prc-block-library")}):(0,b.jsx)(_.Button,{onClick:x,disabled:i,isBusy:i,isPressed:i,variant:"tertiary",icon:f,iconSize:1,label:(0,n.__)("Generate caption with ✨ AI","prc-block-library"),showTooltip:!0}),(0,b.jsx)(nl,{title:"Table Caption Candidates",candidates:s,isOpen:p,onClose:()=>h(!1),onSelect:e=>{t({caption:e,metadata:{_copilot:{feature:"get-table-caption",...d}}}),h(!1)}})]})}function il({attributes:e,setAttributes:t,asToolbarButton:o=!1,isGeneratingTitle:l=!1,setIsGeneratingTitle:r=()=>{}}){const[i,a]=(0,_e.useState)(!1),[s,c]=(0,_e.useState)([]),[d,u]=(0,_e.useState)([]),[p,h]=(0,_e.useState)(!1),x=(0,_e.useCallback)((()=>{console.log("doGeneration ==",e),a(!0),r(!0),tl(e).then((e=>{if(null!=e){const{titles:t,metadata:o}=e;t.length>0&&(c(t),u(o),h(!0)),a(!1),r(!1)}else a(!1)})).catch((e=>{console.error(e),a(!1)}))}),[e,t,r]),f=(0,b.jsx)(fn.Icon,{icon:"sparkles",library:"solid",size:"1"});return(0,b.jsxs)(b.Fragment,{children:[o?(0,b.jsx)(_.ToolbarButton,{onClick:x,icon:f,iconSize:1,isPressed:i||p,isBusy:i,label:(0,n.__)("Generate title with ✨ AI","prc-block-library")}):(0,b.jsx)(_.Button,{onClick:x,disabled:i,isBusy:i,isPressed:i,variant:"tertiary",icon:f,iconSize:1,label:(0,n.__)("Generate title with ✨ AI","prc-block-library"),showTooltip:!0}),(0,b.jsx)(nl,{title:"Table Title Candidates",candidates:s,isOpen:p,onClose:()=>h(!1),onSelect:e=>{t({tableTitle:e,metadata:{_copilot:[{feature:"get-table-title",...d}]}}),h(!1)}})]})}function al({attributes:e,setAttributes:t,setIsGeneratingTitle:o=()=>{},setIsGeneratingCaption:l=()=>{}}){const[r,i]=(0,_e.useState)(null),[a,s]=(0,_e.useState)(!1),[c,d]=(0,_e.useState)([]),[p,h]=(0,_e.useState)([]),[x,f]=(0,_e.useState)([]),[m,g]=(0,_e.useState)(!1),[v,y]=(0,_e.useState)(!1),{createSuccessNotice:w,createErrorNotice:k}=(0,u.useDispatch)(xn.store),C=(0,_e.useCallback)((()=>{console.log("doTitleGeneration ==",e),s(!0),i("get-table-title"),o(!0),g(!0),tl(e).then((e=>{if(console.log("aiGenerateTitle ==",e),null!=e){const{titles:t,metadata:n}=e;t.length>0&&(console.log("titles ==",t),d(t),console.log("metadata ==",n),f(n)),s(!1),o(!1)}else s(!1)})).catch((e=>{console.error(e),e.message.includes("The model is overloaded")&&k("The model is overloaded. Please try again later."),s(!1)}))}),[e,t,o]),S=(0,_e.useCallback)((()=>{console.log("doCaptionGeneration ==",e),s(!0),i("get-table-caption"),l(!0),g(!0),ol(e).then((e=>{if(console.log("aiGenerateCaptions ==",e),null!=e){const{captions:t,metadata:o}=e;t.length>0&&(h(t),f(o)),s(!1),l(!1)}else s(!1)})).catch((e=>{e.message.includes("The model is overloaded")&&k("The model is overloaded. Please try again later."),s(!1)}))}),[e,t,l]),j=[{title:(0,n.__)("Generate title","prc-block-library"),onClick:()=>C(),icon:mn},{title:(0,n.__)("Generate caption","prc-block-library"),onClick:()=>S(),icon:gn},{title:(0,n.__)("Generate table","prc-block-library"),onClick:()=>y(!0),icon:hn}],I=(0,_e.useMemo)((()=>"get-table-title"===r?(0,n.__)("Table Title Candidates","prc-block-library"):(0,n.__)("Table Caption Candidates","prc-block-library")),[r]),T=(0,_e.useCallback)((o=>{const n={metadata:{...e.metadata,_copilot:[{feature:r,...x}]}};"get-table-title"===r?n.tableTitle=o:n.caption=o,t(n),g(!1),w(`✨ PRC Copilot generated: "${r}" ✨`,{type:"snackbar"})}),[e,t,r]),N=(0,_e.useCallback)((()=>{i(null),d([]),h([]),f([]),g(!1)}),[i,d,h,f,g]),B=(0,_e.useCallback)((e=>{t({...e}),y(!1)}),[t]),M=(0,_e.useMemo)((()=>"get-table-title"===r?c:p),[r,c,p]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(_.ToolbarDropdownMenu,{id:"table-ai-generate-dropdown",label:(0,n.__)("AI generate","prc-block-library"),icon:()=>(0,b.jsx)(fn.Icon,{icon:"sparkles",size:"1"}),controls:j,isPressed:a}),(0,b.jsx)(nl,{title:I,candidates:M,isOpen:m,onClose:()=>g(!1),onClear:N,onSelect:T}),(0,b.jsx)(ll,{title:"Table Request",description:"Request a table from the AI",tool:"get-table-data",isOpen:v,onClose:()=>y(!1),onSelect:B})]})}function sl({contentJustification:e,vTable:t,selectedCells:o,setAttributes:l,setSelectedCells:r,setSelectedLine:i,attributes:s}){const{createWarningNotice:c}=(0,u.useDispatch)(xn.store),d=(0,me.useRef)(null);(0,a.useKeyboardShortcut)("mod+shift+e",(e=>{e.preventDefault(),d.current&&(d.current.click(),d.current.focus())}));const p=e=>{if(!o||1!==o.length)return;const{sectionName:n,rowIndex:a,rowSpan:s}=o[0],c=Vo(t,{sectionName:n,rowIndex:0===e?a:a+e+s-1});l(Jo(c)),r(void 0),i(void 0)},x=e=>{if(!o||1!==o.length)return;const{vColIndex:n,colSpan:a}=o[0],s=Go(t,{vColIndex:0===e?n:n+e+a-1});l(Jo(s)),r(void 0),i(void 0)},f=X.map((({icon:t,label:o,value:n})=>({icon:t,title:o,isActive:e===n,value:n,onClick:()=>(t=>{l({contentJustification:e===t?void 0:t})})(n)}))),m=[{icon:S,title:(0,n.__)("Insert row before","flexible-table-block"),isDisabled:1!==(o||[]).length,onClick:()=>p(0)},{icon:j,title:(0,n.__)("Insert row after","flexible-table-block"),isDisabled:1!==(o||[]).length,onClick:()=>p(1)},{icon:N,title:(0,n.__)("Delete row","flexible-table-block"),isDisabled:1!==(o||[]).length,onClick:()=>(()=>{if(!o||1!==o.length)return;const{sectionName:e,rowIndex:a}=o[0];if(!("body"!==e||1!==t.body.length||Wo(t.head)&&Wo(t.foot)))return void c((0,n.__)("The table body must have one or more rows.","flexible-table-block"),{id:"flexible-table-block-body-row",type:"snackbar"});const s=Do(t,{sectionName:e,rowIndex:a});l(Jo(s)),r(void 0),i(void 0)})()},{icon:I,title:(0,n.__)("Insert column before","flexible-table-block"),isDisabled:1!==(o||[]).length,onClick:()=>x(0)},{icon:T,title:(0,n.__)("Insert column after","flexible-table-block"),isDisabled:1!==(o||[]).length,onClick:()=>x(1)},{icon:B,title:(0,n.__)("Delete column","flexible-table-block"),isDisabled:1!==(o||[]).length,onClick:()=>(()=>{if(!o||1!==o.length)return;const{vColIndex:e}=o[0],n=Zo(t,{vColIndex:e});l(Jo(n)),r(void 0),i(void 0)})()},{icon:R,title:(0,n.__)("Split merged cells","flexible-table-block"),isDisabled:!o||!Qo(o),onClick:()=>(()=>{const e=function(e,t){if(!t)return e;const o=t.filter((({rowSpan:e,colSpan:t})=>e>1||t>1));return o.length&&o.forEach((t=>{e=Uo(e,t)})),e}(t,o);l(Jo(e)),r(void 0),i(void 0)})()},{icon:M,title:(0,n.__)("Merge cells","flexible-table-block"),isDisabled:!o||!Yo(o),onClick:()=>(()=>{const e=function(e,t){if(!t||!t.length)return e;const o=t[0].sectionName,n=Xo(t),{minRowIndex:l,maxRowIndex:r,minColIndex:i,maxColIndex:a}=n,s=t.filter((({rowSpan:e,colSpan:t})=>e>1||t>1)).length;if(s)for(let t=0;t<s;t++){const t=e[o].reduce(((e,t)=>e.concat(t.cells)),[]).filter((e=>(e.rowSpan>1||e.colSpan>1)&&l<=e.rowIndex&&r>=e.rowIndex&&i<=e.vColIndex&&a>=e.vColIndex));t.length&&(e=Uo(e,t[0]))}const c=e[o].reduce(((e,t)=>e.concat(t.cells)),[]).reduce(((e,t)=>(t.rowIndex>=l&&t.rowIndex<=r&&t.vColIndex>=i&&t.vColIndex<=a&&t.content&&e.push(t.content),e)),[]).join("<br>");return{...e,[o]:e[o].map(((e,t)=>t<l||t>r?e:{cells:e.cells.map(((e,o)=>o===i&&t===l?{...e,rowSpan:Math.abs(r-l)+1,colSpan:Math.abs(a-i)+1,content:c}:t>=l&&t<=r&&o>=i&&o<=a?{...e,isHidden:!0}:e))}))}}(t,o);l(Jo(e)),r(void 0),i(void 0)})()}];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(_.ToolbarDropdownMenu,{label:(0,n.__)("Change table justification","flexible-table-block"),icon:e&&f.find((t=>t.value===e))?.icon||h,controls:f}),(0,b.jsx)(_.ToolbarDropdownMenu,{id:"table-edit-dropdown",label:(0,n.__)("Edit table","flexible-table-block"),icon:hn,controls:m,ref:d}),(0,b.jsx)(al,{attributes:s,setAttributes:l})]})}const cl=window.CSV;var dl=o.n(cl);function ul(e,t="td"){return e.map((e=>({content:e,tag:t})))}function pl(e,t="td"){return"th"===t?ul(e,t):e.map((e=>({cells:ul(e,t)})))}function bl(e,t,o){const n=new FileReader;n.onload=()=>{!function(e,t,o){const n=new(dl())(e,{header:!1}).parse(),l=pl(n.shift(),"th");o({body:pl(n)}),o({head:[{cells:l}]})}(n.result,0,o)},Array.from(e).forEach((e=>n.readAsBinaryString(e)))}function hl({attributes:e,setAttributes:t}){return(0,b.jsx)(_.DropZone,{label:"Drop a CSV file here to replace this table's data.",onFilesDrop:e=>bl(e,0,t)})}function xl({attributes:e,setAttributes:t,vTable:o,selectedCells:l=[]}){const r=(0,_e.useRef)(null);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(_.PanelRow,{children:[(0,b.jsx)(_.Button,{variant:"secondary",onClick:()=>{r.current&&r.current.click()},help:(0,n.__)("Import a CSV file to replace this table's data.","prc-block-library"),children:(0,n.__)("Import CSV","prc-block-library")}),(0,b.jsx)("input",{ref:r,type:"file",accept:"text/csv",onChange:e=>bl(e.target.files,0,t),style:{display:"none"}}),(0,b.jsx)(hl,{attributes:e,setAttributes:t})]}),(0,b.jsx)(_.PanelRow,{children:(0,b.jsx)(_.Button,{variant:"secondary",onClick:()=>{const t=function(e){const{body:t,head:o,footer:n}=e,l=t.map((e=>e.cells.map((e=>e.content)))),r=[...o?o.map((e=>e.cells.map((e=>e.content)))):[],...l,...n?n.map((e=>e.cells.map((e=>e.content)))):[]];return new(dl())(r).encode()}(e);console.log("csv...",t);const o=new Blob([t],{type:"text/csv"}),n=URL.createObjectURL(o),l=document.createElement("a");l.href=n,l.download="table.csv",l.click()},children:(0,n.__)("Export CSV","prc-block-library")})})]})}function fl({attributes:e,setAttributes:t,tableTitleStylesObj:o}){const l=(0,_.__experimentalUseCustomUnits)({availableUnits:D});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(_.__experimentalSpacer,{marginBottom:"4",as:_.Flex,justify:"end",children:(0,b.jsx)(_.Button,{variant:"link",isDestructive:!0,onClick:()=>{t({tableTitleStyles:void 0})},children:(0,n.__)("Clear caption settings","flexible-table-block")})}),(0,b.jsxs)(_.__experimentalSpacer,{marginBottom:"4",as:_.Flex,align:"end",children:[(0,b.jsx)(_.FlexBlock,{children:(0,b.jsx)(_.__experimentalUnitControl,{label:(0,n.__)("Table title font size","prc-block"),value:o?.fontSize,units:l,min:0,onChange:e=>{const n={...o,fontSize:go(e)};t({tableTitleStyles:Oo(n)})},size:"__unstable-large"})}),(0,b.jsx)(_.FlexBlock,{children:(0,b.jsx)(_.TextControl,{label:(0,n.__)("Table title line height","prc-block"),autoComplete:"off",onChange:e=>{const n={...o,lineHeight:e};t({tableTitleStyles:Oo(n)})},step:.1,type:"number",value:o?.lineHeight||"",min:0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})})]}),(0,b.jsx)(Ro,{label:(0,n.__)("Table title padding","prc-block"),values:tn(o),onChange:e=>{const n=Fo(o,e);t({tableTitleStyles:Oo(n)})}}),(0,b.jsx)(_.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,n.__)("Table title text alignment","prc-block"),value:o?.textAlign,isDeselectable:!0,onChange:e=>{if(n=e,!e||ee.some((e=>e.value===n))){const n={...o,textAlign:e===o.textAlign?void 0:e};t({tableTitleStyles:Oo(n)})}var n},children:ee.map((({icon:e,label:t,value:o})=>(0,b.jsx)(_.__experimentalToggleGroupControlOptionIcon,{value:o,icon:e,label:t},o)))})]})}function ml({isOpen:e,anchorElement:t,cell:o,onClose:l,copyToClipboard:r,TableCellContextMenuSlot:i}){return(0,_e.useEffect)((()=>{if(!e)return;const t=e=>{const t=e.target,o=document.querySelector(".ftb-table-cell-context-menu"),n=o?.contains(t);n||l()},o=e=>{"Escape"===e.key&&l()};return document.addEventListener("click",t,!0),document.addEventListener("contextmenu",t,!0),document.addEventListener("keydown",o),()=>{document.removeEventListener("click",t,!0),document.removeEventListener("contextmenu",t,!0),document.removeEventListener("keydown",o)}}),[e,l]),e?(0,b.jsx)(_.Popover,{anchor:t,position:"bottom right",onClose:l,expandOnMobile:!0,focusOnMount:"firstElement",className:"ftb-table-cell-context-menu",children:(0,b.jsxs)("div",{className:"ftb-table-cell-context-menu__content",onClick:e=>e.stopPropagation(),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),l())},children:[(0,b.jsx)(_.Button,{variant:"tertiary",onClick:()=>{o?.content&&r(o.content),l()},className:"ftb-table-cell-context-menu__button",children:(0,n.__)("Copy Cell Content","flexible-table-block")}),(0,b.jsx)(i,{fillProps:{cell:o}})]})}):null}const gl=(0,b.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(p.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})}),vl=(0,b.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(p.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})}),_l=(0,b.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(p.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})}),yl=(0,b.jsx)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsx)(p.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})}),wl=({sectionName:e,onSelectSectionCells:t,options:o})=>(0,b.jsx)(_.Button,{className:"ftb-table-cell-label",tabIndex:o.focus_control_button?0:-1,variant:"primary",onClick:o=>{t(e),o.stopPropagation()},children:`t${e}`}),kl=({isSelected:e,isContentOnlyMode:t,options:o,rowIndex:l,vColIndex:i,sectionIndex:a,sectionName:s,cell:c,rowSpan:d,isRowSelected:u,isColumnSelected:p,selectedLine:h,onInsertRow:x,onDeleteRow:f,onInsertColumn:m,onDeleteColumn:g,onSelectRow:v,onSelectColumn:y,filteredVTable:w,content:k,onChangeCellContent:C,isSelectMode:S,isTabMove:j,setSelectedLine:I,setSelectedCells:T,onSelectSectionCells:N})=>{const B=(0,_e.useMemo)((()=>e&&!t),[e,t]);return(0,b.jsxs)(b.Fragment,{children:[B&&0===l&&0===i&&(0,b.jsx)(wl,{sectionName:s,onSelectSectionCells:N,options:o}),B&&0===l&&0===i&&(0,b.jsx)(_.Button,{className:ve("ftb-row-before-inserter",{"ftb-row-before-inserter--has-prev-section":a>0}),label:(0,n.__)("Insert row before","flexible-table-block"),tabIndex:o.focus_control_button?0:-1,icon:gl,iconSize:18,onClick:e=>{x(s,l),e.stopPropagation()}}),B&&0===i&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(_.Button,{className:"ftb-row-selector",label:(0,n.__)("Select row","flexible-table-block"),tabIndex:o.focus_control_button?0:-1,icon:vl,iconSize:16,variant:u&&h.sectionName===s&&h.rowIndex===l?"primary":void 0,onClick:e=>{v(s,l),e.stopPropagation()}}),u&&h.sectionName===s&&h.rowIndex===l&&(0,b.jsx)(_.Button,{className:"ftb-row-deleter",label:(0,n.__)("Delete row","flexible-table-block"),tabIndex:o.focus_control_button?0:-1,icon:_l,iconSize:20,onClick:e=>{f(s,l),e.stopPropagation()}})]}),B&&0===a&&0===l&&0===i&&(0,b.jsx)(_.Button,{className:"ftb-column-before-inserter",label:(0,n.__)("Insert column before","flexible-table-block"),tabIndex:o.focus_control_button?0:-1,icon:gl,iconSize:18,onClick:e=>{m(c,0),e.stopPropagation()}}),B&&0===a&&0===l&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(_.Button,{className:"ftb-column-selector",label:(0,n.__)("Select column","flexible-table-block"),tabIndex:o.focus_control_button?0:-1,icon:yl,iconSize:18,variant:p&&h.vColIndex===i?"primary":void 0,onClick:e=>{y(i),e.stopPropagation()}}),p&&h.vColIndex===i&&(0,b.jsx)(_.Button,{className:"ftb-column-deleter",label:(0,n.__)("Delete column","flexible-table-block"),tabIndex:o.focus_control_button?0:-1,icon:_l,iconSize:20,onClick:e=>{g(i),e.stopPropagation()}})]}),B&&0===i&&(0,b.jsx)(_.Button,{className:ve("ftb-row-after-inserter",{"ftb-row-after-inserter--has-next-section":a<Object.keys(w).length-1&&l+d-1==w[s].length-1}),label:(0,n.__)("Insert row after","flexible-table-block"),tabIndex:o.focus_control_button?0:-1,icon:gl,iconSize:18,onClick:e=>{x(s,l+d),e.stopPropagation()}}),(0,b.jsx)(r.RichText,{value:k,onChange:e=>C(e,c),...(!S||j)&&{onFocus:()=>{j=!1,I(void 0),T([{...c,isFirstSelected:!0}])}},"aria-label":K[s],allowedFormats:["core/link","core/bold","core/italic","core/underline","core/strikethrough","core/code","core/superscript","core/subscript"]},i),B&&0===a&&0===l&&(0,b.jsx)(_.Button,{className:"ftb-column-after-inserter",label:(0,n.__)("Insert column after","flexible-table-block"),tabIndex:o.focus_control_button?0:-1,icon:gl,iconSize:18,onClick:e=>{m(c,1),e.stopPropagation()}})]})},{Fill:Cl,Slot:Sl}=(0,_.createSlotFill)("TableCellContextMenu");function jl(e){const{name:t,...o}=e,n=`t${t}`;return(0,b.jsx)(n,{...o})}function Il(e){const{name:t,...o}=e,n=t;return(0,b.jsx)(n,{...o})}function Tl({attributes:e,setAttributes:t,isSelected:o,options:l,vTable:i,tableStylesObj:a,selectedCells:s,setSelectedCells:c,selectedLine:d,setSelectedLine:p,isContentOnlyMode:h}){const{hasFixedLayout:x,isStackedOnMobile:f,sticky:m}=e,g=(0,r.__experimentalUseColorProps)(e),[v,y]=(0,_e.useState)(!1),[w,k]=(0,_e.useState)(!1);(0,_e.useEffect)((()=>k(!0)),[]);const C=(0,_e.useRef)(null),{createWarningNotice:S}=(0,u.useDispatch)(xn.store);let j=!1;const I=d&&"sectionName"in d&&"rowIndex"in d,T=d&&"vColIndex"in d,[N,B]=(0,_e.useState)(null),[M,R]=(0,_e.useState)(!1),[A,H]=(0,_e.useState)(""),O=(0,_e.useRef)(null),P=(e,o)=>{const n=Vo(i,{sectionName:e,rowIndex:o});t(Jo(n)),c(void 0),p(void 0)},F=(e,o)=>{if(!("body"!==e||1!==i.body.length||Wo(i.head)&&Wo(i.foot)))return void S((0,n.__)("The table body must have one or more rows.","flexible-table-block"),{id:"flexible-table-block-body-row",type:"snackbar"});const l=Do(i,{sectionName:e,rowIndex:o});t(Jo(l)),c(void 0),p(void 0)},z=(e,o)=>{const n=0===o?e.vColIndex:e.vColIndex+o+e.colSpan-1,l=Go(i,{vColIndex:n});t(Jo(l)),c(void 0),p(void 0)},L=e=>{const o=Zo(i,{vColIndex:e});t(Jo(o)),c(void 0),p(void 0)},E=e=>{c(i[e].reduce(((e,t)=>e.concat(t.cells.filter((e=>!e.isHidden)))),[])),p(void 0)},$=(e,t)=>{I&&d.sectionName===e&&d.rowIndex===t?(p(void 0),c(void 0)):(p({sectionName:e,rowIndex:t}),c(i[e].reduce(((e,o)=>e.concat(o.cells.filter((e=>e.rowIndex===t&&!e.isHidden)))),[])))},V=e=>{if(T&&d.vColIndex&&d.vColIndex===e)p(void 0),c(void 0);else{const t=Ko(i);c(t.reduce(((t,o)=>t.concat(o.cells.filter((t=>t.vColIndex===e&&!t.isHidden)))),[])),p({vColIndex:e})}},D=(e,o)=>{if(!w)return;const{sectionName:n,rowIndex:l,vColIndex:r}=o;c([{...o,isFirstSelected:!0}]);const a={...i,[n]:i[n].map(((t,o)=>o!==l?{cells:t.cells.filter((e=>!e.isHidden))}:{cells:t.cells.map(((t,n)=>o!==l||n!==r?t:{...t,content:e}))}))};t(Jo(a))},G=Object.keys(i).reduce(((e,t)=>Wo(i[t])?e:{...e,[t]:i[t].map((e=>({cells:e.cells.filter((e=>!e.isHidden))})))}),{});if(!G)return null;const Z=Object.keys(G),U=()=>{B(null)};return(0,_e.useEffect)((()=>{if(N?.isOpen){const e=e=>{const t=e.target,o=document.querySelector(".ftb-table-cell-context-menu"),n=o?.contains(t);n||U()};return document.addEventListener("click",e,!0),document.addEventListener("contextmenu",e,!0),()=>{document.removeEventListener("click",e,!0),document.removeEventListener("contextmenu",e,!0)}}}),[N?.isOpen]),(0,_e.useEffect)((()=>{if(N?.isOpen){const e=e=>{"Escape"===e.key&&U()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}}),[N?.isOpen]),(0,b.jsxs)(_.SlotFillProvider,{children:[(0,b.jsx)("table",{className:ve(g.className,{"has-fixed-layout":x,"is-stacked-on-mobile":f,[`is-sticky-${m}`]:m}),style:{...a,...g.style},ref:C,onKeyDown:e=>{const{key:t}=e;if("Shift"===t||"Control"===t||"Meta"===t)y(!0),console.log("range-select mode or multi-select mode.");else if("Tab"===t&&l.tab_move&&C.current){if(null===e.target.closest(".wp-block-prc-block-table"))return;j=!0;const t=C.current,{ownerDocument:o}=t,{activeElement:n}=o,l=t.querySelector('th.is-selected > [contenteditable="true"], td.is-selected > [contenteditable="true"]'),r=n&&null!==n.closest(".components-popover"),i=!!o.querySelector(".block-editor-link-control");if(!l||r||i)return;const a=t.querySelectorAll('th > [contenteditable="true"], td > [contenteditable="true"]'),s=[].slice.call(a),c=s.findIndex((e=>e===l));if(-1===c)return;let d=e.shiftKey?c-1:c+1;d<0?d=s.length-1:d>=s.length&&(d=0);const u=s[d];if(!u)return;e.preventDefault(),y(!1),u.focus();const p=o.getSelection(),b=o.createRange();p&&u.innerText.trim().length&&(b.selectNodeContents(u),p.removeAllRanges(),p.addRange(b))}},onKeyUp:e=>{const{key:t}=e;if("Shift"===t||"Control"===t||"Meta"===t){if(null===e.target.closest(".wp-block-prc-block-table"))return;y(!1)}},children:Z.map(((e,t)=>(0,b.jsx)(jl,{name:e,children:G[e].map(((r,a)=>(0,b.jsx)("tr",{children:r.cells.map((r=>{const{content:u,tag:x,className:f,id:m,headers:g,scope:_,styles:y,rowSpan:w,colSpan:k,vColIndex:C}=r,N=(s||[]).some((t=>t.sectionName===e&&t.rowIndex===a&&t.vColIndex===C)),M=Ho(y);return M?.hoverBackgroundColor&&(M["--hover-background-color"]=M.hoverBackgroundColor),(0,b.jsx)(Il,{name:x,className:ve(f,{"is-selected":N}),"data-row":a,"data-col":C,rowSpan:w>1?w:void 0,colSpan:k>1?k:void 0,style:M,id:m,headers:g,scope:_,onClick:e=>((e,t)=>{const{shiftKey:o,ctrlKey:l,metaKey:r}=e;if(null===e.target.closest(".wp-block-prc-block-table"))return;const{sectionName:a,rowIndex:d,vColIndex:u}=t;if(o)if(s){const e=s.find((({isFirstSelected:e})=>e));if(!e)return;if(e.sectionName!==a)return void S((0,n.__)("Cannot select range cells from difference sections.","flexible-table-block"),{id:"flexible-table-block-range-sections",type:"snackbar"});c(function(e,{fromCell:t,toCell:o}){if(!t||!o)return[];if(t.sectionName!==o.sectionName)return[];const n=Xo([t,o]);let l=!1,{minRowIndex:r,maxRowIndex:i,minColIndex:a,maxColIndex:s}=n;const c=e[t.sectionName],d=c.length,u=c[0].cells.length,p=c.reduce(((e,t)=>e.concat(t.cells)),[]).map((e=>(e.rowIndex===t.rowIndex&&e.vColIndex===t.vColIndex&&(e.isFirstSelected=!0),e))).filter((e=>!e.isHidden));for(;!l;){const e=p.filter((e=>(e.vColIndex+e.colSpan-1>=a&&e.vColIndex+e.colSpan-1<=s||e.vColIndex>=a&&e.vColIndex<=s)&&e.rowIndex<r&&e.rowIndex+e.rowSpan-1>=r&&e.rowSpan>1)),t=0===r||!e.length;t||r--;const o=p.filter((e=>(e.rowIndex+e.rowSpan-1>=r&&e.rowIndex+e.rowSpan-1<=i||e.rowIndex>=r&&e.rowIndex<=i)&&e.vColIndex<=s&&e.vColIndex+e.colSpan-1>s&&e.colSpan>1)),n=s===u-1||!o.length;n||s++;const c=p.filter((e=>(e.vColIndex+e.colSpan-1>=a&&e.vColIndex+e.colSpan-1<=s||e.vColIndex>=a&&e.vColIndex<=s)&&e.rowIndex<=i&&e.rowIndex+e.rowSpan-1>i&&e.rowSpan-1)),b=i===d-1||!c.length;b||i++;const h=p.filter((e=>(e.rowIndex+e.rowSpan-1>=r&&e.rowIndex+e.rowSpan-1<=i||e.rowIndex>=r&&e.rowIndex<=i)&&e.vColIndex<a&&e.vColIndex+e.colSpan-1>=a&&e.colSpan>1)),x=s===u-1||!h.length;x||a--,l=t&&n&&b&&x}return p.filter((e=>e.rowIndex>=r&&e.rowIndex<=i&&e.vColIndex>=a&&e.vColIndex<=s))}(i,{fromCell:e,toCell:t}))}else c([{...t,isFirstSelected:!0}]);else if(l||r){const e=s?[...s]:[],o=e.findIndex((e=>e.sectionName===a&&e.rowIndex===d&&e.vColIndex===u));if(e.length&&a!==e[0].sectionName)return void S((0,n.__)("Cannot select multi cells from difference sections.","flexible-table-block"),{id:"flexible-table-block-multi-sections",type:"snackbar"});-1===o?e.push(t):e.splice(o,1),c(e)}else c([{...t,isFirstSelected:!0}])})(e,r),onContextMenu:e=>((e,t)=>{e.preventDefault(),e.stopPropagation(),console.log("handleContextMenu",e),B({isOpen:!0,anchorElement:e.currentTarget,cell:t})})(e,r),children:(0,b.jsx)(kl,{isSelected:o,isContentOnlyMode:h,options:l,rowIndex:a,vColIndex:C,sectionIndex:t,sectionName:e,cell:r,rowSpan:w,isRowSelected:!!I,isColumnSelected:!!T,selectedLine:d,onInsertRow:P,onDeleteRow:F,onInsertColumn:z,onDeleteColumn:L,onSelectRow:$,onSelectColumn:V,filteredVTable:G,content:u,onChangeCellContent:D,isSelectMode:v,isTabMove:j,setSelectedLine:p,setSelectedCells:c,onSelectSectionCells:E})},C)}))},a)))},t)))}),(0,b.jsx)(ml,{isOpen:!!N?.isOpen,anchorElement:N?.anchorElement||null,cell:N?.cell||null,onClose:U,copyToClipboard:async e=>{try{await navigator.clipboard.writeText(e),S((0,n.__)("Content copied to clipboard","flexible-table-block"),{type:"snackbar"})}catch(e){console.error("Failed to copy:",e)}},TableCellContextMenuSlot:Sl}),(0,b.jsx)(Ao,{isOpen:M,value:A,onChange:H,onOpen:()=>{R(!0)},onClose:()=>{R(!1),H("")},onGoTo:e=>{const[t,o]=e.split(":"),l=parseInt(t,10)-1,r=parseInt(o,10)-1;if(isNaN(l)||isNaN(r))return void S((0,n.__)('Please enter valid row and column numbers (e.g., "1:1")',"flexible-table-block"),{type:"snackbar"});let a=!1;for(const e of Object.keys(i)){const t=i[e];if(l<t.length){const e=t[l].cells.find((e=>e.vColIndex===r&&!e.isHidden));if(e){c([{...e,isFirstSelected:!0}]),p(void 0),setTimeout((()=>{const e=document.querySelector(`[data-row="${l}"][data-col="${r}"]`);if(e){e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"});const t=e.querySelector('[contenteditable="true"]');t?.focus()}}),0),a=!0;break}}}a?(R(!1),H("")):S((0,n.__)("Cell not found. Please check the row and column numbers.","flexible-table-block"),{type:"snackbar"})},inputRef:O})]})}function Nl({attributes:e,setAttributes:t,setSelectedLine:o,setSelectedCells:l,captionStylesObj:i,isSelected:s}){const{caption:c=""}=e,d=(0,a.usePrevious)(c),u=r.RichText.isEmpty(c),p=r.RichText.isEmpty(d||""),[h,x]=(0,_e.useState)(!u),[f,m]=(0,_e.useState)(!1),g=e=>t({caption:e});(0,_e.useEffect)((()=>{!u&&p&&x(!0)}),[u,p]),(0,_e.useEffect)((()=>{!s&&u&&x(!1)}),[s,u]);const v=(0,_e.useCallback)((e=>{e&&u&&e?.focus()}),[u]);return(0,b.jsxs)(b.Fragment,{children:[s&&(0,b.jsx)(r.BlockControls,{group:"block",children:(0,b.jsx)(_.ToolbarButton,{onClick:()=>{x(!h),h&&c&&g(void 0)},icon:gn,isPressed:h,label:h?(0,n.__)("Remove caption","flexible-table-block"):(0,n.__)("Add caption","flexible-table-block")})}),h&&(!r.RichText.isEmpty(c)||s)&&(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexDirection:"row",cursor:f?"not-allowed":"auto",opacity:f?.5:1},className:"prc-block-table-caption",children:[(0,b.jsx)(r.RichText,{"aria-label":(0,n.__)("Table caption text","flexible-table-block"),placeholder:(0,n.__)("Add caption","flexible-table-block"),tagName:"figcaption",style:i,value:c,ref:v,onChange:g,onFocus:()=>{o(void 0),l(void 0)}}),s&&(0,b.jsx)(rl,{attributes:e,setAttributes:t,isGeneratingCaption:f,setIsGeneratingCaption:m})]})]})}function Bl({setAttributes:e}){const[t,o]=(0,_e.useState)(3),[l,i]=(0,_e.useState)(3),[a,s]=(0,_e.useState)(!1),[c,d]=(0,_e.useState)(!1),u=t?t+Number(a)+Number(c):void 0,p=u?Number(150/Math.min(10,u)):void 0,h=ve("ftb-placeholder__table",{"is-overflow-row":u&&u>10,"is-overflow-col":l&&l>10});return(0,b.jsxs)(_.Placeholder,{label:(0,n.__)("Power Table","prc-block"),className:"ftb-placeholder",icon:(0,b.jsx)(r.BlockIcon,{icon:y,showColors:!0}),children:[(0,b.jsx)("div",{className:"components-placeholder__instructions",children:(0,_e.createInterpolateElement)((0,bn.isAppleOS)()?(0,n.__)("Hint: Hold <code>Command</code> key to select multiple cells. Hold <code>Shift</code> key to select the range.","prc-block"):(0,n.__)("Hint: Hold <code>Ctrl</code> key to select multiple cells. Hold <code>Shift</code> key to select the range.","prc-block"),{code:(0,b.jsx)("code",{})})}),(0,b.jsxs)(_.__experimentalSpacer,{as:_.__experimentalVStack,className:"ftb-placeholder__table-wrap",style:{minHeight:150},alignment:"center",padding:4,marginBottom:0,children:[(0,b.jsx)(_.__experimentalText,{align:"center",isBlock:!0,weight:"500",children:(0,n.__)("Preview","prc-block")}),t&&l&&(0,b.jsxs)("table",{className:h,children:[a&&(0,b.jsx)("thead",{children:(0,b.jsx)("tr",{children:Array.from({length:Math.min(l,10)}).map(((e,t)=>(0,b.jsx)("th",{style:{height:p}},t)))})}),(0,b.jsx)("tbody",{children:Array.from({length:Math.min(t,10)}).map(((e,t)=>(0,b.jsx)("tr",{children:Array.from({length:Math.min(l,10)}).map(((e,t)=>(0,b.jsx)("td",{style:{height:p}},t)))},t)))}),c&&(0,b.jsx)("tfoot",{children:(0,b.jsx)("tr",{children:Array.from({length:Math.min(l,10)}).map(((e,t)=>(0,b.jsx)("td",{style:{height:p}},t)))})})]})]}),(0,b.jsxs)(_.__experimentalVStack,{as:"form",onSubmit:o=>{if(o.preventDefault(),!t||!l)return;const n=function({rowCount:e,colCount:t,headerSection:o,footerSection:n}){const l=(e,t,o)=>Array.from({length:e}).map(((e,n)=>({cells:Array.from({length:t}).map(((e,t)=>({content:"",tag:"head"===o?"th":"td",rowSpan:1,colSpan:1,sectionName:o,rowIndex:n,vColIndex:t,isFirstSelected:!1,isHidden:!1})))})));return{head:l(Number(o),t,"head"),body:l(e,t,"body"),foot:l(Number(n),t,"foot")}}({rowCount:Math.min(t,50),colCount:Math.min(l,50),headerSection:a,footerSection:c});e(Jo(n))},children:[(0,b.jsxs)(_.__experimentalHStack,{wrap:!0,justify:"start",children:[(0,b.jsx)(_.ToggleControl,{label:(0,n.__)("Header section","prc-block"),checked:!!a,onChange:e=>s(e),__nextHasNoMarginBottom:!0}),(0,b.jsx)(_.ToggleControl,{label:(0,n.__)("Footer section","prc-block"),checked:!!c,onChange:e=>d(e),__nextHasNoMarginBottom:!0})]}),(0,b.jsxs)(_.__experimentalHStack,{wrap:!0,alignment:"end",justify:"start",children:[(0,b.jsx)(_.TextControl,{label:(0,n.__)("Column count","prc-block"),className:"ftb-placeholder__input",type:"number",min:"1",max:50,value:l||"",onChange:e=>{const t=parseInt(e,10);isNaN(t)?i(void 0):i(Math.max(1,Math.min(50,t)))},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,b.jsx)(_.TextControl,{label:(0,n.__)("Row count","prc-block"),className:"ftb-placeholder__input",type:"number",min:"1",max:50,value:t||"",onChange:e=>{const t=parseInt(e);isNaN(t)?o(void 0):o(Math.max(1,Math.min(50,t)))},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,b.jsx)(_.Button,{variant:"primary",type:"submit",disabled:!t||!l,__next40pxDefaultSize:!0,children:(0,n.__)("Create Table","prc-block")})]})]})]})}function Ml({attributes:e,setAttributes:t,setSelectedLine:o,setSelectedCells:l,tableTitleStylesObj:i,isSelected:s}){const{tableTitle:c=""}=e,d=(0,a.usePrevious)(c),u=r.RichText.isEmpty(d),p=r.RichText.isEmpty(d||""),[h,x]=(0,_e.useState)(!u),[f,m]=(0,_e.useState)(!1),g=e=>t({tableTitle:e});(0,_e.useEffect)((()=>{!u&&p&&x(!0)}),[u,p]),(0,_e.useEffect)((()=>{!s&&u&&x(!1)}),[s,u]);const v=(0,_e.useCallback)((e=>{e&&u&&e?.focus()}),[u]);return(0,b.jsxs)(b.Fragment,{children:[s&&(0,b.jsx)(r.BlockControls,{group:"block",children:(0,b.jsx)(_.ToolbarButton,{onClick:()=>{x(!h),h&&c&&g(void 0)},icon:mn,isActive:h,label:h?(0,n.__)("Remove title","flexible-table-block"):(0,n.__)("Add title","flexible-table-block")})}),h&&(!r.RichText.isEmpty(c)||s)&&(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexDirection:"row"},className:"prc-block-table-title",children:[(0,b.jsx)(r.RichText,{"aria-label":(0,n.__)("Table title text","prc-block-library"),placeholder:(0,n.__)("Table title…","prc-block-library"),ref:v,style:i,tagName:"h4",value:c,onChange:g,onFocus:()=>{o(void 0),l(void 0)}}),s&&(0,b.jsx)(il,{attributes:e,setAttributes:t})]})]})}function Rl({attributes:e,setAttributes:t,setSelectedLine:o,setSelectedCells:l,isSelected:i}){const{sourceNote:a=""}=e;return(0,b.jsx)(r.RichText,{"aria-label":(0,n.__)("Table source note text","flexible-table-block"),placeholder:(0,n.__)("Table source note…","flexible-table-block"),tagName:"p",value:a,className:"prc-block-table-source-note",onChange:e=>t({sourceNote:e}),onFocus:()=>{o(void 0),l(void 0)}})}const Al={from:[{type:"block",blocks:["core/table"],transform:e=>{const{hasFixedLayout:t,head:o,body:n,foot:r,caption:i,style:a}=e,s=e=>e.length?e.map((e=>e.cells.length?{cells:e.cells.map((e=>{const{content:t,tag:o,colspan:n,rowspan:l}=e;return{content:t,tag:o,colSpan:yo(n),rowSpan:yo(l)}}))}:e)):e;return(0,l.createBlock)("prc-block/table",{head:s(o),body:s(n),foot:s(r),hasFixedLayout:t,caption:i,style:a})}}],to:[{type:"block",blocks:["core/table"],transform:e=>{const{getBlockType:t}=(0,u.select)(l.store),o=t("core/table"),n=!!o.attributes.head.query.cells.query.rowspan&&!!o.attributes.head.query.cells.query.colspan;let r=qo(e);const i=Ko(r).reduce(((e,t)=>e.concat(t.cells)),[]).filter((({rowSpan:e,colSpan:t})=>e>1||t>1));i.length&&!n&&i.forEach((e=>{r=Uo(r,e)}));const a=Object.entries(r).reduce(((e,[t,o])=>{if(!o.length)return e;const l=o.map((({cells:e})=>({cells:e.filter((e=>!e.isHidden)).map((e=>({content:e.content,tag:"head"===e.sectionName?"th":"td",rowspan:n?yo(e.rowSpan):void 0,colspan:n?yo(e.colSpan):void 0})))})));return e[t]=l,e}),{});return(0,l.createBlock)("core/table",{...a,hasFixedLayout:e.hasFixedLayout,caption:e.caption,style:e.style})}}]},Hl=[{attributes:{contentJustification:{type:"string"},hasFixedLayout:{type:"boolean",default:!0},isScrollOnPc:{type:"boolean",default:!1},isScrollOnMobile:{type:"boolean",default:!1},isStackedOnMobile:{type:"boolean",default:!1},sticky:{type:"string"},tableStyles:{type:"string",source:"attribute",selector:"table",attribute:"style"},captionSide:{type:"string",default:"bottom"},caption:{type:"string",source:"html",selector:"figcaption"},captionStyles:{type:"string",source:"attribute",selector:"figcaption",attribute:"style"},head:{type:"array",default:[],source:"query",selector:"thead tr",query:{cells:{type:"array",default:[],source:"query",selector:"td,th",query:{content:{type:"string",source:"html"},styles:{type:"string",source:"attribute",attribute:"style"},tag:{type:"string",default:"td",source:"tag"},className:{type:"string",source:"attribute",attribute:"class"},id:{type:"string",source:"attribute",attribute:"id"},headers:{type:"string",source:"attribute",attribute:"headers"},scope:{enum:["row","col","rowgroup","colgroup"],source:"attribute",attribute:"scope"},rowSpan:{type:"string",source:"attribute",attribute:"rowspan"},colSpan:{type:"string",source:"attribute",attribute:"colspan"}}}}},body:{type:"array",default:[],source:"query",selector:"tbody tr",query:{cells:{type:"array",default:[],source:"query",selector:"td,th",query:{content:{type:"string",source:"html"},styles:{type:"string",source:"attribute",attribute:"style"},tag:{type:"string",default:"td",source:"tag"},className:{type:"string",source:"attribute",attribute:"class"},id:{type:"string",source:"attribute",attribute:"id"},headers:{type:"string",source:"attribute",attribute:"headers"},scope:{enum:["row","col","rowgroup","colgroup"],source:"attribute",attribute:"scope"},rowSpan:{type:"string",source:"attribute",attribute:"rowspan"},colSpan:{type:"string",source:"attribute",attribute:"colspan"}}}}},foot:{type:"array",default:[],source:"query",selector:"tfoot tr",query:{cells:{type:"array",default:[],source:"query",selector:"td,th",query:{content:{type:"string",source:"html"},styles:{type:"string",source:"attribute",attribute:"style"},tag:{type:"string",default:"td",source:"tag"},className:{type:"string",source:"attribute",attribute:"class"},id:{type:"string",source:"attribute",attribute:"id"},headers:{type:"string",source:"attribute",attribute:"headers"},scope:{enum:["row","col","rowgroup","colgroup"],source:"attribute",attribute:"scope"},rowSpan:{type:"string",source:"attribute",attribute:"rowspan"},colSpan:{type:"string",source:"attribute",attribute:"colspan"}}}}}},supports:{anchor:!0,align:["left","right","wide","full"],color:{__experimentalSkipSerialization:!0,gradients:!0,link:!0},typography:{fontSize:!0,lineHeight:!0,__experimentalFontFamily:!0,__experimentalTextTransform:!0,__experimentalFontStyle:!0,__experimentalFontWeight:!0,__experimentalLetterSpacing:!0},spacing:{margin:!0},__experimentalSelector:".wp-block-flexible-table-block-table > table"},save({attributes:e}){const{contentJustification:t,tableStyles:o,hasFixedLayout:n,isStackedOnMobile:l,isScrollOnPc:i,isScrollOnMobile:a,sticky:s,head:c,body:d,foot:u,caption:p,captionSide:h,captionStyles:x}=e;if(!c.length&&!d.length&&!u.length)return null;const f=Ho(o),m=Ho(x),g=(0,r.__experimentalGetColorClassesAndStyles)(e),v=r.useBlockProps.save({className:ve({[`is-content-justification-${t}`]:t,"is-scroll-on-pc":i,"is-scroll-on-mobile":a})}),_=ve(g.className,{"has-fixed-layout":n,"is-stacked-on-mobile":l,[`is-sticky-${s}`]:s}),y=!r.RichText.isEmpty(p||""),w=({type:e,rows:t})=>{if(!t.length)return null;const o=`t${e}`;return(0,b.jsx)(o,{children:t.map((({cells:e},t)=>(0,b.jsx)("tr",{children:e.map((({content:e,tag:t,className:o,id:n,headers:l,scope:i,rowSpan:a,colSpan:s,styles:c},d)=>(0,b.jsx)(r.RichText.Content,{tagName:t,className:o||void 0,id:"th"===t&&n||void 0,headers:l||void 0,scope:"th"===t&&i||void 0,value:e,rowSpan:_o(a)>1?_o(a):void 0,colSpan:_o(s)>1?_o(s):void 0,style:Ho(c)},d)))},t)))})},k=()=>(0,b.jsx)(r.RichText.Content,{tagName:"figcaption",value:p||"",style:m});return(0,b.jsxs)("figure",{...v,children:[y&&"top"===h&&(0,b.jsx)(k,{}),(0,b.jsxs)("table",{className:null!=_?_:void 0,style:{...f,...g.style},children:[(0,b.jsx)(w,{type:"head",rows:c}),(0,b.jsx)(w,{type:"body",rows:d}),(0,b.jsx)(w,{type:"foot",rows:u})]}),y&&"bottom"===h&&(0,b.jsx)(k,{})]})}}],Ol=window.wp.editPost;(0,i.addAction)("prc-platform.onPublish","prc-block-library",(({edits:e,postId:t,postType:o})=>{console.log("onPublish",{edits:e,postId:t,postType:o}),window._prc_copilot_pre_publish_check&&"publish"===e.status&&!0===window._prc_copilot_pre_publish_check.stop&&(window.alert("✨ PRC Copilot assistance has been detected, so publishing is currently disabled. Your post will be reverted back to a draft. ✨"),console.warn("Stopping publishing...",e),e.status="draft")}));const Pl=()=>{const e=(0,u.useSelect)((e=>{const{getBlocks:t}=e(r.store),o=t(),n=e=>e.reduce(((e,t)=>(t.attributes?.metadata?._copilot&&e.push({clientId:t.clientId,name:t.name,metadata:t.attributes.metadata}),t.innerBlocks?.length&&e.push(...n(t.innerBlocks)),e)),[]);return n(o)}),[]),{selectBlock:t}=(0,u.useDispatch)(r.store),[o,l]=(0,_e.useState)(new Set),i=(0,_e.useCallback)((e=>{l((t=>{const o=new Set(t);return o.has(e)?o.delete(e):o.add(e),o}))}),[]),a=e.length>0&&e.every((e=>o.has(e.clientId)));return(0,_e.useEffect)((()=>{e.length&&(void 0===window._prc_copilot_pre_publish_check&&(console.log("setting up window._prc_copilot_pre_publish_check..."),window._prc_copilot_pre_publish_check={blocks:[],stop:!1},console.log("window._prc_copilot_pre_publish_check...",window._prc_copilot_pre_publish_check)),window._prc_copilot_pre_publish_check.blocks=e,window._prc_copilot_pre_publish_check.stop=!0!==a)}),[e,a]),e.length?(0,b.jsx)(Ol.PluginPrePublishPanel,{title:(0,n.__)("PRC Copilot Editor Review","prc-block-library"),initialOpen:!0,icon:!1,children:(0,b.jsxs)("div",{className:"ai-prepublish-warning",children:[(0,b.jsx)("p",{children:(0,n.__)("This post contains content generated by PRC Copilot. Please review the following blocks before publishing:","prc-block-library")}),(0,b.jsx)("div",{className:"review-status",style:{marginBottom:"1rem"},children:(0,b.jsx)("strong",{children:a?(0,n.__)("✓ All blocks have been reviewed","prc-block-library"):(0,n.__)(`${o.size} of ${e.length} blocks reviewed`,"prc-block-library")})}),(0,b.jsx)("ul",{className:"ai-blocks-list",style:{listStyle:"none",padding:0},children:e.map((e=>(0,b.jsxs)("li",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem",padding:"0.5rem",backgroundColor:o.has(e.clientId)?"#f0f6fc":"transparent",borderRadius:"4px",gap:"10px"},children:[(0,b.jsx)(_.CheckboxControl,{checked:o.has(e.clientId),onChange:()=>i(e.clientId),style:{marginRight:"1rem"}}),(0,b.jsx)(_.Button,{variant:"link",onClick:()=>t(e.clientId),style:{flex:1},children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{children:e.metadata.name||e.name}),(0,b.jsxs)("div",{className:"ai-block-client-id",style:{fontSize:"0.8em",color:"#666",fontStyle:"italic"},children:["(",e.clientId,")"]})]})})]},e.clientId)))})]})}):null},{name:Fl}=xe,zl={icon:y,edit:function(e){const{attributes:t,setAttributes:o,isSelected:l,insertBlocksAfter:i}=e,{contentJustification:a,tableStyles:s,captionStyles:c,captionSide:d,tableTitleStyles:p}=t,[h,x]=(0,_e.useState)(void 0),[f,m]=(0,_e.useState)(void 0),g=Ho(s),v=Ho(p),y=Ho(c),w=(0,u.useSelect)((e=>{const{getOptions:t}=e(L);return t()}),[]),k="contentOnly"===(0,r.useBlockEditingMode)();(0,_e.useEffect)((()=>{l||(x(void 0),m(void 0))}),[l]);const C=qo(t),S=!["head","body","foot"].filter((e=>!Wo(C[e]))).length,j=(0,r.useBlockProps)(),I=(0,r.useBlockProps)({className:ve(`is-caption-side-${d}`,{[`is-content-justification-${a}`]:a,"show-dot-on-th":w.show_dot_on_th,"show-control-button":w.show_control_button,"is-content-only":k})}),T={attributes:t,setAttributes:o,isSelected:l,options:w,vTable:C,tableStylesObj:g,selectedCells:h,setSelectedCells:x,selectedLine:f,setSelectedLine:m,isContentOnlyMode:k},N={attributes:t,setAttributes:o,vTable:C,setSelectedCells:x,setSelectedLine:m,tableStylesObj:g},B={attributes:t,setAttributes:o,tableTitleStylesObj:v},M={setAttributes:o,vTable:C,selectedCells:h},R=h&&h.length>1?(0,n.__)("Multi cells settings","flexible-table-block"):(0,n.__)("Cell settings","flexible-table-block"),A={attributes:t,setAttributes:o,insertBlocksAfter:i,setSelectedLine:m,setSelectedCells:x,captionStylesObj:y,isSelected:l},H={attributes:t,setAttributes:o,captionStylesObj:y},O={attributes:t,setAttributes:o,insertBlocksAfter:i,setSelectedLine:m,setSelectedCells:x,isSelected:l},P={attributes:t,setAttributes:o,setSelectedLine:m,setSelectedCells:x,isSelected:l,tableTitleStylesObj:v},F={contentJustification:a,vTable:C,attributes:t,selectedCells:h,setAttributes:o,setSelectedCells:x,setSelectedLine:m},z={attributes:t,setAttributes:o,vTable:C,selectedCells:h};return(0,b.jsxs)(b.Fragment,{children:[S&&(0,b.jsx)("div",{...j,children:(0,b.jsx)(Bl,{...e})}),!S&&(0,b.jsxs)("figure",{...I,children:[(0,b.jsx)(Ml,{...P}),!k&&(0,b.jsx)(r.BlockControls,{group:"block",children:(0,b.jsx)(sl,{...F})}),(0,b.jsxs)(r.InspectorControls,{children:[(0,b.jsx)(_.PanelBody,{title:(0,n.__)("Table data","flexible-table-block"),initialOpen:!1,children:(0,b.jsx)(xl,{...z})}),(0,b.jsx)(_.PanelBody,{title:(0,n.__)("Table settings","flexible-table-block"),initialOpen:!1,children:(0,b.jsx)(cn,{...N})}),h&&!!h.length&&(0,b.jsx)(_.PanelBody,{title:R,initialOpen:!1,children:(0,b.jsx)(pn,{...M})}),(0,b.jsx)(_.PanelBody,{title:(0,n.__)("Title settings","prc-block-library"),initialOpen:!1,children:(0,b.jsx)(fl,{...B})}),(0,b.jsx)(_.PanelBody,{title:(0,n.__)("Caption settings","prc-block-library"),initialOpen:!1,children:(0,b.jsx)(dn,{...H})})]}),"top"===d&&(0,b.jsx)(Nl,{...A}),(0,b.jsx)(Tl,{...T}),"bottom"===d&&(0,b.jsx)(Nl,{...A}),(0,b.jsx)(Rl,{...O}),(0,b.jsx)(hl,{attributes:t,setAttributes:o})]})]})},save:function({attributes:e}){const{contentJustification:t,tableStyles:o,hasFixedLayout:n,isStackedOnMobile:l,isScrollOnPc:i,isScrollOnMobile:a,sticky:s,head:c,body:d,foot:u,caption:p,captionSide:h,captionStyles:x,tableTitle:f,tableTitleStyles:m,sourceNote:g}=e;if(!c?.length&&!d?.length&&!u?.length)return null;const v=Ho(o),_=Ho(x),y=Ho(m),w=(0,r.__experimentalGetColorClassesAndStyles)(e),k=r.useBlockProps.save({className:ve({[`is-content-justification-${t}`]:t,"is-scroll-on-pc":i,"is-scroll-on-mobile":a})}),C=ve(w.className,{"has-fixed-layout":n,"is-stacked-on-mobile":l,[`is-sticky-${s}`]:s}),S=!r.RichText.isEmpty(p||""),j=!r.RichText.isEmpty(f||""),I=!r.RichText.isEmpty(g||""),T=({type:e,rows:t})=>{if(!t.length)return null;const o=`t${e}`;return(0,b.jsx)(o,{children:t.map((({cells:e},t)=>(0,b.jsx)("tr",{children:e.map((({content:e,tag:t,className:o,id:n,headers:l,scope:i,rowSpan:a,colSpan:s,styles:c},d)=>(0,b.jsx)(r.RichText.Content,{tagName:t,className:o||void 0,id:"th"===t&&n||void 0,headers:l||void 0,scope:"th"===t&&i||void 0,value:e,rowSpan:_o(a)>1?_o(a):void 0,colSpan:_o(s)>1?_o(s):void 0,style:Ho(c)},d)))},t)))})},N=()=>(0,b.jsx)(r.RichText.Content,{className:"prc-block-table-caption",tagName:"figcaption",value:p||"",style:_}),B=()=>(0,b.jsx)(r.RichText.Content,{className:"prc-block-table-title",tagName:"h4",value:f||"",style:y}),M=()=>(0,b.jsx)(r.RichText.Content,{className:"prc-block-table-source-note",tagName:"p",value:g||""});return(0,b.jsxs)("figure",{...k,children:[j&&(0,b.jsx)(B,{}),S&&"top"===h&&(0,b.jsx)(N,{}),(0,b.jsxs)("table",{className:null!=C?C:void 0,style:{...v,...w.style},children:[(0,b.jsx)(T,{type:"head",rows:c}),(0,b.jsx)(T,{type:"body",rows:d}),(0,b.jsx)(T,{type:"foot",rows:u})]}),S&&"bottom"===h&&(0,b.jsx)(N,{}),I&&(0,b.jsx)(M,{})]})},example:fe,transforms:Al,deprecated:Hl};(0,l.registerBlockType)(Fl,{...xe,...zl}),(0,s.registerPlugin)("prc-block-library-ai-pre-publish-check",{render:()=>(0,b.jsx)(Pl,{})})}},o={};function n(e){var l=o[e];if(void 0!==l)return l.exports;var r=o[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.m=t,e=[],n.O=(t,o,l,r)=>{if(!o){var i=1/0;for(d=0;d<e.length;d++){for(var[o,l,r]=e[d],a=!0,s=0;s<o.length;s++)(!1&r||i>=r)&&Object.keys(n.O).every((e=>n.O[e](o[s])))?o.splice(s--,1):(a=!1,r<i&&(i=r));if(a){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,l,r]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var l,r,[i,a,s]=o,c=0;if(i.some((t=>0!==e[t]))){for(l in a)n.o(a,l)&&(n.m[l]=a[l]);if(s)var d=s(n)}for(t&&t(o);c<i.length;c++)r=i[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},o=globalThis.webpackChunk_pewresearch_prc_block_library=globalThis.webpackChunk_pewresearch_prc_block_library||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var l=n.O(void 0,[350],(()=>n(865)));l=n.O(l)})();
//# sourceMappingURL=index.js.map