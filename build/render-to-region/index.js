(()=>{"use strict";var e,o={1102:()=>{const e=window.wp.blocks,o=window.wp.hooks,t=window.wp.blockEditor,n=window.wp.compose,r=window.wp.components,i=window.wp.editor,s=window.wp.data,a=window.wp.element,l=window.wp.i18n,c=window.ReactJSXRuntime,d=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/render-to-region","version":"1.0.0","title":"Render To Region","category":"theme","description":"This block allows other blocks to \\"render to\\" this defined region upon certain conditions.","attributes":{"regionName":{"type":"string"},"activationConditions":{"type":"object","properties":{"isDesktop":{"type":"boolean","default":true},"isMobile":{"type":"boolean","default":false},"isTablet":{"type":"boolean","default":false},"isPortrait":{"type":"boolean","default":false},"isLandscape":{"type":"boolean","default":false}},"default":{"isDesktop":false,"isMobile":false,"isTablet":false,"isPortrait":false,"isLandscape":false}}},"supports":{"html":false,"interactivity":true},"textdomain":"render-to-region","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","viewScriptModule":"file:./view.js"}'),p=window.wp.coreData;function b(e){const o=[];function t(e){"prc-block/render-to-region"===e.name&&o.push(e),e.innerBlocks&&e.innerBlocks.length>0&&e.innerBlocks.forEach((e=>{t(e)}))}return(Array.isArray(e)?e:[e]).forEach((e=>{t(e)})),o}function h(o,t){return(0,a.useMemo)((()=>function(o,t){const n=(0,s.select)(p.store).getEntityRecord("postType",t,o);return n&&n.content.raw?function(e){const o=[];return e.forEach((e=>{e.attributes&&e.attributes.regionName&&o.push(e.attributes.regionName)})),o}(b((0,e.parse)(n?.content?.raw))):[]}(o,t)),[o,t])}const{name:u}=d,g={edit:function({attributes:e,setAttributes:o,context:n,clientId:i,isSelected:s}){const d=(0,t.useBlockProps)(),{regionName:p,activationConditions:b}=e,h=(0,a.useMemo)((()=>(0,c.jsx)(t.Warning,{children:(0,c.jsxs)("p",{children:["This block is used to render content to a specific region. Please ensure that the regionName is unique and not used by any other block. Current regionName: ",p]})})),[p]);return(0,c.jsxs)(a.Fragment,{children:[(0,c.jsx)(t.InspectorControls,{children:(0,c.jsxs)(r.PanelBody,{title:(0,l.__)("Render To Region","prc-block-library"),initialOpen:!0,children:[(0,c.jsx)(r.PanelRow,{children:(0,c.jsx)(r.TextControl,{label:(0,l.__)("Region Name","prc-block-library"),value:p,onChange:e=>o({regionName:e})})}),(0,c.jsx)(r.PanelRow,{children:(0,c.jsx)(r.ToggleControl,{label:(0,l.__)("Is Desktop","prc-block-library"),checked:b.isDesktop,onChange:e=>o({activationConditions:{...b,isDesktop:e}})})}),(0,c.jsx)(r.PanelRow,{children:(0,c.jsx)(r.ToggleControl,{label:(0,l.__)("Is Mobile","prc-block-library"),checked:b.isMobile,onChange:e=>o({activationConditions:{...b,isMobile:e}})})}),(0,c.jsx)(r.PanelRow,{children:(0,c.jsx)(r.ToggleControl,{label:(0,l.__)("Is Tablet","prc-block-library"),checked:b.isTablet,onChange:e=>o({activationConditions:{...b,isTablet:e}})})}),(0,c.jsx)(r.PanelRow,{children:(0,c.jsx)(r.ToggleControl,{label:(0,l.__)("Is Portrait","prc-block-library"),checked:b.isPortrait,onChange:e=>o({activationConditions:{...b,isPortrait:e}})})}),(0,c.jsx)(r.PanelRow,{children:(0,c.jsx)(r.ToggleControl,{label:(0,l.__)("Is Landscape","prc-block-library"),checked:b.isLandscape,onChange:e=>o({activationConditions:{...b,isLandscape:e}})})})]})}),(0,c.jsx)("div",{...d,children:h})]})},save:function({attributes:e}){const o=t.useBlockProps.save({"data-prc-block--render-to-region--name":e.regionName});return(0,c.jsx)("div",{...o})}};(0,e.registerBlockType)(u,{...d,...g}),(0,o.addFilter)("editor.BlockEdit","prc-block/render-to-region-controls",(0,n.createHigherOrderComponent)((e=>function(o){const{name:n,attributes:l,setAttributes:d,clientId:p}=o,{metadata:b}=l,{postId:u,postType:g,templateId:w}=(0,s.useSelect)((e=>{const{getCurrentPostId:o,getCurrentPostType:t,getCurrentTemplateId:n}=e(i.store);return{postId:o(),postType:t(),templateId:n(),templateRegions:f}})),k=h(u,g),f=h(w,"wp_template");return(0,a.useMemo)((()=>{const e=[...k,...f];return console.log("combinedRegions",e),[...new Set(e)]}),[k,f]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(t.InspectorAdvancedControls,{children:(0,c.jsx)(r.BaseControl,{label:"Render To Region",id:"prc-block-render-to-region-control",help:"When you select a region, the block will be rendered to that region when that region's activation criteria are met.",children:(0,c.jsxs)("p",{children:["Regions available on this post and on this posts template will be available here...",`postId: ${u}, postType: ${g}, templateId: ${w}`]})})}),(0,c.jsx)(e,{...o})]})}),"withRenderToRegionControls"),100)}},t={};function n(e){var r=t[e];if(void 0!==r)return r.exports;var i=t[e]={exports:{}};return o[e](i,i.exports,n),i.exports}n.m=o,e=[],n.O=(o,t,r,i)=>{if(!t){var s=1/0;for(d=0;d<e.length;d++){for(var[t,r,i]=e[d],a=!0,l=0;l<t.length;l++)(!1&i||s>=i)&&Object.keys(n.O).every((e=>n.O[e](t[l])))?t.splice(l--,1):(a=!1,i<s&&(s=i));if(a){e.splice(d--,1);var c=r();void 0!==c&&(o=c)}}return o}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[t,r,i]},n.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={7529:0,941:0};n.O.j=o=>0===e[o];var o=(o,t)=>{var r,i,[s,a,l]=t,c=0;if(s.some((o=>0!==e[o]))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)var d=l(n)}for(o&&o(t);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},t=globalThis.webpackChunk_pewresearch_prc_block_library=globalThis.webpackChunk_pewresearch_prc_block_library||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var r=n.O(void 0,[941],(()=>n(1102)));r=n.O(r)})();
//# sourceMappingURL=index.js.map