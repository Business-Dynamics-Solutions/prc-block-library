(()=>{"use strict";var e,t={662:(e,t,o)=>{const a=window.React,r=window.wp.primitives,l=(0,a.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(r.Path,{d:"m7 6.5 4 2.5-4 2.5z"}),(0,a.createElement)(r.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"m5 3c-1.10457 0-2 .89543-2 2v14c0 1.1046.89543 2 2 2h14c1.1046 0 2-.8954 2-2v-14c0-1.10457-.8954-2-2-2zm14 1.5h-14c-.27614 0-.5.22386-.5.5v10.7072l3.62953-2.6465c.25108-.1831.58905-.1924.84981-.0234l2.92666 1.8969 3.5712-3.4719c.2911-.2831.7545-.2831 1.0456 0l2.9772 2.8945v-9.3568c0-.27614-.2239-.5-.5-.5zm-14.5 14.5v-1.4364l4.09643-2.987 2.99567 1.9417c.2936.1903.6798.1523.9307-.0917l3.4772-3.3806 3.4772 3.3806.0228-.0234v2.5968c0 .2761-.2239.5-.5.5h-14c-.27614 0-.5-.2239-.5-.5z"})),n=window.wp.blocks,i=window.classnames;var c=o.n(i);const s=window.prcBlockUtils,d=window.wp.i18n,u=window.wp.element,g=window.wp.blockEditor;function h({colors:e,clientId:t}){const o=(0,g.__experimentalUseMultipleOriginColorsAndGradients)(),{headingTextColor:r,setHeadingTextColor:l,headingBackgroundColor:n,setHeadingBackgroundColor:i,hoverTextColor:c,setHoverTextColor:s,hoverBackgroundColor:u,setHoverBackgroundColor:h,activeBackgroundColor:m,setActiveBackgroundColor:p,activeTextColor:v,setActiveTextColor:k}=e;return(0,a.createElement)(g.InspectorControls,{group:"color"},(0,a.createElement)(g.__experimentalColorGradientSettingsDropdown,{settings:[{colorValue:r?.color,onColorChange:l,label:(0,d.__)("Heading Text")},{colorValue:n?.color,onColorChange:i,label:(0,d.__)("Heading Background")},{colorValue:c?.color,onColorChange:s,label:(0,d.__)("Hover Text")},{colorValue:u?.color,onColorChange:h,label:(0,d.__)("Hover Background")},{colorValue:v?.color,onColorChange:k,label:(0,d.__)("Active Text")},{colorValue:m?.color,onColorChange:p,label:(0,d.__)("Active Background")}],panelId:t,hasColorsOrGradients:!1,disableCustomColors:!0,__experimentalIsRenderedInSidebar:!0,...o}))}const m=window.prcComponents,p=window.wp.coreData,v=window.wp.data,k=window.wp.url;function b({attributes:e,setAttributes:t,context:o,headingBackgroundColor:r,headingTextColor:l,hoverTextColor:n,hoverBackgroundColor:i,activeBackgroundColor:u,activeTextColor:h}){const{heading:b}=e,C=(0,k.getPath)(window.location.href)?.includes("site-editor.php"),{records:_,isResolving:f}=(0,p.useEntityRecords)("postType","attachment",{per_page:50,context:"view",parent:C?null:o.postId,status:"inherit",media_type:"image",order_by:"date",order:"asc"}),{record:x,isResolving:T}=(0,p.useEntityRecord)("postType","post",C?null:o.postId),{parentTitle:y,attachmentRecords:w}=(0,a.useMemo)((()=>!_||C||f||T?{parentTitle:"Parent Title",attachmentRecords:[{title:{rendered:"Attachment Title 1"},id:null,link:"#"},{title:{rendered:"Attachment Title 2"},id:null,link:"#"},{title:{rendered:"Attachment Title 3"},id:null,link:"#"}]}:{parentTitle:x?.title?.rendered,attachmentRecords:_}),[_,C,f]),B=(0,a.useMemo)((()=>({"--block-gap":(0,s.getBlockGapSupportValue)(e)})),[e]),A=((0,a.useMemo)((()=>C?"":(0,v.select)("core/editor").getPermalink(o.postId)),[C,o.postId]),(0,a.useMemo)((()=>c()("wp-block-prc-block-attachment-info__heading",{"has-text-color":!!l?.color||!!l?.class,[`has-${l?.slug}-color`]:!!l?.slug,"has-background":!!r?.color||!!r?.class,[`has-${r?.slug}-background-color`]:!!r?.slug})),[r,l]));return f?(0,a.createElement)(g.Warning,null,(0,a.createElement)(m.LoadingIndicator,{enabled:!0,label:"Loading Attachments..."})):_?(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:A},(0,a.createElement)(g.RichText,{tagName:"h2",placeholder:(0,d.__)("Attachment Info"),value:b,onChange:e=>t({heading:e})})),(0,a.createElement)("ul",{className:"wp-block-prc-block-attachment-info__list",style:B},(0,a.createElement)("li",{className:c()("wp-block-prc-block-attachment-info__list-item","flex-align-center",{"has-hover-background":!!i.color||i.class,[`has-hover-${i?.slug}-background-color`]:!!i?.slug,"has-hover-color":!!n.color||n.class,[`has-hover-${n?.slug}-color`]:!!n?.slug})},(0,a.createElement)("a",{href:null},y)),(0,a.createElement)("li",{className:c()("wp-block-prc-block-attachment-info__list-item","flex-align-center","is-active",{"has-active-background":!!u.color||u.class,[`has-active-${u?.slug}-background-color`]:!!u?.slug,"has-active-color":!!h.color||h.class,[`has-active-${h?.slug}-color`]:!!h?.slug})},(0,a.createElement)("a",{href:null},"Active Attachment")),w.filter((e=>""!==e.title.rendered&&e.title.rendered.includes(" "))).map((e=>(0,a.createElement)("li",{className:c()("wp-block-prc-block-attachment-info__list-item","flex-align-center",{"has-hover-background":!!i.color||i.class,[`has-hover-${i?.slug}-background-color`]:!!i?.slug,"has-hover-color":!!n.color||n.class,[`has-hover-${n?.slug}-color`]:!!n?.slug,"has-focus-background":!!u.color||u.class,[`has-focus-${u?.slug}-background-color`]:!!u?.slug,"has-focus-color":!!h.color||h.class,[`has-focus-${h?.slug}-color`]:!!h?.slug}),key:e.id||e.title.rendered},(0,a.createElement)("a",{href:null},e.title.rendered)))))):(0,a.createElement)(g.Warning,null,"No attachments found.")}const C=window.prcFunctions;function _({attributes:e,context:t,hoverTextColor:o,hoverBackgroundColor:r,activeBackgroundColor:l,activeTextColor:n}){const i=(0,k.getPath)(window.location.href)?.includes("site-editor.php"),{records:d,isResolving:u}=(0,p.useEntityRecords)("postType","attachment",{per_page:50,context:"view",parent:i?null:t.postId,status:"inherit",media_type:"image",order_by:"date",order:"asc"}),{record:h,isResolving:b}=(0,p.useEntityRecord)("postType","post",i?null:t.postId),{parentTitle:_,attachmentRecords:f}=(0,a.useMemo)((()=>!d||i||u||b?{parentTitle:"Parent Title",attachmentRecords:[{title:"Attachment Title 1",id:1,link:"#",is_active:!1},{title:"Attachment Title 2",id:2,link:"#",is_active:!0},{title:"Attachment Title 3",id:3,link:"#",is_active:!1},{title:"Attachment Title 4",id:4,link:"#",is_active:!1},{title:"Attachment Title 5",id:5,link:"#",is_active:!1},{title:"Attachment Title 6",id:6,link:"#",is_active:!1},{title:"Attachment Title 7",id:7,link:"#",is_active:!1},{title:"Attachment Title 8",id:8,link:"#",is_active:!1},{title:"Attachment Title 9",id:9,link:"#",is_active:!1},{title:"Attachment Title 10",id:10,link:"#",is_active:!1}]}:{parentTitle:h?.title?.rendered,attachmentRecords:d}),[d,i,u]),x=(0,a.useMemo)((()=>({"--block-gap":(0,s.getBlockGapSupportValue)(e)})),[e]),T=((0,a.useMemo)((()=>i?"":(0,v.select)("core/editor").getPermalink(t.postId)),[i,t.postId]),(0,a.useMemo)((()=>{if(!f||u||!f.length)return null;console.log(f);const e=new C.pagination(f).returnRangeOfLinks();return console.log(e),e}),[f,u]));return u?(0,a.createElement)(g.Warning,null,(0,a.createElement)(m.LoadingIndicator,{enabled:!0,label:"Loading Attachments..."})):d&&T?(0,a.createElement)("div",{className:"common-block-style__pagination__container",style:x},(0,a.createElement)("div",{className:"common-block-style__pagination"},(0,a.createElement)("div",{className:"common-block-style__pagination__pagination-previous"},"Previous"),(0,a.createElement)("div",{className:"common-block-style__pagination__pagination-numbers"},T.map((e=>(0,a.createElement)("div",{key:e.id,className:c()("common-block-style__pagination__page-numbers",(0,g.getColorClassName)("background-color",r),(0,g.getColorClassName)("color",o),{"attachments-pagination__item--active":e.is_active})},e.page_num)))),(0,a.createElement)("div",{className:"common-block-style__pagination__pagination-next"},"Next"))):(0,a.createElement)(g.Warning,null,"No attachments found.")}const f=(0,g.withColors)({headingBackgroundColor:"color"},{headingTextColor:"color"},{hoverBackgroundColor:"color"},{hoverTextColor:"color"},{activeBackgroundColor:"color"},{activeTextColor:"color"})((function({attributes:e,setAttributes:t,context:o,clientId:r,isSelected:l,headingBackgroundColor:n,setHeadingBackgroundColor:i,headingTextColor:s,setHeadingTextColor:d,activeBackgroundColor:m,setActiveBackgroundColor:p,activeTextColor:v,setActiveTextColor:k,hoverBackgroundColor:C,setHoverBackgroundColor:f,hoverTextColor:x,setHoverTextColor:T}){const{className:y,variant:w}=e,B=(0,u.useMemo)((()=>"list"===w?(0,a.createElement)(b,{attributes:e,context:o,setAttributes:t,headingBackgroundColor:n,headingTextColor:s,hoverBackgroundColor:C,hoverTextColor:x,activeBackgroundColor:m,activeTextColor:v}):"pagination"===w?(0,a.createElement)(_,{attributes:e,context:o,hoverBackgroundColor:C,hoverTextColor:x,activeBackgroundColor:m,activeTextColor:v}):void 0),[w,e,t,o,n,s,C,x,m,v]),A=(0,g.useBlockProps)({className:c()(y,"common-block-style--baseball-card")});return(0,a.createElement)(u.Fragment,null,(0,a.createElement)(h,{colors:{headingBackgroundColor:n,setHeadingBackgroundColor:i,headingTextColor:s,setHeadingTextColor:d,hoverBackgroundColor:C,setHoverBackgroundColor:f,hoverTextColor:x,setHoverTextColor:T,activeBackgroundColor:m,setActiveBackgroundColor:p,activeTextColor:v,setActiveTextColor:k},clientId:r}),(0,a.createElement)("div",{...A},B))})),x=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/attachment-info","version":"0.1.0","title":"Attachment Info","category":"text","description":"Displays either a list of attachments or a pagination of attachments. This block is intended to be used on attachment pages only. It will display a list of attachments for the parent post of the current attachment.","attributes":{"headingBackgroundColor":{"type":"string","default":"ui-black"},"headingTextColor":{"type":"string","default":"ui-white"},"hoverBackgroundColor":{"type":"string","default":"ui-beige-very-light"},"hoverTextColor":{"type":"string","default":"ui-black"},"activeBackgroundColor":{"type":"string","default":"ui-gray-very-light"},"activeTextColor":{"type":"string","default":"ui-black"},"backgroundColor":{"type":"string","default":"ui-white"},"heading":{"type":"string","default":"Attachment Info"},"hideHeading":{"type":"boolean","default":false},"variant":{"type":"string","default":"list"},"style":{"type":"object","default":{"spacing":{"blockGap":"var:preset|spacing|20"}}},"parentId":{"type":"number"}},"supports":{"anchor":true,"html":false,"color":{"background":true,"text":true},"spacing":{"blockGap":true,"margin":["top","bottom","left","right"],"__experimentalDefaultControls":{"margin":true,"blockGap":true}},"typography":{"fontSize":true,"__experimentalFontFamily":false,"__experimentalDefaultControls":{"__experimentalFontFamily":true}}},"usesContext":["postId","postType"],"textdomain":"attachment-info","editorScript":["file:./index.js","prc-block-library--pagination"],"editorStyle":"file:./index.css","style":["file:./style-index.css","prc-block-library--baseball-card","prc-block-library--pagination","prc-block-library--additional-color-supports"]}'),T=[{name:"attachments-list",isDefault:!0,title:(0,d.__)("Attachments List"),description:(0,d.__)("Displays a list of attachmentsfor the parent post of the current attachment. This is only intended for use on Attachment pages."),attributes:{variant:"list"},scope:["inserter","transform"],isActive:(e,t)=>t.variant===e.variant},{name:"attachments-pagination",title:(0,d.__)("Attachments Pagination"),description:(0,d.__)("Displays paginated list for the attachments of the parent post of the current attachment. This is only intended for use on Attachment pages."),attributes:{variant:"pagination"},scope:["inserter","transform"],isActive:(e,t)=>t.variant===e.variant}],{name:y}=x,w={icon:l,edit:f,variations:T};(0,n.registerBlockType)(y,{...x,...w})}},o={};function a(e){var r=o[e];if(void 0!==r)return r.exports;var l=o[e]={exports:{}};return t[e](l,l.exports,a),l.exports}a.m=t,e=[],a.O=(t,o,r,l)=>{if(!o){var n=1/0;for(d=0;d<e.length;d++){for(var[o,r,l]=e[d],i=!0,c=0;c<o.length;c++)(!1&l||n>=l)&&Object.keys(a.O).every((e=>a.O[e](o[c])))?o.splice(c--,1):(i=!1,l<n&&(n=l));if(i){e.splice(d--,1);var s=r();void 0!==s&&(t=s)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[o,r,l]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};a.O.j=t=>0===e[t];var t=(t,o)=>{var r,l,[n,i,c]=o,s=0;if(n.some((t=>0!==e[t]))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(c)var d=c(a)}for(t&&t(o);s<n.length;s++)l=n[s],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(d)},o=globalThis.webpackChunkattachment_info=globalThis.webpackChunkattachment_info||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var r=a.O(void 0,[350],(()=>a(662)));r=a.O(r)})();
//# sourceMappingURL=index.js.map