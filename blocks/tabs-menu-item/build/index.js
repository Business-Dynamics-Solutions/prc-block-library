(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,n=window.React,l=window.classnames;var i=e.n(l);const r=window.wp.element,o=window.wp.blockEditor,c=window.wp.data,s=window.wp.i18n,a=window.wp.url,u=window.wp.htmlEntities,d=window.prcIcons,p=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/tabs-menu-item","version":"0.1.0","title":"Tab Menu Item","category":"design","attributes":{"slug":{"type":"string"},"title":{"type":"string"},"uuid":{"type":"string","default":null}},"supports":{"html":false,"align":false,"color":{"background":true,"text":true},"typography":{"fontSize":true,"fontAppearance":true,"lineHeight":true,"__experimentalFontFamily":true},"spacing":{"padding":true},"__experimentalBorder":{"color":true,"width":true},"interactivity":true},"styles":[{"name":"default","label":"Tab","isDefault":true},{"name":"dialog","label":"Dialog Link"}],"parent":["prc-block/tabs-menu"],"textdomain":"tabs-menu-item","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","render":"file:./render.php"}'),{name:m}=p,b={icon:function(){return(0,n.createElement)(d.Icon,{icon:"diagram-predecessor"})},__experimentalLabel:({title:e})=>e||"Menu Item",edit:function({attributes:e,setAttributes:l,clientId:d,isSelected:p,context:m,insertBlocksAfter:b}){const{setActiveUUIDPair:g}=(0,c.useDispatch)("prc-block/tabs-controller"),{title:w,uuid:k,className:f}=e,{insertBlock:I,moveBlockToPosition:y,selectNextBlock:h,updateBlockAttributes:B}=(0,c.useDispatch)("core/block-editor"),{controllerClientId:x,panesClientId:v,currentPositionIndex:C,matchingPaneClientId:_,nextMenuItemClientId:E,menuClientId:S}=(0,c.useSelect)((e=>{if(void 0===d)return;const{getBlock:t,getBlockRootClientId:n,getAdjacentBlockClientId:l,getBlockIndex:i}=e("core/block-editor");let r=!1;const o=n(d),c=n(o),s=l(o),a=t(s);if(a.hasOwnProperty("innerBlocks")&&1<=a.innerBlocks.length&&null!==k){const e=a.innerBlocks.filter((e=>e.attributes.uuid===k));0!==e.length&&(r=e[0].clientId)}const u=i(d,o);if(r){const e=i(r,s);-1!==e&&(b=s,(p=u)!==(m=e)&&-1!==m&&y(r,b,b,p))}var p,m,b;return{controllerClientId:c,panesClientId:s,currentPositionIndex:u,matchingPaneClientId:r,nextMenuItemClientId:l(d),menuClientId:o}}),[d]);(0,r.useEffect)((()=>{_&&f&&B(_,{isDialog:"is-style-dialog"===f})}),[f,_,B]);const{currentlySelectedUUID:P}=(0,c.useSelect)((e=>({currentlySelectedUUID:e("prc-block/tabs-controller").getActiveUUID(x)})),[x]);(0,r.useEffect)((()=>{null!==k||_||l({uuid:d})}),[_,k,d,v,C,l,I]),(0,r.useEffect)((()=>{if(null!==k&&!_){const e=(0,t.createBlock)("prc-block/tabs-pane",{uuid:k});I(e,C,v,!1)}}),[_,k,v,C,l,I]),(0,r.useEffect)((()=>{p&&g(x,k)}),[p,k,x,g]);const D=(0,r.useMemo)((()=>p||P===k),[p,P,k]),A=(0,o.useBlockProps)({className:i()(f,{"is-active":D})});return(0,n.createElement)("div",{...A},(0,n.createElement)(o.RichText,{tagName:"div",value:w,allowedFormats:[],onChange:e=>l({title:(0,u.decodeEntities)(e),slug:(0,a.cleanForSlug)(e)}),placeholder:(0,s.__)("Tab Title","prc-block-library"),__unstableOnSplitAtEnd:()=>{null!==E?h(d):b((0,t.createBlock)("prc-block/tabs-menu-item",{}))}}))}};(0,t.registerBlockType)(m,{...p,...b})})();
//# sourceMappingURL=index.js.map