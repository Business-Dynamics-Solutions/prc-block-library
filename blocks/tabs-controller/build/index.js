(()=>{"use strict";var e,t={34:(e,t,i)=>{const n=window.wp.blocks,r=window.wp.data,s={clientIdsOnPage:[],clientIdsActiveUUIDPairs:{}},l=(0,r.createReduxStore)("prc-block/tabs-controller",{reducer(e=s,t){switch(t.type){case"SET_CLIENT_ID":return{...e,clientIdsOnPage:[...e.clientIdsOnPage,t.clientId]};case"SET_ACTIVE_UUID_PAIR":return{...e,clientIdsActiveUUIDPairs:{...e.clientIdsActiveUUIDPairs,[t.clientId]:t.uuid}}}return e},actions:{setClientId:e=>({type:"SET_CLIENT_ID",clientId:e}),setActiveUUIDPair:(e,t)=>({type:"SET_ACTIVE_UUID_PAIR",clientId:e,uuid:t})},selectors:{getClientIdsOnPage:e=>e.clientIdsOnPage,getActiveUUID:(e,t)=>e.clientIdsActiveUUIDPairs[t]}}),a=window.React,o=window.classnames;var c=i.n(o);const u=window.wp.element,b=window.wp.blockEditor,d=[["prc-block/tabs-menu",{}],["prc-block/tabs-panes",{}]],p=["prc-block/tabs-menu","prc-block/tabs-panes"],k=window.prcIcons,m=window.wp.i18n,f=[{name:"tabs-horizontal",isDefault:!0,title:(0,m.__)("Horizontal Tabs"),description:(0,m.__)("A set of tabs that display horizontally"),attributes:{className:"is-style-tabbed",vertical:!1,isSlider:!1},innerBlocks:[["prc-block/tabs-menu",{}],["prc-block/tabs-panes",{}]],scope:["inserter","transform"],isActive:e=>e.vertical&&!e.isSlider},{name:"tabs-vertical",title:(0,m.__)("Vertical Tabs"),description:(0,m.__)("A set of tabs that display vertically."),attributes:{className:"is-style-tabbed",vertical:!0,isSlider:!1},innerBlocks:[["prc-block/tabs-menu",{}],["prc-block/tabs-panes",{}]],scope:["inserter","transform"],isActive:e=>e.vertical&&!e.isSlider},{name:"tabs-slider",title:(0,m.__)("Slider Tabs"),description:(0,m.__)("A set of tabs that display as a slider."),attributes:{className:"is-style-slider",isSlider:!0,vertical:!1,sliderHasButton:!1},innerBlocks:[["prc-block/tabs-menu",{}],["prc-block/tabs-panes",{}]],scope:["inserter","transform"],isActive:e=>e.isSlider&&!e.vertical&&!e.sliderHasButton},{name:"tabs-slider-with-button",title:(0,m.__)("Slider Tabs With Play/Pause Controls"),description:(0,m.__)("A set of tabs that display as a slider with a play/pause toggle button."),attributes:{className:"is-style-slider",isSlider:!0,vertical:!1,sliderHasButton:!0},innerBlocks:[["prc-block/tabs-menu",{}],["prc-block/tabs-panes",{}]],scope:["inserter","transform"],isActive:e=>e.isSlider&&!e.vertical&&e.sliderHasButton}],h=window.wp.htmlEntities,v=(e,t,i)=>{const n={name:"prc-block/taxonomy-list",attributes:{fontFamily:"sans-serif",layout:{justifyContent:"left",type:"flex",orientation:"vertical"}},innerBlocks:[{name:"prc-block/taxonomy-menu-link",attributes:{label:(0,h.decodeEntities)(e),url:t,id:"",className:"is-style-sub-heading",style:{typography:{fontSize:"21px"}}}}]};return i.forEach((e=>{"prc-block/taxonomy-search"===e.name&&n.innerBlocks.push({name:"prc-block/taxonomy-search",attributes:e.attributes}),"prc-block/taxonomy-tree"===e.name&&(n.innerBlocks.push({name:"prc-block/taxonomy-menu-link",attributes:{label:e.attributes.subHeading?(0,h.decodeEntities)(e.attributes.subHeading):"Key Topics",id:"",url:"",style:{typography:{fontSize:"18px",fontStyle:"normal",fontWeight:"700"}}}}),e.innerBlocks.forEach((e=>{const t=e.innerBlocks,i=[];t.forEach((e=>{i.push({name:"prc-block/taxonomy-menu-link",attributes:{label:(0,h.decodeEntities)(e.attributes.label),url:e.attributes.url,id:e.attributes.id}})})),n.innerBlocks.push({name:"prc-block/taxonomy-menu-link",attributes:{label:(0,h.decodeEntities)(e.attributes.label),url:e.attributes.url,id:e.attributes.id,enableSubMenu:0<t.length,className:c()({"is-style-sub-tree":0<t.length})},innerBlocks:i})})))})),console.log(`${e}: `,i),[n]},y={from:[{type:"block",blocks:["prc-block/topic-index-condensed-controller"],transform:(e,t)=>!(!Array.isArray(t)||0===t.length)&&(e=>{const t={name:"prc-block/tabs-menu",attributes:{},innerBlocks:[]},i={name:"prc-block/tabs-panes",attributes:{},innerBlocks:[]},r=e.filter((e=>"prc-block/topic-index-condensed-menu"===e.name))[0],s=r.innerBlocks.map((e=>{const{title:t,uuid:i}=e.attributes;return{title:t,uuid:i}})).map((e=>({name:"prc-block/tabs-menu-item",attributes:{title:(0,h.decodeEntities)(e.title),uuid:e.uuid}})));t.innerBlocks=s;const l=e.filter((e=>"prc-block/topic-index-condensed-pages"===e.name))[0],a=l.innerBlocks.map((e=>{const{heading:t,uuid:i,url:n}=e.attributes;return{heading:t,uuid:i,url:n,innerBlocks:e.innerBlocks}})).map((e=>({name:"prc-block/tabs-pane",attributes:{uuid:e.uuid},innerBlocks:v(e.heading,e.url,e.innerBlocks)})));i.innerBlocks=a,console.log(r,l),console.log("newMenu",t),console.log("newPanes",i);const o=[t,i];return console.log("newInnerBlocks",o),(0,n.createBlock)("prc-block/tabs",{vertical:!0,className:"is-style-accordion"},(0,n.createBlocksFromInnerBlocksTemplate)(o))})(t)}]},g=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/tabs","version":"1.0.0","title":"Tabs","description":"Create horizontal or vertical tabbed content.","keywords":["tabs","tabbed content","tabbed content"],"category":"design","icon":"editor-kitchensink","attributes":{"isSlider":{"type":"boolean","default":false},"sliderHasButton":{"type":"boolean","default":false},"vertical":{"type":"boolean","default":false},"disableMobileAccordion":{"type":"boolean","default":false}},"providesContext":{"prc-block/tabs/layout":"vertical"},"styles":[{"name":"tabbed","label":"Tabbed","isDefault":true},{"name":"text","label":"Text"},{"name":"accordion","label":"Accordion"}],"supports":{"html":false,"color":{"background":true,"text":true},"spacing":{"padding":true,"margin":true},"typography":{"fontSize":true,"__experimentalFontFamily":true},"interactivity":true},"textdomain":"tabs-controller","editorScript":"file:./index.js","style":"file:./style-index.css","viewScriptModule":"file:./view.js"}'),{name:I}=g,B={icon:function(){return(0,a.createElement)(k.Icon,{icon:"diagram-predecessor"})},edit:function({attributes:e,setAttributes:t,context:i,clientId:n,isSelected:s}){const[l,o]=(0,u.useState)(!1),{vertical:k}=e,{removeBlock:m,selectBlock:f}=(0,r.useDispatch)("core/block-editor"),{setClientId:h,setActiveUUIDPair:v}=(0,r.useDispatch)("prc-block/tabs-controller"),{menuBlocks:y,paneBlocks:g,matchedPaneClientId:I,activeUUID:B,isTyping:w}=(0,r.useSelect)((e=>{if(void 0===n)return;const t=e("prc-block/tabs-controller").getActiveUUID(n),i=e("core/block-editor").getBlocks(n),r=1<=i.length?i.filter((e=>"prc-block/tabs-menu"===e.name)):[],s=1<=i.length?i.filter((e=>"prc-block/tabs-panes"===e.name)):[];let l=!1;if(1<=s.length){const e=s[0].innerBlocks.filter((e=>e.attributes.uuid===t));1<=e.length&&(l=e[0].clientId)}return{menuBlocks:1<=r.length&&r[0].innerBlocks,paneBlocks:1<=s.length&&s[0].innerBlocks,matchedPaneClientId:l,activeUUID:t,isTyping:e("core/block-editor").isTyping()}}),[n]),_=(0,r.useSelect)((e=>s||e("core/block-editor").hasSelectedInnerBlock(n,!0)),[s,n]);(0,u.useEffect)((()=>{h(n),void 0===B&&1<=y.length&&v(n,y[0].attributes.uuid)}),[n,B,y,g]),(0,u.useEffect)((()=>{if(y.length<l.length){const e=((e,t)=>{const i=e=>t=>0===e.filter((e=>e.attributes.uuid===t.attributes.uuid)).length,n=e.filter(i(t)),r=t.filter(i(e));return n.concat(r)})(l,y),t=g.filter((t=>t.attributes.uuid===e[0].attributes.uuid));0!==t.length&&m(t[0].clientId)}o(y)}),[y]),(0,u.useEffect)((()=>{_&&void 0!==B&&f(I)}),[_,B,I]);const x=(0,b.useBlockProps)({className:c()({"is-vertical-tabs":k,"is-horizontal-tabs":!k})}),S=(0,b.useInnerBlocksProps)({},{allowedBlocks:p,renderAppender:!1,orientation:k?"vertical":"horizontal",template:d,__experimentalCaptureToolbars:!0});return(0,a.createElement)("div",{...x},(0,a.createElement)("div",{...S}))},save:function(){return(0,a.createElement)(b.InnerBlocks.Content,null)},variations:f,transforms:y};(0,r.register)(l),(0,n.registerBlockType)(I,{...g,...B})}},i={};function n(e){var r=i[e];if(void 0!==r)return r.exports;var s=i[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.m=t,e=[],n.O=(t,i,r,s)=>{if(!i){var l=1/0;for(u=0;u<e.length;u++){for(var[i,r,s]=e[u],a=!0,o=0;o<i.length;o++)(!1&s||l>=s)&&Object.keys(n.O).every((e=>n.O[e](i[o])))?i.splice(o--,1):(a=!1,s<l&&(l=s));if(a){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[i,r,s]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};n.O.j=t=>0===e[t];var t=(t,i)=>{var r,s,[l,a,o]=i,c=0;if(l.some((t=>0!==e[t]))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(o)var u=o(n)}for(t&&t(i);c<l.length;c++)s=l[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},i=globalThis.webpackChunktabs_controller=globalThis.webpackChunktabs_controller||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var r=n.O(void 0,[350],(()=>n(34)));r=n.O(r)})();
//# sourceMappingURL=index.js.map